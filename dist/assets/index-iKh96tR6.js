(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function hy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ym={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function JI(){if(C_)return Ve;C_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,V={};function k($,ee,J){this.props=$,this.context=ee,this.refs=V,this.updater=J||x}k.prototype.isReactComponent={},k.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},k.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=k.prototype;function F($,ee,J){this.props=$,this.context=ee,this.refs=V,this.updater=J||x}var B=F.prototype=new N;B.constructor=F,A(B,k.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,X=Object.prototype.hasOwnProperty,re={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function S($,ee,J){var ce,he={},Le=null,Ee=null;if(ee!=null)for(ce in ee.ref!==void 0&&(Ee=ee.ref),ee.key!==void 0&&(Le=""+ee.key),ee)X.call(ee,ce)&&!M.hasOwnProperty(ce)&&(he[ce]=ee[ce]);var Me=arguments.length-2;if(Me===1)he.children=J;else if(1<Me){for(var Xe=Array(Me),Ut=0;Ut<Me;Ut++)Xe[Ut]=arguments[Ut+2];he.children=Xe}if($&&$.defaultProps)for(ce in Me=$.defaultProps,Me)he[ce]===void 0&&(he[ce]=Me[ce]);return{$$typeof:t,type:$,key:Le,ref:Ee,props:he,_owner:re.current}}function P($,ee){return{$$typeof:t,type:$.type,key:ee,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(J){return ee[J]})}var z=/\/+/g;function I($,ee){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):ee.toString(36)}function Ae($,ee,J,ce,he){var Le=typeof $;(Le==="undefined"||Le==="boolean")&&($=null);var Ee=!1;if($===null)Ee=!0;else switch(Le){case"string":case"number":Ee=!0;break;case"object":switch($.$$typeof){case t:case e:Ee=!0}}if(Ee)return Ee=$,he=he(Ee),$=ce===""?"."+I(Ee,0):ce,Q(he)?(J="",$!=null&&(J=$.replace(z,"$&/")+"/"),Ae(he,ee,J,"",function(Ut){return Ut})):he!=null&&(D(he)&&(he=P(he,J+(!he.key||Ee&&Ee.key===he.key?"":(""+he.key).replace(z,"$&/")+"/")+$)),ee.push(he)),1;if(Ee=0,ce=ce===""?".":ce+":",Q($))for(var Me=0;Me<$.length;Me++){Le=$[Me];var Xe=ce+I(Le,Me);Ee+=Ae(Le,ee,J,Xe,he)}else if(Xe=_($),typeof Xe=="function")for($=Xe.call($),Me=0;!(Le=$.next()).done;)Le=Le.value,Xe=ce+I(Le,Me++),Ee+=Ae(Le,ee,J,Xe,he);else if(Le==="object")throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Ge($,ee,J){if($==null)return $;var ce=[],he=0;return Ae($,ce,"","",function(Le){return ee.call(J,Le,he++)}),ce}function Be($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(J){($._status===0||$._status===-1)&&($._status=1,$._result=J)},function(J){($._status===0||$._status===-1)&&($._status=2,$._result=J)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var Ce={current:null},oe={transition:null},ye={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:oe,ReactCurrentOwner:re};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Ge,forEach:function($,ee,J){Ge($,function(){ee.apply(this,arguments)},J)},count:function($){var ee=0;return Ge($,function(){ee++}),ee},toArray:function($){return Ge($,function(ee){return ee})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ve.Component=k,Ve.Fragment=n,Ve.Profiler=s,Ve.PureComponent=F,Ve.StrictMode=r,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ve.act=ue,Ve.cloneElement=function($,ee,J){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ce=A({},$.props),he=$.key,Le=$.ref,Ee=$._owner;if(ee!=null){if(ee.ref!==void 0&&(Le=ee.ref,Ee=re.current),ee.key!==void 0&&(he=""+ee.key),$.type&&$.type.defaultProps)var Me=$.type.defaultProps;for(Xe in ee)X.call(ee,Xe)&&!M.hasOwnProperty(Xe)&&(ce[Xe]=ee[Xe]===void 0&&Me!==void 0?Me[Xe]:ee[Xe])}var Xe=arguments.length-2;if(Xe===1)ce.children=J;else if(1<Xe){Me=Array(Xe);for(var Ut=0;Ut<Xe;Ut++)Me[Ut]=arguments[Ut+2];ce.children=Me}return{$$typeof:t,type:$.type,key:he,ref:Le,props:ce,_owner:Ee}},Ve.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ve.createElement=S,Ve.createFactory=function($){var ee=S.bind(null,$);return ee.type=$,ee},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function($){return{$$typeof:c,render:$}},Ve.isValidElement=D,Ve.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:Be}},Ve.memo=function($,ee){return{$$typeof:p,type:$,compare:ee===void 0?null:ee}},Ve.startTransition=function($){var ee=oe.transition;oe.transition={};try{$()}finally{oe.transition=ee}},Ve.unstable_act=ue,Ve.useCallback=function($,ee){return Ce.current.useCallback($,ee)},Ve.useContext=function($){return Ce.current.useContext($)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function($){return Ce.current.useDeferredValue($)},Ve.useEffect=function($,ee){return Ce.current.useEffect($,ee)},Ve.useId=function(){return Ce.current.useId()},Ve.useImperativeHandle=function($,ee,J){return Ce.current.useImperativeHandle($,ee,J)},Ve.useInsertionEffect=function($,ee){return Ce.current.useInsertionEffect($,ee)},Ve.useLayoutEffect=function($,ee){return Ce.current.useLayoutEffect($,ee)},Ve.useMemo=function($,ee){return Ce.current.useMemo($,ee)},Ve.useReducer=function($,ee,J){return Ce.current.useReducer($,ee,J)},Ve.useRef=function($){return Ce.current.useRef($)},Ve.useState=function($){return Ce.current.useState($)},Ve.useSyncExternalStore=function($,ee,J){return Ce.current.useSyncExternalStore($,ee,J)},Ve.useTransition=function(){return Ce.current.useTransition()},Ve.version="18.3.1",Ve}var S_;function dy(){return S_||(S_=1,ym.exports=JI()),ym.exports}var L=dy();const b=hy(L);var Yh={},wm={exports:{}},Pn={},vm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function ZI(){return k_||(k_=1,function(t){function e(oe,ye){var ue=oe.length;oe.push(ye);e:for(;0<ue;){var $=ue-1>>>1,ee=oe[$];if(0<s(ee,ye))oe[$]=ye,oe[ue]=ee,ue=$;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ye=oe[0],ue=oe.pop();if(ue!==ye){oe[0]=ue;e:for(var $=0,ee=oe.length,J=ee>>>1;$<J;){var ce=2*($+1)-1,he=oe[ce],Le=ce+1,Ee=oe[Le];if(0>s(he,ue))Le<ee&&0>s(Ee,he)?(oe[$]=Ee,oe[Le]=ue,$=Le):(oe[$]=he,oe[ce]=ue,$=ce);else if(Le<ee&&0>s(Ee,ue))oe[$]=Ee,oe[Le]=ue,$=Le;else break e}}return ye}function s(oe,ye){var ue=oe.sortIndex-ye.sortIndex;return ue!==0?ue:oe.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,v=null,_=3,x=!1,A=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(oe){for(var ye=n(p);ye!==null;){if(ye.callback===null)r(p);else if(ye.startTime<=oe)r(p),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=n(p)}}function Q(oe){if(V=!1,B(oe),!A)if(n(f)!==null)A=!0,Be(X);else{var ye=n(p);ye!==null&&Ce(Q,ye.startTime-oe)}}function X(oe,ye){A=!1,V&&(V=!1,N(S),S=-1),x=!0;var ue=_;try{for(B(ye),v=n(f);v!==null&&(!(v.expirationTime>ye)||oe&&!U());){var $=v.callback;if(typeof $=="function"){v.callback=null,_=v.priorityLevel;var ee=$(v.expirationTime<=ye);ye=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(f)&&r(f),B(ye)}else r(f);v=n(f)}if(v!==null)var J=!0;else{var ce=n(p);ce!==null&&Ce(Q,ce.startTime-ye),J=!1}return J}finally{v=null,_=ue,x=!1}}var re=!1,M=null,S=-1,P=5,D=-1;function U(){return!(t.unstable_now()-D<P)}function z(){if(M!==null){var oe=t.unstable_now();D=oe;var ye=!0;try{ye=M(!0,oe)}finally{ye?I():(re=!1,M=null)}}else re=!1}var I;if(typeof F=="function")I=function(){F(z)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ge=Ae.port2;Ae.port1.onmessage=z,I=function(){Ge.postMessage(null)}}else I=function(){k(z,0)};function Be(oe){M=oe,re||(re=!0,I())}function Ce(oe,ye){S=k(function(){oe(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){A||x||(A=!0,Be(X))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(oe){switch(_){case 1:case 2:case 3:var ye=3;break;default:ye=_}var ue=_;_=ye;try{return oe()}finally{_=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,ye){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=_;_=oe;try{return ye()}finally{_=ue}},t.unstable_scheduleCallback=function(oe,ye,ue){var $=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?$+ue:$):ue=$,oe){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,oe={id:g++,callback:ye,priorityLevel:oe,startTime:ue,expirationTime:ee,sortIndex:-1},ue>$?(oe.sortIndex=ue,e(p,oe),n(f)===null&&oe===n(p)&&(V?(N(S),S=-1):V=!0,Ce(Q,ue-$))):(oe.sortIndex=ee,e(f,oe),A||x||(A=!0,Be(X))),oe},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(oe){var ye=_;return function(){var ue=_;_=ye;try{return oe.apply(this,arguments)}finally{_=ue}}}}(_m)),_m}var I_;function eP(){return I_||(I_=1,vm.exports=ZI()),vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function tP(){if(P_)return Pn;P_=1;var t=dy(),e=eP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(i){return f.call(v,i)?!0:f.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function x(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,u,d){if(o===null||typeof o>"u"||x(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(i,o,u,d,m,w,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new V(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new V(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new V(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new V(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new V(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new V(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new V(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new V(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new V(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(N,F);k[o]=new V(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(N,F);k[o]=new V(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(N,F);k[o]=new V(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,u,d){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,m,d)&&(u=null),d||m===null?_(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),re=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,$;function ee(i){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var J=!1;function ce(i,o){if(!i||J)return"";J=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),w=d.stack.split(`
`),T=m.length-1,R=w.length-1;1<=T&&0<=R&&m[T]!==w[R];)R--;for(;1<=T&&0<=R;T--,R--)if(m[T]!==w[R]){if(T!==1||R!==1)do if(T--,R--,0>R||m[T]!==w[R]){var O=`
`+m[T].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=T&&0<=R);break}}}finally{J=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function he(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=ce(i.type,!1),i;case 11:return i=ce(i.type.render,!1),i;case 1:return i=ce(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case re:return"Portal";case P:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case Ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case U:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ge:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case Be:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function Ee(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ut(i){var o=Xe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,w.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ai(i){i._valueTracker||(i._valueTracker=Ut(i))}function qo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=Xe(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function $i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Bs(i,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Ko(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Me(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Il(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function Pl(i,o){Il(i,o);var u=Me(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Go(i,o.type,u):o.hasOwnProperty("defaultValue")&&Go(i,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Lc(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Go(i,o,u){(o!=="number"||$i(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var li=Array.isArray;function ui(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Me(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Al(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Yo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(li(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Me(u)}}function Qo(i,o){var u=Me(o.value),d=Me(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function Rl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Nt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Nt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ci,Nl=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ci=ci||document.createElement("div"),ci.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ci.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Wi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zs=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(i){zs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),js[o]=js[i]})});function Dl(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||js.hasOwnProperty(i)&&js[i]?(""+o).trim():o+"px"}function Ll(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Dl(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var Vl=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ml(i,o){if(o){if(Vl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ol(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function Xo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Jo=null,qn=null,Nr=null;function Zo(i){if(i=au(i)){if(typeof Jo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=ch(o),Jo(i.stateNode,i.type,o))}}function Dr(i){qn?Nr?Nr.push(i):Nr=[i]:qn=i}function Fl(){if(qn){var i=qn,o=Nr;if(Nr=qn=null,Zo(i),o)for(i=0;i<o.length;i++)Zo(o[i])}}function Ws(i,o){return i(o)}function Ul(){}var hi=!1;function Bl(i,o,u){if(hi)return i(o,u);hi=!0;try{return Ws(i,o,u)}finally{hi=!1,(qn!==null||Nr!==null)&&(Ul(),Fl())}}function wt(i,o){var u=i.stateNode;if(u===null)return null;var d=ch(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var ea=!1;if(c)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{ea=!1}function Hs(i,o,u,d,m,w,T,R,O){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(ie){this.onError(ie)}}var qs=!1,ta=null,cr=!1,jl=null,Hf={onError:function(i){qs=!0,ta=i}};function na(i,o,u,d,m,w,T,R,O){qs=!1,ta=null,Hs.apply(Hf,arguments)}function Vc(i,o,u,d,m,w,T,R,O){if(na.apply(this,arguments),qs){if(qs){var K=ta;qs=!1,ta=null}else throw Error(n(198));cr||(cr=!0,jl=K)}}function hr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ks(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function dr(i){if(hr(i)!==i)throw Error(n(188))}function Mc(i){var o=i.alternate;if(!o){if(o=hr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var w=m.alternate;if(w===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===u)return dr(m),i;if(w===d)return dr(m),o;w=w.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=w;else{for(var T=!1,R=m.child;R;){if(R===u){T=!0,u=m,d=w;break}if(R===d){T=!0,d=m,u=w;break}R=R.sibling}if(!T){for(R=w.child;R;){if(R===u){T=!0,u=w,d=m;break}if(R===d){T=!0,d=w,u=m;break}R=R.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function zl(i){return i=Mc(i),i!==null?ra(i):null}function ra(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ra(i);if(o!==null)return o;i=i.sibling}return null}var ia=e.unstable_scheduleCallback,$l=e.unstable_cancelCallback,Oc=e.unstable_shouldYield,qf=e.unstable_requestPaint,Ze=e.unstable_now,Fc=e.unstable_getCurrentPriorityLevel,Gs=e.unstable_ImmediatePriority,Hi=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,Wl=e.unstable_LowPriority,Uc=e.unstable_IdlePriority,Ys=null,Ln=null;function Bc(i){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Ys,i,void 0,(i.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:zc,Hl=Math.log,jc=Math.LN2;function zc(i){return i>>>=0,i===0?32:31-(Hl(i)/jc|0)|0}var sa=64,oa=4194304;function qi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Qs(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,w=i.pingedLanes,T=u&268435455;if(T!==0){var R=T&~m;R!==0?d=qi(R):(w&=T,w!==0&&(d=qi(w)))}else T=u&~m,T!==0?d=qi(T):w!==0&&(d=qi(w));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,w=o&-o,m>=w||m===16&&(w&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-pn(o),m=1<<u,d|=i[u],o&=~m;return d}function Kf(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,w=i.pendingLanes;0<w;){var T=31-pn(w),R=1<<T,O=m[T];O===-1?((R&u)===0||(R&d)!==0)&&(m[T]=Kf(R,o)):O<=o&&(i.expiredLanes|=R),w&=~R}}function Vn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Xs(){var i=sa;return sa<<=1,(sa&4194240)===0&&(sa=64),i}function Ki(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Gi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-pn(o),i[o]=u}function Je(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-pn(u),w=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~w}}function Yi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-pn(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var je=0;function Qi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var $c,aa,Wc,Hc,qc,ql=!1,Lr=[],Gt=null,fr=null,pr=null,Xi=new Map,Gn=new Map,Vr=[],Gf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(i,o){switch(i){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(o.pointerId)}}function bn(i,o,u,d,m,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:w,targetContainers:[m]},o!==null&&(o=au(o),o!==null&&aa(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Yf(i,o,u,d,m){switch(o){case"focusin":return Gt=bn(Gt,i,o,u,d,m),!0;case"dragenter":return fr=bn(fr,i,o,u,d,m),!0;case"mouseover":return pr=bn(pr,i,o,u,d,m),!0;case"pointerover":var w=m.pointerId;return Xi.set(w,bn(Xi.get(w)||null,i,o,u,d,m)),!0;case"gotpointercapture":return w=m.pointerId,Gn.set(w,bn(Gn.get(w)||null,i,o,u,d,m)),!0}return!1}function Gc(i){var o=no(i.target);if(o!==null){var u=hr(o);if(u!==null){if(o=u.tag,o===13){if(o=Ks(u),o!==null){i.blockedOn=o,qc(i.priority,function(){Wc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=la(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);$s=d,u.target.dispatchEvent(d),$s=null}else return o=au(u),o!==null&&aa(o),i.blockedOn=u,!1;o.shift()}return!0}function Js(i,o,u){fi(i)&&u.delete(o)}function Yc(){ql=!1,Gt!==null&&fi(Gt)&&(Gt=null),fr!==null&&fi(fr)&&(fr=null),pr!==null&&fi(pr)&&(pr=null),Xi.forEach(Js),Gn.forEach(Js)}function mr(i,o){i.blockedOn===o&&(i.blockedOn=null,ql||(ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yc)))}function gr(i){function o(m){return mr(m,i)}if(0<Lr.length){mr(Lr[0],i);for(var u=1;u<Lr.length;u++){var d=Lr[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Gt!==null&&mr(Gt,i),fr!==null&&mr(fr,i),pr!==null&&mr(pr,i),Xi.forEach(o),Gn.forEach(o),u=0;u<Vr.length;u++)d=Vr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<Vr.length&&(u=Vr[0],u.blockedOn===null);)Gc(u),u.blockedOn===null&&Vr.shift()}var pi=Q.ReactCurrentBatchConfig,Ji=!0;function ot(i,o,u,d){var m=je,w=pi.transition;pi.transition=null;try{je=1,Kl(i,o,u,d)}finally{je=m,pi.transition=w}}function Qf(i,o,u,d){var m=je,w=pi.transition;pi.transition=null;try{je=4,Kl(i,o,u,d)}finally{je=m,pi.transition=w}}function Kl(i,o,u,d){if(Ji){var m=la(i,o,u,d);if(m===null)ap(i,o,d,Zs,u),Kc(i,d);else if(Yf(m,i,o,u,d))d.stopPropagation();else if(Kc(i,d),o&4&&-1<Gf.indexOf(i)){for(;m!==null;){var w=au(m);if(w!==null&&$c(w),w=la(i,o,u,d),w===null&&ap(i,o,d,Zs,u),w===m)break;m=w}m!==null&&d.stopPropagation()}else ap(i,o,d,null,u)}}var Zs=null;function la(i,o,u,d){if(Zs=null,i=Xo(d),i=no(i),i!==null)if(o=hr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ks(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Zs=i,null}function Gl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fc()){case Gs:return 1;case Hi:return 4;case Kn:case Wl:return 16;case Uc:return 536870912;default:return 16}default:return 16}}var Mn=null,ua=null,Tn=null;function Yl(){if(Tn)return Tn;var i,o=ua,u=o.length,d,m="value"in Mn?Mn.value:Mn.textContent,w=m.length;for(i=0;i<u&&o[i]===m[i];i++);var T=u-i;for(d=1;d<=T&&o[u-d]===m[w-d];d++);return Tn=m.slice(i,1<d?1-d:void 0)}function ca(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Mr(){return!0}function Ql(){return!1}function Yt(i){function o(u,d,m,w,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(w):w[R]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Mr:Ql,this.isPropagationStopped=Ql,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),o}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Yt(yr),Or=ue({},yr,{view:0,detail:0}),Xf=Yt(Or),da,mi,Zi,eo=ue({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zi&&(Zi&&i.type==="mousemove"?(da=i.screenX-Zi.screenX,mi=i.screenY-Zi.screenY):mi=da=0,Zi=i),da)},movementY:function(i){return"movementY"in i?i.movementY:mi}}),fa=Yt(eo),Xl=ue({},eo,{dataTransfer:0}),Qc=Yt(Xl),pa=ue({},Or,{relatedTarget:0}),ma=Yt(pa),Xc=ue({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),gi=Yt(Xc),Jc=ue({},yr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zc=Yt(Jc),eh=ue({},yr,{data:0}),Jl=Yt(eh),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=th[i])?!!o[i]:!1}function Fr(){return nh}var h=ue({},Or,{key:function(i){if(i.key){var o=ga[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ca(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(i){return i.type==="keypress"?ca(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ca(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Yt(h),E=ue({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Yt(E),W=ue({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),G=Yt(W),le=ue({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Yt(le),Lt=ue({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Yt(Lt),Bt=[9,13,27,32],Ct=c&&"CompositionEvent"in window,Yn=null;c&&"documentMode"in document&&(Yn=document.documentMode);var On=c&&"TextEvent"in window&&!Yn,to=c&&(!Ct||Yn&&8<Yn&&11>=Yn),ya=" ",vv=!1;function _v(i,o){switch(i){case"keyup":return Bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ev(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wa=!1;function Yk(i,o){switch(i){case"compositionend":return Ev(o);case"keypress":return o.which!==32?null:(vv=!0,ya);case"textInput":return i=o.data,i===ya&&vv?null:i;default:return null}}function Qk(i,o){if(wa)return i==="compositionend"||!Ct&&_v(i,o)?(i=Yl(),Tn=ua=Mn=null,wa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return to&&o.locale!=="ko"?null:o.data;default:return null}}var Xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Xk[i.type]:o==="textarea"}function Tv(i,o,u,d){Dr(d),o=ah(o,"onChange"),0<o.length&&(u=new ha("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var Zl=null,eu=null;function Jk(i){jv(i,0)}function rh(i){var o=Ta(i);if(qo(o))return i}function Zk(i,o){if(i==="change")return o}var xv=!1;if(c){var Jf;if(c){var Zf="oninput"in document;if(!Zf){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),Zf=typeof Cv.oninput=="function"}Jf=Zf}else Jf=!1;xv=Jf&&(!document.documentMode||9<document.documentMode)}function Sv(){Zl&&(Zl.detachEvent("onpropertychange",kv),eu=Zl=null)}function kv(i){if(i.propertyName==="value"&&rh(eu)){var o=[];Tv(o,eu,i,Xo(i)),Bl(Jk,o)}}function eI(i,o,u){i==="focusin"?(Sv(),Zl=o,eu=u,Zl.attachEvent("onpropertychange",kv)):i==="focusout"&&Sv()}function tI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rh(eu)}function nI(i,o){if(i==="click")return rh(o)}function rI(i,o){if(i==="input"||i==="change")return rh(o)}function iI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var wr=typeof Object.is=="function"?Object.is:iI;function tu(i,o){if(wr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!wr(i[m],o[m]))return!1}return!0}function Iv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pv(i,o){var u=Iv(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Iv(u)}}function Av(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Av(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Rv(){for(var i=window,o=$i();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=$i(i.document)}return o}function ep(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function sI(i){var o=Rv(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Av(u.ownerDocument.documentElement,u)){if(d!==null&&ep(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,w=Math.min(d.start,m);d=d.end===void 0?w:Math.min(d.end,m),!i.extend&&w>d&&(m=d,d=w,w=m),m=Pv(u,w);var T=Pv(u,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),w>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var oI=c&&"documentMode"in document&&11>=document.documentMode,va=null,tp=null,nu=null,np=!1;function Nv(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;np||va==null||va!==$i(d)||(d=va,"selectionStart"in d&&ep(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),nu&&tu(nu,d)||(nu=d,d=ah(tp,"onSelect"),0<d.length&&(o=new ha("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=va)))}function ih(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var _a={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},rp={},Dv={};c&&(Dv=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function sh(i){if(rp[i])return rp[i];if(!_a[i])return i;var o=_a[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Dv)return rp[i]=o[u];return i}var Lv=sh("animationend"),Vv=sh("animationiteration"),Mv=sh("animationstart"),Ov=sh("transitionend"),Fv=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(i,o){Fv.set(i,o),a(o,[i])}for(var ip=0;ip<Uv.length;ip++){var sp=Uv[ip],aI=sp.toLowerCase(),lI=sp[0].toUpperCase()+sp.slice(1);es(aI,"on"+lI)}es(Lv,"onAnimationEnd"),es(Vv,"onAnimationIteration"),es(Mv,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(Ov,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function Bv(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,Vc(d,o,void 0,i),i.currentTarget=null}function jv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var w=void 0;if(o)for(var T=d.length-1;0<=T;T--){var R=d[T],O=R.instance,K=R.currentTarget;if(R=R.listener,O!==w&&m.isPropagationStopped())break e;Bv(m,R,K),w=O}else for(T=0;T<d.length;T++){if(R=d[T],O=R.instance,K=R.currentTarget,R=R.listener,O!==w&&m.isPropagationStopped())break e;Bv(m,R,K),w=O}}}if(cr)throw i=jl,cr=!1,jl=null,i}function rt(i,o){var u=o[fp];u===void 0&&(u=o[fp]=new Set);var d=i+"__bubble";u.has(d)||(zv(o,i,2,!1),u.add(d))}function op(i,o,u){var d=0;o&&(d|=4),zv(u,i,d,o)}var oh="_reactListening"+Math.random().toString(36).slice(2);function iu(i){if(!i[oh]){i[oh]=!0,r.forEach(function(u){u!=="selectionchange"&&(uI.has(u)||op(u,!1,i),op(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[oh]||(o[oh]=!0,op("selectionchange",!1,o))}}function zv(i,o,u,d){switch(Gl(o)){case 1:var m=ot;break;case 4:m=Qf;break;default:m=Kl}u=m.bind(null,o,u,i),m=void 0,!ea||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function ap(i,o,u,d,m){var w=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var R=d.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var O=T.tag;if((O===3||O===4)&&(O=T.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;T=T.return}for(;R!==null;){if(T=no(R),T===null)return;if(O=T.tag,O===5||O===6){d=w=T;continue e}R=R.parentNode}}d=d.return}Bl(function(){var K=w,ie=Xo(u),se=[];e:{var ne=Fv.get(i);if(ne!==void 0){var de=ha,ge=i;switch(i){case"keypress":if(ca(u)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":ge="focus",de=ma;break;case"focusout":ge="blur",de=ma;break;case"beforeblur":case"afterblur":de=ma;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=G;break;case Lv:case Vv:case Mv:de=gi;break;case Ov:de=Qe;break;case"scroll":de=Xf;break;case"wheel":de=ze;break;case"copy":case"cut":case"paste":de=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=C}var we=(o&4)!==0,vt=!we&&i==="scroll",H=we?ne!==null?ne+"Capture":null:ne;we=[];for(var j=K,q;j!==null;){q=j;var ae=q.stateNode;if(q.tag===5&&ae!==null&&(q=ae,H!==null&&(ae=wt(j,H),ae!=null&&we.push(su(j,ae,q)))),vt)break;j=j.return}0<we.length&&(ne=new de(ne,ge,null,u,ie),se.push({event:ne,listeners:we}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ne&&u!==$s&&(ge=u.relatedTarget||u.fromElement)&&(no(ge)||ge[yi]))break e;if((de||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(ge=u.relatedTarget||u.toElement,de=K,ge=ge?no(ge):null,ge!==null&&(vt=hr(ge),ge!==vt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=K),de!==ge)){if(we=fa,ae="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(we=C,ae="onPointerLeave",H="onPointerEnter",j="pointer"),vt=de==null?ne:Ta(de),q=ge==null?ne:Ta(ge),ne=new we(ae,j+"leave",de,u,ie),ne.target=vt,ne.relatedTarget=q,ae=null,no(ie)===K&&(we=new we(H,j+"enter",ge,u,ie),we.target=q,we.relatedTarget=vt,ae=we),vt=ae,de&&ge)t:{for(we=de,H=ge,j=0,q=we;q;q=Ea(q))j++;for(q=0,ae=H;ae;ae=Ea(ae))q++;for(;0<j-q;)we=Ea(we),j--;for(;0<q-j;)H=Ea(H),q--;for(;j--;){if(we===H||H!==null&&we===H.alternate)break t;we=Ea(we),H=Ea(H)}we=null}else we=null;de!==null&&$v(se,ne,de,we,!1),ge!==null&&vt!==null&&$v(se,vt,ge,we,!0)}}e:{if(ne=K?Ta(K):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var ve=Zk;else if(bv(ne))if(xv)ve=rI;else{ve=tI;var be=eI}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ve=nI);if(ve&&(ve=ve(i,K))){Tv(se,ve,u,ie);break e}be&&be(i,ne,K),i==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&Go(ne,"number",ne.value)}switch(be=K?Ta(K):window,i){case"focusin":(bv(be)||be.contentEditable==="true")&&(va=be,tp=K,nu=null);break;case"focusout":nu=tp=va=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,Nv(se,u,ie);break;case"selectionchange":if(oI)break;case"keydown":case"keyup":Nv(se,u,ie)}var Te;if(Ct)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else wa?_v(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(to&&u.locale!=="ko"&&(wa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&wa&&(Te=Yl()):(Mn=ie,ua="value"in Mn?Mn.value:Mn.textContent,wa=!0)),be=ah(K,Re),0<be.length&&(Re=new Jl(Re,i,null,u,ie),se.push({event:Re,listeners:be}),Te?Re.data=Te:(Te=Ev(u),Te!==null&&(Re.data=Te)))),(Te=On?Yk(i,u):Qk(i,u))&&(K=ah(K,"onBeforeInput"),0<K.length&&(ie=new Jl("onBeforeInput","beforeinput",null,u,ie),se.push({event:ie,listeners:K}),ie.data=Te))}jv(se,o)})}function su(i,o,u){return{instance:i,listener:o,currentTarget:u}}function ah(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=wt(i,u),w!=null&&d.unshift(su(i,w,m)),w=wt(i,o),w!=null&&d.push(su(i,w,m))),i=i.return}return d}function Ea(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function $v(i,o,u,d,m){for(var w=o._reactName,T=[];u!==null&&u!==d;){var R=u,O=R.alternate,K=R.stateNode;if(O!==null&&O===d)break;R.tag===5&&K!==null&&(R=K,m?(O=wt(u,w),O!=null&&T.unshift(su(u,O,R))):m||(O=wt(u,w),O!=null&&T.push(su(u,O,R)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var cI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function Wv(i){return(typeof i=="string"?i:""+i).replace(cI,`
`).replace(hI,"")}function lh(i,o,u){if(o=Wv(o),Wv(i)!==o&&u)throw Error(n(425))}function uh(){}var lp=null,up=null;function cp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,dI=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,fI=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(i){return Hv.resolve(null).then(i).catch(pI)}:hp;function pI(i){setTimeout(function(){throw i})}function dp(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),gr(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);gr(o)}function ts(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function qv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ba=Math.random().toString(36).slice(2),Ur="__reactFiber$"+ba,ou="__reactProps$"+ba,yi="__reactContainer$"+ba,fp="__reactEvents$"+ba,mI="__reactListeners$"+ba,gI="__reactHandles$"+ba;function no(i){var o=i[Ur];if(o)return o;for(var u=i.parentNode;u;){if(o=u[yi]||u[Ur]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=qv(i);i!==null;){if(u=i[Ur])return u;i=qv(i)}return o}i=u,u=i.parentNode}return null}function au(i){return i=i[Ur]||i[yi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ta(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function ch(i){return i[ou]||null}var pp=[],xa=-1;function ns(i){return{current:i}}function it(i){0>xa||(i.current=pp[xa],pp[xa]=null,xa--)}function et(i,o){xa++,pp[xa]=i.current,i.current=o}var rs={},nn=ns(rs),xn=ns(!1),ro=rs;function Ca(i,o){var u=i.type.contextTypes;if(!u)return rs;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in u)m[w]=o[w];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Cn(i){return i=i.childContextTypes,i!=null}function hh(){it(xn),it(nn)}function Kv(i,o,u){if(nn.current!==rs)throw Error(n(168));et(nn,o),et(xn,u)}function Gv(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,Ee(i)||"Unknown",m));return ue({},u,d)}function dh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||rs,ro=nn.current,et(nn,i),et(xn,xn.current),!0}function Yv(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=Gv(i,o,ro),d.__reactInternalMemoizedMergedChildContext=i,it(xn),it(nn),et(nn,i)):it(xn),et(xn,u)}var wi=null,fh=!1,mp=!1;function Qv(i){wi===null?wi=[i]:wi.push(i)}function yI(i){fh=!0,Qv(i)}function is(){if(!mp&&wi!==null){mp=!0;var i=0,o=je;try{var u=wi;for(je=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}wi=null,fh=!1}catch(m){throw wi!==null&&(wi=wi.slice(i+1)),ia(Gs,is),m}finally{je=o,mp=!1}}return null}var Sa=[],ka=0,ph=null,mh=0,Qn=[],Xn=0,io=null,vi=1,_i="";function so(i,o){Sa[ka++]=mh,Sa[ka++]=ph,ph=i,mh=o}function Xv(i,o,u){Qn[Xn++]=vi,Qn[Xn++]=_i,Qn[Xn++]=io,io=i;var d=vi;i=_i;var m=32-pn(d)-1;d&=~(1<<m),u+=1;var w=32-pn(o)+m;if(30<w){var T=m-m%5;w=(d&(1<<T)-1).toString(32),d>>=T,m-=T,vi=1<<32-pn(o)+m|u<<m|d,_i=w+i}else vi=1<<w|u<<m|d,_i=i}function gp(i){i.return!==null&&(so(i,1),Xv(i,1,0))}function yp(i){for(;i===ph;)ph=Sa[--ka],Sa[ka]=null,mh=Sa[--ka],Sa[ka]=null;for(;i===io;)io=Qn[--Xn],Qn[Xn]=null,_i=Qn[--Xn],Qn[Xn]=null,vi=Qn[--Xn],Qn[Xn]=null}var Fn=null,Un=null,at=!1,vr=null;function Jv(i,o){var u=tr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Zv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Fn=i,Un=ts(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Fn=i,Un=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=io!==null?{id:vi,overflow:_i}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=tr(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Fn=i,Un=null,!0):!1;default:return!1}}function wp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function vp(i){if(at){var o=Un;if(o){var u=o;if(!Zv(i,o)){if(wp(i))throw Error(n(418));o=ts(u.nextSibling);var d=Fn;o&&Zv(i,o)?Jv(d,u):(i.flags=i.flags&-4097|2,at=!1,Fn=i)}}else{if(wp(i))throw Error(n(418));i.flags=i.flags&-4097|2,at=!1,Fn=i}}}function e0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Fn=i}function gh(i){if(i!==Fn)return!1;if(!at)return e0(i),at=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!cp(i.type,i.memoizedProps)),o&&(o=Un)){if(wp(i))throw t0(),Error(n(418));for(;o;)Jv(i,o),o=ts(o.nextSibling)}if(e0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Un=ts(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Un=null}}else Un=Fn?ts(i.stateNode.nextSibling):null;return!0}function t0(){for(var i=Un;i;)i=ts(i.nextSibling)}function Ia(){Un=Fn=null,at=!1}function _p(i){vr===null?vr=[i]:vr.push(i)}var wI=Q.ReactCurrentBatchConfig;function lu(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var m=d,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(T){var R=m.refs;T===null?delete R[w]:R[w]=T},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function yh(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function n0(i){var o=i._init;return o(i._payload)}function r0(i){function o(H,j){if(i){var q=H.deletions;q===null?(H.deletions=[j],H.flags|=16):q.push(j)}}function u(H,j){if(!i)return null;for(;j!==null;)o(H,j),j=j.sibling;return null}function d(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function m(H,j){return H=ds(H,j),H.index=0,H.sibling=null,H}function w(H,j,q){return H.index=q,i?(q=H.alternate,q!==null?(q=q.index,q<j?(H.flags|=2,j):q):(H.flags|=2,j)):(H.flags|=1048576,j)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function R(H,j,q,ae){return j===null||j.tag!==6?(j=hm(q,H.mode,ae),j.return=H,j):(j=m(j,q),j.return=H,j)}function O(H,j,q,ae){var ve=q.type;return ve===M?ie(H,j,q.props.children,ae,q.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Be&&n0(ve)===j.type)?(ae=m(j,q.props),ae.ref=lu(H,j,q),ae.return=H,ae):(ae=jh(q.type,q.key,q.props,null,H.mode,ae),ae.ref=lu(H,j,q),ae.return=H,ae)}function K(H,j,q,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=dm(q,H.mode,ae),j.return=H,j):(j=m(j,q.children||[]),j.return=H,j)}function ie(H,j,q,ae,ve){return j===null||j.tag!==7?(j=po(q,H.mode,ae,ve),j.return=H,j):(j=m(j,q),j.return=H,j)}function se(H,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=hm(""+j,H.mode,q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return q=jh(j.type,j.key,j.props,null,H.mode,q),q.ref=lu(H,null,j),q.return=H,q;case re:return j=dm(j,H.mode,q),j.return=H,j;case Be:var ae=j._init;return se(H,ae(j._payload),q)}if(li(j)||ye(j))return j=po(j,H.mode,q,null),j.return=H,j;yh(H,j)}return null}function ne(H,j,q,ae){var ve=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:R(H,j,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return q.key===ve?O(H,j,q,ae):null;case re:return q.key===ve?K(H,j,q,ae):null;case Be:return ve=q._init,ne(H,j,ve(q._payload),ae)}if(li(q)||ye(q))return ve!==null?null:ie(H,j,q,ae,null);yh(H,q)}return null}function de(H,j,q,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(q)||null,R(j,H,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case X:return H=H.get(ae.key===null?q:ae.key)||null,O(j,H,ae,ve);case re:return H=H.get(ae.key===null?q:ae.key)||null,K(j,H,ae,ve);case Be:var be=ae._init;return de(H,j,q,be(ae._payload),ve)}if(li(ae)||ye(ae))return H=H.get(q)||null,ie(j,H,ae,ve,null);yh(j,ae)}return null}function ge(H,j,q,ae){for(var ve=null,be=null,Te=j,Re=j=0,$t=null;Te!==null&&Re<q.length;Re++){Te.index>Re?($t=Te,Te=null):$t=Te.sibling;var He=ne(H,Te,q[Re],ae);if(He===null){Te===null&&(Te=$t);break}i&&Te&&He.alternate===null&&o(H,Te),j=w(He,j,Re),be===null?ve=He:be.sibling=He,be=He,Te=$t}if(Re===q.length)return u(H,Te),at&&so(H,Re),ve;if(Te===null){for(;Re<q.length;Re++)Te=se(H,q[Re],ae),Te!==null&&(j=w(Te,j,Re),be===null?ve=Te:be.sibling=Te,be=Te);return at&&so(H,Re),ve}for(Te=d(H,Te);Re<q.length;Re++)$t=de(Te,H,Re,q[Re],ae),$t!==null&&(i&&$t.alternate!==null&&Te.delete($t.key===null?Re:$t.key),j=w($t,j,Re),be===null?ve=$t:be.sibling=$t,be=$t);return i&&Te.forEach(function(fs){return o(H,fs)}),at&&so(H,Re),ve}function we(H,j,q,ae){var ve=ye(q);if(typeof ve!="function")throw Error(n(150));if(q=ve.call(q),q==null)throw Error(n(151));for(var be=ve=null,Te=j,Re=j=0,$t=null,He=q.next();Te!==null&&!He.done;Re++,He=q.next()){Te.index>Re?($t=Te,Te=null):$t=Te.sibling;var fs=ne(H,Te,He.value,ae);if(fs===null){Te===null&&(Te=$t);break}i&&Te&&fs.alternate===null&&o(H,Te),j=w(fs,j,Re),be===null?ve=fs:be.sibling=fs,be=fs,Te=$t}if(He.done)return u(H,Te),at&&so(H,Re),ve;if(Te===null){for(;!He.done;Re++,He=q.next())He=se(H,He.value,ae),He!==null&&(j=w(He,j,Re),be===null?ve=He:be.sibling=He,be=He);return at&&so(H,Re),ve}for(Te=d(H,Te);!He.done;Re++,He=q.next())He=de(Te,H,Re,He.value,ae),He!==null&&(i&&He.alternate!==null&&Te.delete(He.key===null?Re:He.key),j=w(He,j,Re),be===null?ve=He:be.sibling=He,be=He);return i&&Te.forEach(function(XI){return o(H,XI)}),at&&so(H,Re),ve}function vt(H,j,q,ae){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case X:e:{for(var ve=q.key,be=j;be!==null;){if(be.key===ve){if(ve=q.type,ve===M){if(be.tag===7){u(H,be.sibling),j=m(be,q.props.children),j.return=H,H=j;break e}}else if(be.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Be&&n0(ve)===be.type){u(H,be.sibling),j=m(be,q.props),j.ref=lu(H,be,q),j.return=H,H=j;break e}u(H,be);break}else o(H,be);be=be.sibling}q.type===M?(j=po(q.props.children,H.mode,ae,q.key),j.return=H,H=j):(ae=jh(q.type,q.key,q.props,null,H.mode,ae),ae.ref=lu(H,j,q),ae.return=H,H=ae)}return T(H);case re:e:{for(be=q.key;j!==null;){if(j.key===be)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){u(H,j.sibling),j=m(j,q.children||[]),j.return=H,H=j;break e}else{u(H,j);break}else o(H,j);j=j.sibling}j=dm(q,H.mode,ae),j.return=H,H=j}return T(H);case Be:return be=q._init,vt(H,j,be(q._payload),ae)}if(li(q))return ge(H,j,q,ae);if(ye(q))return we(H,j,q,ae);yh(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(u(H,j.sibling),j=m(j,q),j.return=H,H=j):(u(H,j),j=hm(q,H.mode,ae),j.return=H,H=j),T(H)):u(H,j)}return vt}var Pa=r0(!0),i0=r0(!1),wh=ns(null),vh=null,Aa=null,Ep=null;function bp(){Ep=Aa=vh=null}function Tp(i){var o=wh.current;it(wh),i._currentValue=o}function xp(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function Ra(i,o){vh=i,Ep=Aa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Sn=!0),i.firstContext=null)}function Jn(i){var o=i._currentValue;if(Ep!==i)if(i={context:i,memoizedValue:o,next:null},Aa===null){if(vh===null)throw Error(n(308));Aa=i,vh.dependencies={lanes:0,firstContext:i}}else Aa=Aa.next=i;return o}var oo=null;function Cp(i){oo===null?oo=[i]:oo.push(i)}function s0(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Cp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Ei(i,d)}function Ei(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ss=!1;function Sp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function bi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function os(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Ei(i,u)}return m=d.interleaved,m===null?(o.next=o,Cp(d)):(o.next=m.next,m.next=o),d.interleaved=o,Ei(i,u)}function _h(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Yi(i,u)}}function a0(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?m=w=T:w=w.next=T,u=u.next}while(u!==null);w===null?m=w=o:w=w.next=o}else m=w=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Eh(i,o,u,d){var m=i.updateQueue;ss=!1;var w=m.firstBaseUpdate,T=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var O=R,K=O.next;O.next=null,T===null?w=K:T.next=K,T=O;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==T&&(R===null?ie.firstBaseUpdate=K:R.next=K,ie.lastBaseUpdate=O))}if(w!==null){var se=m.baseState;T=0,ie=K=O=null,R=w;do{var ne=R.lane,de=R.eventTime;if((d&ne)===ne){ie!==null&&(ie=ie.next={eventTime:de,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ge=i,we=R;switch(ne=o,de=u,we.tag){case 1:if(ge=we.payload,typeof ge=="function"){se=ge.call(de,se,ne);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,ne=typeof ge=="function"?ge.call(de,se,ne):ge,ne==null)break e;se=ue({},se,ne);break e;case 2:ss=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,ne=m.effects,ne===null?m.effects=[R]:ne.push(R))}else de={eventTime:de,lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(K=ie=de,O=se):ie=ie.next=de,T|=ne;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(ie===null&&(O=se),m.baseState=O,m.firstBaseUpdate=K,m.lastBaseUpdate=ie,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else w===null&&(m.shared.lanes=0);uo|=T,i.lanes=T,i.memoizedState=se}}function l0(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var uu={},Br=ns(uu),cu=ns(uu),hu=ns(uu);function ao(i){if(i===uu)throw Error(n(174));return i}function kp(i,o){switch(et(hu,o),et(cu,i),et(Br,uu),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Dt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Dt(o,i)}it(Br),et(Br,o)}function Na(){it(Br),it(cu),it(hu)}function u0(i){ao(hu.current);var o=ao(Br.current),u=Dt(o,i.type);o!==u&&(et(cu,i),et(Br,u))}function Ip(i){cu.current===i&&(it(Br),it(cu))}var ut=ns(0);function bh(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pp=[];function Ap(){for(var i=0;i<Pp.length;i++)Pp[i]._workInProgressVersionPrimary=null;Pp.length=0}var Th=Q.ReactCurrentDispatcher,Rp=Q.ReactCurrentBatchConfig,lo=0,ct=null,Vt=null,jt=null,xh=!1,du=!1,fu=0,vI=0;function rn(){throw Error(n(321))}function Np(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!wr(i[u],o[u]))return!1;return!0}function Dp(i,o,u,d,m,w){if(lo=w,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Th.current=i===null||i.memoizedState===null?TI:xI,i=u(d,m),du){w=0;do{if(du=!1,fu=0,25<=w)throw Error(n(301));w+=1,jt=Vt=null,o.updateQueue=null,Th.current=CI,i=u(d,m)}while(du)}if(Th.current=kh,o=Vt!==null&&Vt.next!==null,lo=0,jt=Vt=ct=null,xh=!1,o)throw Error(n(300));return i}function Lp(){var i=fu!==0;return fu=0,i}function jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ct.memoizedState=jt=i:jt=jt.next=i,jt}function Zn(){if(Vt===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var o=jt===null?ct.memoizedState:jt.next;if(o!==null)jt=o,Vt=i;else{if(i===null)throw Error(n(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},jt===null?ct.memoizedState=jt=i:jt=jt.next=i}return jt}function pu(i,o){return typeof o=="function"?o(i):o}function Vp(i){var o=Zn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=Vt,m=d.baseQueue,w=u.pending;if(w!==null){if(m!==null){var T=m.next;m.next=w.next,w.next=T}d.baseQueue=m=w,u.pending=null}if(m!==null){w=m.next,d=d.baseState;var R=T=null,O=null,K=w;do{var ie=K.lane;if((lo&ie)===ie)O!==null&&(O=O.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var se={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};O===null?(R=O=se,T=d):O=O.next=se,ct.lanes|=ie,uo|=ie}K=K.next}while(K!==null&&K!==w);O===null?T=d:O.next=R,wr(d,o.memoizedState)||(Sn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=O,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do w=m.lane,ct.lanes|=w,uo|=w,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Mp(i){var o=Zn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,w=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do w=i(w,T.action),T=T.next;while(T!==m);wr(w,o.memoizedState)||(Sn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,d]}function c0(){}function h0(i,o){var u=ct,d=Zn(),m=o(),w=!wr(d.memoizedState,m);if(w&&(d.memoizedState=m,Sn=!0),d=d.queue,Op(p0.bind(null,u,d,i),[i]),d.getSnapshot!==o||w||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,mu(9,f0.bind(null,u,d,m,o),void 0,null),zt===null)throw Error(n(349));(lo&30)!==0||d0(u,o,m)}return m}function d0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function f0(i,o,u,d){o.value=u,o.getSnapshot=d,m0(o)&&g0(i)}function p0(i,o,u){return u(function(){m0(o)&&g0(i)})}function m0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!wr(i,u)}catch{return!0}}function g0(i){var o=Ei(i,1);o!==null&&Tr(o,i,1,-1)}function y0(i){var o=jr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:i},o.queue=i,i=i.dispatch=bI.bind(null,ct,i),[o.memoizedState,i]}function mu(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function w0(){return Zn().memoizedState}function Ch(i,o,u,d){var m=jr();ct.flags|=i,m.memoizedState=mu(1|o,u,void 0,d===void 0?null:d)}function Sh(i,o,u,d){var m=Zn();d=d===void 0?null:d;var w=void 0;if(Vt!==null){var T=Vt.memoizedState;if(w=T.destroy,d!==null&&Np(d,T.deps)){m.memoizedState=mu(o,u,w,d);return}}ct.flags|=i,m.memoizedState=mu(1|o,u,w,d)}function v0(i,o){return Ch(8390656,8,i,o)}function Op(i,o){return Sh(2048,8,i,o)}function _0(i,o){return Sh(4,2,i,o)}function E0(i,o){return Sh(4,4,i,o)}function b0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function T0(i,o,u){return u=u!=null?u.concat([i]):null,Sh(4,4,b0.bind(null,o,i),u)}function Fp(){}function x0(i,o){var u=Zn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Np(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function C0(i,o){var u=Zn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Np(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function S0(i,o,u){return(lo&21)===0?(i.baseState&&(i.baseState=!1,Sn=!0),i.memoizedState=u):(wr(u,o)||(u=Xs(),ct.lanes|=u,uo|=u,i.baseState=!0),o)}function _I(i,o){var u=je;je=u!==0&&4>u?u:4,i(!0);var d=Rp.transition;Rp.transition={};try{i(!1),o()}finally{je=u,Rp.transition=d}}function k0(){return Zn().memoizedState}function EI(i,o,u){var d=cs(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},I0(i))P0(o,u);else if(u=s0(i,o,u,d),u!==null){var m=yn();Tr(u,i,d,m),A0(u,o,d)}}function bI(i,o,u){var d=cs(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(I0(i))P0(o,m);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var T=o.lastRenderedState,R=w(T,u);if(m.hasEagerState=!0,m.eagerState=R,wr(R,T)){var O=o.interleaved;O===null?(m.next=m,Cp(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}u=s0(i,o,m,d),u!==null&&(m=yn(),Tr(u,i,d,m),A0(u,o,d))}}function I0(i){var o=i.alternate;return i===ct||o!==null&&o===ct}function P0(i,o){du=xh=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function A0(i,o,u){if((u&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Yi(i,u)}}var kh={readContext:Jn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},TI={readContext:Jn,useCallback:function(i,o){return jr().memoizedState=[i,o===void 0?null:o],i},useContext:Jn,useEffect:v0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Ch(4194308,4,b0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Ch(4194308,4,i,o)},useInsertionEffect:function(i,o){return Ch(4,2,i,o)},useMemo:function(i,o){var u=jr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=jr();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=EI.bind(null,ct,i),[d.memoizedState,i]},useRef:function(i){var o=jr();return i={current:i},o.memoizedState=i},useState:y0,useDebugValue:Fp,useDeferredValue:function(i){return jr().memoizedState=i},useTransition:function(){var i=y0(!1),o=i[0];return i=_I.bind(null,i[1]),jr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=ct,m=jr();if(at){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),zt===null)throw Error(n(349));(lo&30)!==0||d0(d,o,u)}m.memoizedState=u;var w={value:u,getSnapshot:o};return m.queue=w,v0(p0.bind(null,d,w,i),[i]),d.flags|=2048,mu(9,f0.bind(null,d,w,u,o),void 0,null),u},useId:function(){var i=jr(),o=zt.identifierPrefix;if(at){var u=_i,d=vi;u=(d&~(1<<32-pn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=fu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=vI++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},xI={readContext:Jn,useCallback:x0,useContext:Jn,useEffect:Op,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:E0,useMemo:C0,useReducer:Vp,useRef:w0,useState:function(){return Vp(pu)},useDebugValue:Fp,useDeferredValue:function(i){var o=Zn();return S0(o,Vt.memoizedState,i)},useTransition:function(){var i=Vp(pu)[0],o=Zn().memoizedState;return[i,o]},useMutableSource:c0,useSyncExternalStore:h0,useId:k0,unstable_isNewReconciler:!1},CI={readContext:Jn,useCallback:x0,useContext:Jn,useEffect:Op,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:E0,useMemo:C0,useReducer:Mp,useRef:w0,useState:function(){return Mp(pu)},useDebugValue:Fp,useDeferredValue:function(i){var o=Zn();return Vt===null?o.memoizedState=i:S0(o,Vt.memoizedState,i)},useTransition:function(){var i=Mp(pu)[0],o=Zn().memoizedState;return[i,o]},useMutableSource:c0,useSyncExternalStore:h0,useId:k0,unstable_isNewReconciler:!1};function _r(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Up(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:ue({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ih={isMounted:function(i){return(i=i._reactInternals)?hr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=yn(),m=cs(i),w=bi(d,m);w.payload=o,u!=null&&(w.callback=u),o=os(i,w,m),o!==null&&(Tr(o,i,m,d),_h(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=yn(),m=cs(i),w=bi(d,m);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=os(i,w,m),o!==null&&(Tr(o,i,m,d),_h(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=yn(),d=cs(i),m=bi(u,d);m.tag=2,o!=null&&(m.callback=o),o=os(i,m,d),o!==null&&(Tr(o,i,d,u),_h(o,i,d))}};function R0(i,o,u,d,m,w,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,w,T):o.prototype&&o.prototype.isPureReactComponent?!tu(u,d)||!tu(m,w):!0}function N0(i,o,u){var d=!1,m=rs,w=o.contextType;return typeof w=="object"&&w!==null?w=Jn(w):(m=Cn(o)?ro:nn.current,d=o.contextTypes,w=(d=d!=null)?Ca(i,m):rs),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ih,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=w),o}function D0(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Ih.enqueueReplaceState(o,o.state,null)}function Bp(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Sp(i);var w=o.contextType;typeof w=="object"&&w!==null?m.context=Jn(w):(w=Cn(o)?ro:nn.current,m.context=Ca(i,w)),m.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Up(i,o,w,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Ih.enqueueReplaceState(m,m.state,null),Eh(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Da(i,o){try{var u="",d=o;do u+=he(d),d=d.return;while(d);var m=u}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:m,digest:null}}function jp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function zp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var SI=typeof WeakMap=="function"?WeakMap:Map;function L0(i,o,u){u=bi(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Vh||(Vh=!0,rm=d),zp(i,o)},u}function V0(i,o,u){u=bi(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){zp(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){zp(i,o),typeof d!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function M0(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new SI;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=BI.bind(null,i,o,u),o.then(i,i))}function O0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function F0(i,o,u,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=bi(-1,1),o.tag=2,os(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var kI=Q.ReactCurrentOwner,Sn=!1;function gn(i,o,u,d){o.child=i===null?i0(o,null,u,d):Pa(o,i.child,u,d)}function U0(i,o,u,d,m){u=u.render;var w=o.ref;return Ra(o,m),d=Dp(i,o,u,d,w,m),u=Lp(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ti(i,o,m)):(at&&u&&gp(o),o.flags|=1,gn(i,o,d,m),o.child)}function B0(i,o,u,d,m){if(i===null){var w=u.type;return typeof w=="function"&&!cm(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,j0(i,o,w,d,m)):(i=jh(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&m)===0){var T=w.memoizedProps;if(u=u.compare,u=u!==null?u:tu,u(T,d)&&i.ref===o.ref)return Ti(i,o,m)}return o.flags|=1,i=ds(w,d),i.ref=o.ref,i.return=o,o.child=i}function j0(i,o,u,d,m){if(i!==null){var w=i.memoizedProps;if(tu(w,d)&&i.ref===o.ref)if(Sn=!1,o.pendingProps=d=w,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Sn=!0);else return o.lanes=i.lanes,Ti(i,o,m)}return $p(i,o,u,d,m)}function z0(i,o,u){var d=o.pendingProps,m=d.children,w=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Va,Bn),Bn|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,et(Va,Bn),Bn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=w!==null?w.baseLanes:u,et(Va,Bn),Bn|=d}else w!==null?(d=w.baseLanes|u,o.memoizedState=null):d=u,et(Va,Bn),Bn|=d;return gn(i,o,m,u),o.child}function $0(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function $p(i,o,u,d,m){var w=Cn(u)?ro:nn.current;return w=Ca(o,w),Ra(o,m),u=Dp(i,o,u,d,w,m),d=Lp(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ti(i,o,m)):(at&&d&&gp(o),o.flags|=1,gn(i,o,u,m),o.child)}function W0(i,o,u,d,m){if(Cn(u)){var w=!0;dh(o)}else w=!1;if(Ra(o,m),o.stateNode===null)Ah(i,o),N0(o,u,d),Bp(o,u,d,m),d=!0;else if(i===null){var T=o.stateNode,R=o.memoizedProps;T.props=R;var O=T.context,K=u.contextType;typeof K=="object"&&K!==null?K=Jn(K):(K=Cn(u)?ro:nn.current,K=Ca(o,K));var ie=u.getDerivedStateFromProps,se=typeof ie=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==d||O!==K)&&D0(o,T,d,K),ss=!1;var ne=o.memoizedState;T.state=ne,Eh(o,d,T,m),O=o.memoizedState,R!==d||ne!==O||xn.current||ss?(typeof ie=="function"&&(Up(o,u,ie,d),O=o.memoizedState),(R=ss||R0(o,u,R,d,ne,O,K))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),T.props=d,T.state=O,T.context=K,d=R):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,o0(i,o),R=o.memoizedProps,K=o.type===o.elementType?R:_r(o.type,R),T.props=K,se=o.pendingProps,ne=T.context,O=u.contextType,typeof O=="object"&&O!==null?O=Jn(O):(O=Cn(u)?ro:nn.current,O=Ca(o,O));var de=u.getDerivedStateFromProps;(ie=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==se||ne!==O)&&D0(o,T,d,O),ss=!1,ne=o.memoizedState,T.state=ne,Eh(o,d,T,m);var ge=o.memoizedState;R!==se||ne!==ge||xn.current||ss?(typeof de=="function"&&(Up(o,u,de,d),ge=o.memoizedState),(K=ss||R0(o,u,K,d,ne,ge,O)||!1)?(ie||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,ge,O),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,ge,O)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ge),T.props=d,T.state=ge,T.context=O,d=K):(typeof T.componentDidUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),d=!1)}return Wp(i,o,u,d,w,m)}function Wp(i,o,u,d,m,w){$0(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&Yv(o,u,!1),Ti(i,o,w);d=o.stateNode,kI.current=o;var R=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Pa(o,i.child,null,w),o.child=Pa(o,null,R,w)):gn(i,o,R,w),o.memoizedState=d.state,m&&Yv(o,u,!0),o.child}function H0(i){var o=i.stateNode;o.pendingContext?Kv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Kv(i,o.context,!1),kp(i,o.containerInfo)}function q0(i,o,u,d,m){return Ia(),_p(m),o.flags|=256,gn(i,o,u,d),o.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function qp(i){return{baseLanes:i,cachePool:null,transitions:null}}function K0(i,o,u){var d=o.pendingProps,m=ut.current,w=!1,T=(o.flags&128)!==0,R;if((R=T)||(R=i!==null&&i.memoizedState===null?!1:(m&2)!==0),R?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),et(ut,m&1),i===null)return vp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,w?(d=o.mode,w=o.child,T={mode:"hidden",children:T},(d&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=zh(T,d,0,null),i=po(i,d,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=qp(u),o.memoizedState=Hp,i):Kp(o,T));if(m=i.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return II(i,o,T,d,R,m,u);if(w){w=d.fallback,T=o.mode,m=i.child,R=m.sibling;var O={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=ds(m,O),d.subtreeFlags=m.subtreeFlags&14680064),R!==null?w=ds(R,w):(w=po(w,T,u,null),w.flags|=2),w.return=o,d.return=o,d.sibling=w,o.child=d,d=w,w=o.child,T=i.child.memoizedState,T=T===null?qp(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=i.childLanes&~u,o.memoizedState=Hp,d}return w=i.child,i=w.sibling,d=ds(w,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function Kp(i,o){return o=zh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ph(i,o,u,d){return d!==null&&_p(d),Pa(o,i.child,null,u),i=Kp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function II(i,o,u,d,m,w,T){if(u)return o.flags&256?(o.flags&=-257,d=jp(Error(n(422))),Ph(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=d.fallback,m=o.mode,d=zh({mode:"visible",children:d.children},m,0,null),w=po(w,m,T,null),w.flags|=2,d.return=o,w.return=o,d.sibling=w,o.child=d,(o.mode&1)!==0&&Pa(o,i.child,null,T),o.child.memoizedState=qp(T),o.memoizedState=Hp,w);if((o.mode&1)===0)return Ph(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var R=d.dgst;return d=R,w=Error(n(419)),d=jp(w,d,void 0),Ph(i,o,T,d)}if(R=(T&i.childLanes)!==0,Sn||R){if(d=zt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,Ei(i,m),Tr(d,i,m,-1))}return um(),d=jp(Error(n(421))),Ph(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=jI.bind(null,i),m._reactRetry=o,null):(i=w.treeContext,Un=ts(m.nextSibling),Fn=o,at=!0,vr=null,i!==null&&(Qn[Xn++]=vi,Qn[Xn++]=_i,Qn[Xn++]=io,vi=i.id,_i=i.overflow,io=o),o=Kp(o,d.children),o.flags|=4096,o)}function G0(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),xp(i.return,o,u)}function Gp(i,o,u,d,m){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=u,w.tailMode=m)}function Y0(i,o,u){var d=o.pendingProps,m=d.revealOrder,w=d.tail;if(gn(i,o,d.children,u),d=ut.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&G0(i,u,o);else if(i.tag===19)G0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(et(ut,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&bh(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Gp(o,!1,m,u,w);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&bh(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Gp(o,!0,u,null,w);break;case"together":Gp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ah(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ti(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),uo|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=ds(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ds(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function PI(i,o,u){switch(o.tag){case 3:H0(o),Ia();break;case 5:u0(o);break;case 1:Cn(o.type)&&dh(o);break;case 4:kp(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;et(wh,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(et(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?K0(i,o,u):(et(ut,ut.current&1),i=Ti(i,o,u),i!==null?i.sibling:null);et(ut,ut.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Y0(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ut,ut.current),d)break;return null;case 22:case 23:return o.lanes=0,z0(i,o,u)}return Ti(i,o,u)}var Q0,Yp,X0,J0;Q0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Yp=function(){},X0=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,ao(Br.current);var w=null;switch(u){case"input":m=Bs(i,m),d=Bs(i,d),w=[];break;case"select":m=ue({},m,{value:void 0}),d=ue({},d,{value:void 0}),w=[];break;case"textarea":m=Al(i,m),d=Al(i,d),w=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=uh)}Ml(u,d);var T;u=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var R=m[K];for(T in R)R.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?w||(w=[]):(w=w||[]).push(K,null));for(K in d){var O=d[K];if(R=m?.[K],d.hasOwnProperty(K)&&O!==R&&(O!=null||R!=null))if(K==="style")if(R){for(T in R)!R.hasOwnProperty(T)||O&&O.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in O)O.hasOwnProperty(T)&&R[T]!==O[T]&&(u||(u={}),u[T]=O[T])}else u||(w||(w=[]),w.push(K,u)),u=O;else K==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(w=w||[]).push(K,O)):K==="children"?typeof O!="string"&&typeof O!="number"||(w=w||[]).push(K,""+O):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(O!=null&&K==="onScroll"&&rt("scroll",i),w||R===O||(w=[])):(w=w||[]).push(K,O))}u&&(w=w||[]).push("style",u);var K=w;(o.updateQueue=K)&&(o.flags|=4)}},J0=function(i,o,u,d){u!==d&&(o.flags|=4)};function gu(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function sn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function AI(i,o,u){var d=o.pendingProps;switch(yp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(o),null;case 1:return Cn(o.type)&&hh(),sn(o),null;case 3:return d=o.stateNode,Na(),it(xn),it(nn),Ap(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(gh(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vr!==null&&(om(vr),vr=null))),Yp(i,o),sn(o),null;case 5:Ip(o);var m=ao(hu.current);if(u=o.type,i!==null&&o.stateNode!=null)X0(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return sn(o),null}if(i=ao(Br.current),gh(o)){d=o.stateNode,u=o.type;var w=o.memoizedProps;switch(d[Ur]=o,d[ou]=w,i=(o.mode&1)!==0,u){case"dialog":rt("cancel",d),rt("close",d);break;case"iframe":case"object":case"embed":rt("load",d);break;case"video":case"audio":for(m=0;m<ru.length;m++)rt(ru[m],d);break;case"source":rt("error",d);break;case"img":case"image":case"link":rt("error",d),rt("load",d);break;case"details":rt("toggle",d);break;case"input":Ko(d,w),rt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!w.multiple},rt("invalid",d);break;case"textarea":Yo(d,w),rt("invalid",d)}Ml(u,w),m=null;for(var T in w)if(w.hasOwnProperty(T)){var R=w[T];T==="children"?typeof R=="string"?d.textContent!==R&&(w.suppressHydrationWarning!==!0&&lh(d.textContent,R,i),m=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(w.suppressHydrationWarning!==!0&&lh(d.textContent,R,i),m=["children",""+R]):s.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&rt("scroll",d)}switch(u){case"input":ai(d),Lc(d,w,!0);break;case"textarea":ai(d),Rl(d);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(d.onclick=uh)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Nt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(u,{is:d.is}):(i=T.createElement(u),u==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,u),i[Ur]=o,i[ou]=d,Q0(i,o,!1,!1),o.stateNode=i;e:{switch(T=Ol(u,d),u){case"dialog":rt("cancel",i),rt("close",i),m=d;break;case"iframe":case"object":case"embed":rt("load",i),m=d;break;case"video":case"audio":for(m=0;m<ru.length;m++)rt(ru[m],i);m=d;break;case"source":rt("error",i),m=d;break;case"img":case"image":case"link":rt("error",i),rt("load",i),m=d;break;case"details":rt("toggle",i),m=d;break;case"input":Ko(i,d),m=Bs(i,d),rt("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ue({},d,{value:void 0}),rt("invalid",i);break;case"textarea":Yo(i,d),m=Al(i,d),rt("invalid",i);break;default:m=d}Ml(u,m),R=m;for(w in R)if(R.hasOwnProperty(w)){var O=R[w];w==="style"?Ll(i,O):w==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Nl(i,O)):w==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&Wi(i,O):typeof O=="number"&&Wi(i,""+O):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?O!=null&&w==="onScroll"&&rt("scroll",i):O!=null&&B(i,w,O,T))}switch(u){case"input":ai(i),Lc(i,d,!1);break;case"textarea":ai(i),Rl(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Me(d.value));break;case"select":i.multiple=!!d.multiple,w=d.value,w!=null?ui(i,!!d.multiple,w,!1):d.defaultValue!=null&&ui(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=uh)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return sn(o),null;case 6:if(i&&o.stateNode!=null)J0(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=ao(hu.current),ao(Br.current),gh(o)){if(d=o.stateNode,u=o.memoizedProps,d[Ur]=o,(w=d.nodeValue!==u)&&(i=Fn,i!==null))switch(i.tag){case 3:lh(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&lh(d.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Ur]=o,o.stateNode=d}return sn(o),null;case 13:if(it(ut),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&Un!==null&&(o.mode&1)!==0&&(o.flags&128)===0)t0(),Ia(),o.flags|=98560,w=!1;else if(w=gh(o),d!==null&&d.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ur]=o}else Ia(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;sn(o),w=!1}else vr!==null&&(om(vr),vr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?Mt===0&&(Mt=3):um())),o.updateQueue!==null&&(o.flags|=4),sn(o),null);case 4:return Na(),Yp(i,o),i===null&&iu(o.stateNode.containerInfo),sn(o),null;case 10:return Tp(o.type._context),sn(o),null;case 17:return Cn(o.type)&&hh(),sn(o),null;case 19:if(it(ut),w=o.memoizedState,w===null)return sn(o),null;if(d=(o.flags&128)!==0,T=w.rendering,T===null)if(d)gu(w,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=bh(i),T!==null){for(o.flags|=128,gu(w,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)w=u,i=d,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,i=T.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return et(ut,ut.current&1|2),o.child}i=i.sibling}w.tail!==null&&Ze()>Ma&&(o.flags|=128,d=!0,gu(w,!1),o.lanes=4194304)}else{if(!d)if(i=bh(T),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),gu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!at)return sn(o),null}else 2*Ze()-w.renderingStartTime>Ma&&u!==1073741824&&(o.flags|=128,d=!0,gu(w,!1),o.lanes=4194304);w.isBackwards?(T.sibling=o.child,o.child=T):(u=w.last,u!==null?u.sibling=T:o.child=T,w.last=T)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=Ze(),o.sibling=null,u=ut.current,et(ut,d?u&1|2:u&1),o):(sn(o),null);case 22:case 23:return lm(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Bn&1073741824)!==0&&(sn(o),o.subtreeFlags&6&&(o.flags|=8192)):sn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function RI(i,o){switch(yp(o),o.tag){case 1:return Cn(o.type)&&hh(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Na(),it(xn),it(nn),Ap(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Ip(o),null;case 13:if(it(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ia()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return it(ut),null;case 4:return Na(),null;case 10:return Tp(o.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var Rh=!1,on=!1,NI=typeof WeakSet=="function"?WeakSet:Set,me=null;function La(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){pt(i,o,d)}else u.current=null}function Qp(i,o,u){try{u()}catch(d){pt(i,o,d)}}var Z0=!1;function DI(i,o){if(lp=Ji,i=Rv(),ep(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var T=0,R=-1,O=-1,K=0,ie=0,se=i,ne=null;t:for(;;){for(var de;se!==u||m!==0&&se.nodeType!==3||(R=T+m),se!==w||d!==0&&se.nodeType!==3||(O=T+d),se.nodeType===3&&(T+=se.nodeValue.length),(de=se.firstChild)!==null;)ne=se,se=de;for(;;){if(se===i)break t;if(ne===u&&++K===m&&(R=T),ne===w&&++ie===d&&(O=T),(de=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=de}u=R===-1||O===-1?null:{start:R,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(up={focusedElem:i,selectionRange:u},Ji=!1,me=o;me!==null;)if(o=me,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,me=i;else for(;me!==null;){o=me;try{var ge=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var we=ge.memoizedProps,vt=ge.memoizedState,H=o.stateNode,j=H.getSnapshotBeforeUpdate(o.elementType===o.type?we:_r(o.type,we),vt);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){pt(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,me=i;break}me=o.return}return ge=Z0,Z0=!1,ge}function yu(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var w=m.destroy;m.destroy=void 0,w!==void 0&&Qp(o,u,w)}m=m.next}while(m!==d)}}function Nh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Xp(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function e_(i){var o=i.alternate;o!==null&&(i.alternate=null,e_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ur],delete o[ou],delete o[fp],delete o[mI],delete o[gI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function t_(i){return i.tag===5||i.tag===3||i.tag===4}function n_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||t_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=uh));else if(d!==4&&(i=i.child,i!==null))for(Jp(i,o,u),i=i.sibling;i!==null;)Jp(i,o,u),i=i.sibling}function Zp(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Zp(i,o,u),i=i.sibling;i!==null;)Zp(i,o,u),i=i.sibling}var Qt=null,Er=!1;function as(i,o,u){for(u=u.child;u!==null;)r_(i,o,u),u=u.sibling}function r_(i,o,u){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Ys,u)}catch{}switch(u.tag){case 5:on||La(u,o);case 6:var d=Qt,m=Er;Qt=null,as(i,o,u),Qt=d,Er=m,Qt!==null&&(Er?(i=Qt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Qt.removeChild(u.stateNode));break;case 18:Qt!==null&&(Er?(i=Qt,u=u.stateNode,i.nodeType===8?dp(i.parentNode,u):i.nodeType===1&&dp(i,u),gr(i)):dp(Qt,u.stateNode));break;case 4:d=Qt,m=Er,Qt=u.stateNode.containerInfo,Er=!0,as(i,o,u),Qt=d,Er=m;break;case 0:case 11:case 14:case 15:if(!on&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var w=m,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&Qp(u,o,T),m=m.next}while(m!==d)}as(i,o,u);break;case 1:if(!on&&(La(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(R){pt(u,o,R)}as(i,o,u);break;case 21:as(i,o,u);break;case 22:u.mode&1?(on=(d=on)||u.memoizedState!==null,as(i,o,u),on=d):as(i,o,u);break;default:as(i,o,u)}}function i_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new NI),o.forEach(function(d){var m=zI.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function br(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var w=i,T=o,R=T;e:for(;R!==null;){switch(R.tag){case 5:Qt=R.stateNode,Er=!1;break e;case 3:Qt=R.stateNode.containerInfo,Er=!0;break e;case 4:Qt=R.stateNode.containerInfo,Er=!0;break e}R=R.return}if(Qt===null)throw Error(n(160));r_(w,T,m),Qt=null,Er=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(K){pt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)s_(o,i),o=o.sibling}function s_(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(br(o,i),zr(i),d&4){try{yu(3,i,i.return),Nh(3,i)}catch(we){pt(i,i.return,we)}try{yu(5,i,i.return)}catch(we){pt(i,i.return,we)}}break;case 1:br(o,i),zr(i),d&512&&u!==null&&La(u,u.return);break;case 5:if(br(o,i),zr(i),d&512&&u!==null&&La(u,u.return),i.flags&32){var m=i.stateNode;try{Wi(m,"")}catch(we){pt(i,i.return,we)}}if(d&4&&(m=i.stateNode,m!=null)){var w=i.memoizedProps,T=u!==null?u.memoizedProps:w,R=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{R==="input"&&w.type==="radio"&&w.name!=null&&Il(m,w),Ol(R,T);var K=Ol(R,w);for(T=0;T<O.length;T+=2){var ie=O[T],se=O[T+1];ie==="style"?Ll(m,se):ie==="dangerouslySetInnerHTML"?Nl(m,se):ie==="children"?Wi(m,se):B(m,ie,se,K)}switch(R){case"input":Pl(m,w);break;case"textarea":Qo(m,w);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?ui(m,!!w.multiple,de,!1):ne!==!!w.multiple&&(w.defaultValue!=null?ui(m,!!w.multiple,w.defaultValue,!0):ui(m,!!w.multiple,w.multiple?[]:"",!1))}m[ou]=w}catch(we){pt(i,i.return,we)}}break;case 6:if(br(o,i),zr(i),d&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,w=i.memoizedProps;try{m.nodeValue=w}catch(we){pt(i,i.return,we)}}break;case 3:if(br(o,i),zr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{gr(o.containerInfo)}catch(we){pt(i,i.return,we)}break;case 4:br(o,i),zr(i);break;case 13:br(o,i),zr(i),m=i.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(nm=Ze())),d&4&&i_(i);break;case 22:if(ie=u!==null&&u.memoizedState!==null,i.mode&1?(on=(K=on)||ie,br(o,i),on=K):br(o,i),zr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ie&&(i.mode&1)!==0)for(me=i,ie=i.child;ie!==null;){for(se=me=ie;me!==null;){switch(ne=me,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:yu(4,ne,ne.return);break;case 1:La(ne,ne.return);var ge=ne.stateNode;if(typeof ge.componentWillUnmount=="function"){d=ne,u=ne.return;try{o=d,ge.props=o.memoizedProps,ge.state=o.memoizedState,ge.componentWillUnmount()}catch(we){pt(d,u,we)}}break;case 5:La(ne,ne.return);break;case 22:if(ne.memoizedState!==null){l_(se);continue}}de!==null?(de.return=ne,me=de):l_(se)}ie=ie.sibling}e:for(ie=null,se=i;;){if(se.tag===5){if(ie===null){ie=se;try{m=se.stateNode,K?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(R=se.stateNode,O=se.memoizedProps.style,T=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=Dl("display",T))}catch(we){pt(i,i.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=K?"":se.memoizedProps}catch(we){pt(i,i.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:br(o,i),zr(i),d&4&&i_(i);break;case 21:break;default:br(o,i),zr(i)}}function zr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(t_(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Wi(m,""),d.flags&=-33);var w=n_(i);Zp(i,w,m);break;case 3:case 4:var T=d.stateNode.containerInfo,R=n_(i);Jp(i,R,T);break;default:throw Error(n(161))}}catch(O){pt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function LI(i,o,u){me=i,o_(i)}function o_(i,o,u){for(var d=(i.mode&1)!==0;me!==null;){var m=me,w=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Rh;if(!T){var R=m.alternate,O=R!==null&&R.memoizedState!==null||on;R=Rh;var K=on;if(Rh=T,(on=O)&&!K)for(me=m;me!==null;)T=me,O=T.child,T.tag===22&&T.memoizedState!==null?u_(m):O!==null?(O.return=T,me=O):u_(m);for(;w!==null;)me=w,o_(w),w=w.sibling;me=m,Rh=R,on=K}a_(i)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,me=w):a_(i)}}function a_(i){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:on||Nh(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!on)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:_r(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&l0(o,w,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}l0(o,T,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&gr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}on||o.flags&512&&Xp(o)}catch(ne){pt(o,o.return,ne)}}if(o===i){me=null;break}if(u=o.sibling,u!==null){u.return=o.return,me=u;break}me=o.return}}function l_(i){for(;me!==null;){var o=me;if(o===i){me=null;break}var u=o.sibling;if(u!==null){u.return=o.return,me=u;break}me=o.return}}function u_(i){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Nh(4,o)}catch(O){pt(o,u,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(O){pt(o,m,O)}}var w=o.return;try{Xp(o)}catch(O){pt(o,w,O)}break;case 5:var T=o.return;try{Xp(o)}catch(O){pt(o,T,O)}}}catch(O){pt(o,o.return,O)}if(o===i){me=null;break}var R=o.sibling;if(R!==null){R.return=o.return,me=R;break}me=o.return}}var VI=Math.ceil,Dh=Q.ReactCurrentDispatcher,em=Q.ReactCurrentOwner,er=Q.ReactCurrentBatchConfig,We=0,zt=null,St=null,Xt=0,Bn=0,Va=ns(0),Mt=0,wu=null,uo=0,Lh=0,tm=0,vu=null,kn=null,nm=0,Ma=1/0,xi=null,Vh=!1,rm=null,ls=null,Mh=!1,us=null,Oh=0,_u=0,im=null,Fh=-1,Uh=0;function yn(){return(We&6)!==0?Ze():Fh!==-1?Fh:Fh=Ze()}function cs(i){return(i.mode&1)===0?1:(We&2)!==0&&Xt!==0?Xt&-Xt:wI.transition!==null?(Uh===0&&(Uh=Xs()),Uh):(i=je,i!==0||(i=window.event,i=i===void 0?16:Gl(i.type)),i)}function Tr(i,o,u,d){if(50<_u)throw _u=0,im=null,Error(n(185));Gi(i,u,d),((We&2)===0||i!==zt)&&(i===zt&&((We&2)===0&&(Lh|=u),Mt===4&&hs(i,Xt)),In(i,d),u===1&&We===0&&(o.mode&1)===0&&(Ma=Ze()+500,fh&&is()))}function In(i,o){var u=i.callbackNode;di(i,o);var d=Qs(i,i===zt?Xt:0);if(d===0)u!==null&&$l(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&$l(u),o===1)i.tag===0?yI(h_.bind(null,i)):Qv(h_.bind(null,i)),fI(function(){(We&6)===0&&is()}),u=null;else{switch(Qi(d)){case 1:u=Gs;break;case 4:u=Hi;break;case 16:u=Kn;break;case 536870912:u=Uc;break;default:u=Kn}u=v_(u,c_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function c_(i,o){if(Fh=-1,Uh=0,(We&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Oa()&&i.callbackNode!==u)return null;var d=Qs(i,i===zt?Xt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Bh(i,d);else{o=d;var m=We;We|=2;var w=f_();(zt!==i||Xt!==o)&&(xi=null,Ma=Ze()+500,ho(i,o));do try{FI();break}catch(R){d_(i,R)}while(!0);bp(),Dh.current=w,We=m,St!==null?o=0:(zt=null,Xt=0,o=Mt)}if(o!==0){if(o===2&&(m=Vn(i),m!==0&&(d=m,o=sm(i,m))),o===1)throw u=wu,ho(i,0),hs(i,d),In(i,Ze()),u;if(o===6)hs(i,d);else{if(m=i.current.alternate,(d&30)===0&&!MI(m)&&(o=Bh(i,d),o===2&&(w=Vn(i),w!==0&&(d=w,o=sm(i,w))),o===1))throw u=wu,ho(i,0),hs(i,d),In(i,Ze()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:fo(i,kn,xi);break;case 3:if(hs(i,d),(d&130023424)===d&&(o=nm+500-Ze(),10<o)){if(Qs(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){yn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=hp(fo.bind(null,i,kn,xi),o);break}fo(i,kn,xi);break;case 4:if(hs(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-pn(d);w=1<<T,T=o[T],T>m&&(m=T),d&=~w}if(d=m,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*VI(d/1960))-d,10<d){i.timeoutHandle=hp(fo.bind(null,i,kn,xi),d);break}fo(i,kn,xi);break;case 5:fo(i,kn,xi);break;default:throw Error(n(329))}}}return In(i,Ze()),i.callbackNode===u?c_.bind(null,i):null}function sm(i,o){var u=vu;return i.current.memoizedState.isDehydrated&&(ho(i,o).flags|=256),i=Bh(i,o),i!==2&&(o=kn,kn=u,o!==null&&om(o)),i}function om(i){kn===null?kn=i:kn.push.apply(kn,i)}function MI(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],w=m.getSnapshot;m=m.value;try{if(!wr(w(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hs(i,o){for(o&=~tm,o&=~Lh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-pn(o),d=1<<u;i[u]=-1,o&=~d}}function h_(i){if((We&6)!==0)throw Error(n(327));Oa();var o=Qs(i,0);if((o&1)===0)return In(i,Ze()),null;var u=Bh(i,o);if(i.tag!==0&&u===2){var d=Vn(i);d!==0&&(o=d,u=sm(i,d))}if(u===1)throw u=wu,ho(i,0),hs(i,o),In(i,Ze()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,fo(i,kn,xi),In(i,Ze()),null}function am(i,o){var u=We;We|=1;try{return i(o)}finally{We=u,We===0&&(Ma=Ze()+500,fh&&is())}}function co(i){us!==null&&us.tag===0&&(We&6)===0&&Oa();var o=We;We|=1;var u=er.transition,d=je;try{if(er.transition=null,je=1,i)return i()}finally{je=d,er.transition=u,We=o,(We&6)===0&&is()}}function lm(){Bn=Va.current,it(Va)}function ho(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,dI(u)),St!==null)for(u=St.return;u!==null;){var d=u;switch(yp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&hh();break;case 3:Na(),it(xn),it(nn),Ap();break;case 5:Ip(d);break;case 4:Na();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Tp(d.type._context);break;case 22:case 23:lm()}u=u.return}if(zt=i,St=i=ds(i.current,null),Xt=Bn=o,Mt=0,wu=null,tm=Lh=uo=0,kn=vu=null,oo!==null){for(o=0;o<oo.length;o++)if(u=oo[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,w=u.pending;if(w!==null){var T=w.next;w.next=m,d.next=T}u.pending=d}oo=null}return i}function d_(i,o){do{var u=St;try{if(bp(),Th.current=kh,xh){for(var d=ct.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}xh=!1}if(lo=0,jt=Vt=ct=null,du=!1,fu=0,em.current=null,u===null||u.return===null){Mt=1,wu=o,St=null;break}e:{var w=i,T=u.return,R=u,O=o;if(o=Xt,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=O,ie=R,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var de=O0(T);if(de!==null){de.flags&=-257,F0(de,T,R,w,o),de.mode&1&&M0(w,K,o),o=de,O=K;var ge=o.updateQueue;if(ge===null){var we=new Set;we.add(O),o.updateQueue=we}else ge.add(O);break e}else{if((o&1)===0){M0(w,K,o),um();break e}O=Error(n(426))}}else if(at&&R.mode&1){var vt=O0(T);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),F0(vt,T,R,w,o),_p(Da(O,R));break e}}w=O=Da(O,R),Mt!==4&&(Mt=2),vu===null?vu=[w]:vu.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=L0(w,O,o);a0(w,H);break e;case 1:R=O;var j=w.type,q=w.stateNode;if((w.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ls===null||!ls.has(q)))){w.flags|=65536,o&=-o,w.lanes|=o;var ae=V0(w,R,o);a0(w,ae);break e}}w=w.return}while(w!==null)}m_(u)}catch(ve){o=ve,St===u&&u!==null&&(St=u=u.return);continue}break}while(!0)}function f_(){var i=Dh.current;return Dh.current=kh,i===null?kh:i}function um(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||(uo&268435455)===0&&(Lh&268435455)===0||hs(zt,Xt)}function Bh(i,o){var u=We;We|=2;var d=f_();(zt!==i||Xt!==o)&&(xi=null,ho(i,o));do try{OI();break}catch(m){d_(i,m)}while(!0);if(bp(),We=u,Dh.current=d,St!==null)throw Error(n(261));return zt=null,Xt=0,Mt}function OI(){for(;St!==null;)p_(St)}function FI(){for(;St!==null&&!Oc();)p_(St)}function p_(i){var o=w_(i.alternate,i,Bn);i.memoizedProps=i.pendingProps,o===null?m_(i):St=o,em.current=null}function m_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=AI(u,o,Bn),u!==null){St=u;return}}else{if(u=RI(u,o),u!==null){u.flags&=32767,St=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Mt=6,St=null;return}}if(o=o.sibling,o!==null){St=o;return}St=o=i}while(o!==null);Mt===0&&(Mt=5)}function fo(i,o,u){var d=je,m=er.transition;try{er.transition=null,je=1,UI(i,o,u,d)}finally{er.transition=m,je=d}return null}function UI(i,o,u,d){do Oa();while(us!==null);if((We&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(Je(i,w),i===zt&&(St=zt=null,Xt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Mh||(Mh=!0,v_(Kn,function(){return Oa(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=er.transition,er.transition=null;var T=je;je=1;var R=We;We|=4,em.current=null,DI(i,u),s_(u,i),sI(up),Ji=!!lp,up=lp=null,i.current=u,LI(u),qf(),We=R,je=T,er.transition=w}else i.current=u;if(Mh&&(Mh=!1,us=i,Oh=m),w=i.pendingLanes,w===0&&(ls=null),Bc(u.stateNode),In(i,Ze()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Vh)throw Vh=!1,i=rm,rm=null,i;return(Oh&1)!==0&&i.tag!==0&&Oa(),w=i.pendingLanes,(w&1)!==0?i===im?_u++:(_u=0,im=i):_u=0,is(),null}function Oa(){if(us!==null){var i=Qi(Oh),o=er.transition,u=je;try{if(er.transition=null,je=16>i?16:i,us===null)var d=!1;else{if(i=us,us=null,Oh=0,(We&6)!==0)throw Error(n(331));var m=We;for(We|=4,me=i.current;me!==null;){var w=me,T=w.child;if((me.flags&16)!==0){var R=w.deletions;if(R!==null){for(var O=0;O<R.length;O++){var K=R[O];for(me=K;me!==null;){var ie=me;switch(ie.tag){case 0:case 11:case 15:yu(8,ie,w)}var se=ie.child;if(se!==null)se.return=ie,me=se;else for(;me!==null;){ie=me;var ne=ie.sibling,de=ie.return;if(e_(ie),ie===K){me=null;break}if(ne!==null){ne.return=de,me=ne;break}me=de}}}var ge=w.alternate;if(ge!==null){var we=ge.child;if(we!==null){ge.child=null;do{var vt=we.sibling;we.sibling=null,we=vt}while(we!==null)}}me=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,me=T;else e:for(;me!==null;){if(w=me,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:yu(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,me=H;break e}me=w.return}}var j=i.current;for(me=j;me!==null;){T=me;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,me=q;else e:for(T=j;me!==null;){if(R=me,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Nh(9,R)}}catch(ve){pt(R,R.return,ve)}if(R===T){me=null;break e}var ae=R.sibling;if(ae!==null){ae.return=R.return,me=ae;break e}me=R.return}}if(We=m,is(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Ys,i)}catch{}d=!0}return d}finally{je=u,er.transition=o}}return!1}function g_(i,o,u){o=Da(u,o),o=L0(i,o,1),i=os(i,o,1),o=yn(),i!==null&&(Gi(i,1,o),In(i,o))}function pt(i,o,u){if(i.tag===3)g_(i,i,u);else for(;o!==null;){if(o.tag===3){g_(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ls===null||!ls.has(d))){i=Da(u,i),i=V0(o,i,1),o=os(o,i,1),i=yn(),o!==null&&(Gi(o,1,i),In(o,i));break}}o=o.return}}function BI(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=yn(),i.pingedLanes|=i.suspendedLanes&u,zt===i&&(Xt&u)===u&&(Mt===4||Mt===3&&(Xt&130023424)===Xt&&500>Ze()-nm?ho(i,0):tm|=u),In(i,o)}function y_(i,o){o===0&&((i.mode&1)===0?o=1:(o=oa,oa<<=1,(oa&130023424)===0&&(oa=4194304)));var u=yn();i=Ei(i,o),i!==null&&(Gi(i,o,u),In(i,u))}function jI(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),y_(i,u)}function zI(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),y_(i,u)}var w_;w_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||xn.current)Sn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Sn=!1,PI(i,o,u);Sn=(i.flags&131072)!==0}else Sn=!1,at&&(o.flags&1048576)!==0&&Xv(o,mh,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Ah(i,o),i=o.pendingProps;var m=Ca(o,nn.current);Ra(o,u),m=Dp(null,o,d,i,m,u);var w=Lp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Cn(d)?(w=!0,dh(o)):w=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Sp(o),m.updater=Ih,o.stateNode=m,m._reactInternals=o,Bp(o,d,i,u),o=Wp(null,o,d,!0,w,u)):(o.tag=0,at&&w&&gp(o),gn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Ah(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=WI(d),i=_r(d,i),m){case 0:o=$p(null,o,d,i,u);break e;case 1:o=W0(null,o,d,i,u);break e;case 11:o=U0(null,o,d,i,u);break e;case 14:o=B0(null,o,d,_r(d.type,i),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),$p(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),W0(i,o,d,m,u);case 3:e:{if(H0(o),i===null)throw Error(n(387));d=o.pendingProps,w=o.memoizedState,m=w.element,o0(i,o),Eh(o,d,null,u);var T=o.memoizedState;if(d=T.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){m=Da(Error(n(423)),o),o=q0(i,o,d,u,m);break e}else if(d!==m){m=Da(Error(n(424)),o),o=q0(i,o,d,u,m);break e}else for(Un=ts(o.stateNode.containerInfo.firstChild),Fn=o,at=!0,vr=null,u=i0(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ia(),d===m){o=Ti(i,o,u);break e}gn(i,o,d,u)}o=o.child}return o;case 5:return u0(o),i===null&&vp(o),d=o.type,m=o.pendingProps,w=i!==null?i.memoizedProps:null,T=m.children,cp(d,m)?T=null:w!==null&&cp(d,w)&&(o.flags|=32),$0(i,o),gn(i,o,T,u),o.child;case 6:return i===null&&vp(o),null;case 13:return K0(i,o,u);case 4:return kp(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Pa(o,null,d,u):gn(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),U0(i,o,d,m,u);case 7:return gn(i,o,o.pendingProps,u),o.child;case 8:return gn(i,o,o.pendingProps.children,u),o.child;case 12:return gn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,w=o.memoizedProps,T=m.value,et(wh,d._currentValue),d._currentValue=T,w!==null)if(wr(w.value,T)){if(w.children===m.children&&!xn.current){o=Ti(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var R=w.dependencies;if(R!==null){T=w.child;for(var O=R.firstContext;O!==null;){if(O.context===d){if(w.tag===1){O=bi(-1,u&-u),O.tag=2;var K=w.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),K.pending=O}}w.lanes|=u,O=w.alternate,O!==null&&(O.lanes|=u),xp(w.return,u,o),R.lanes|=u;break}O=O.next}}else if(w.tag===10)T=w.type===o.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(n(341));T.lanes|=u,R=T.alternate,R!==null&&(R.lanes|=u),xp(T,u,o),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===o){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}gn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ra(o,u),m=Jn(m),d=d(m),o.flags|=1,gn(i,o,d,u),o.child;case 14:return d=o.type,m=_r(d,o.pendingProps),m=_r(d.type,m),B0(i,o,d,m,u);case 15:return j0(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),Ah(i,o),o.tag=1,Cn(d)?(i=!0,dh(o)):i=!1,Ra(o,u),N0(o,d,m),Bp(o,d,m,u),Wp(null,o,d,!0,i,u);case 19:return Y0(i,o,u);case 22:return z0(i,o,u)}throw Error(n(156,o.tag))};function v_(i,o){return ia(i,o)}function $I(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(i,o,u,d){return new $I(i,o,u,d)}function cm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function WI(i){if(typeof i=="function")return cm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===Ge)return 14}return 2}function ds(i,o){var u=i.alternate;return u===null?(u=tr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function jh(i,o,u,d,m,w){var T=2;if(d=i,typeof i=="function")cm(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case M:return po(u.children,m,w,o);case S:T=8,m|=8;break;case P:return i=tr(12,u,o,m|2),i.elementType=P,i.lanes=w,i;case I:return i=tr(13,u,o,m),i.elementType=I,i.lanes=w,i;case Ae:return i=tr(19,u,o,m),i.elementType=Ae,i.lanes=w,i;case Ce:return zh(u,m,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case U:T=9;break e;case z:T=11;break e;case Ge:T=14;break e;case Be:T=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=tr(T,u,o,m),o.elementType=i,o.type=d,o.lanes=w,o}function po(i,o,u,d){return i=tr(7,i,d,o),i.lanes=u,i}function zh(i,o,u,d){return i=tr(22,i,d,o),i.elementType=Ce,i.lanes=u,i.stateNode={isHidden:!1},i}function hm(i,o,u){return i=tr(6,i,null,o),i.lanes=u,i}function dm(i,o,u){return o=tr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function HI(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function fm(i,o,u,d,m,w,T,R,O){return i=new HI(i,o,u,R,O),o===1?(o=1,w===!0&&(o|=8)):o=0,w=tr(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(w),i}function qI(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function __(i){if(!i)return rs;i=i._reactInternals;e:{if(hr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Cn(u))return Gv(i,u,o)}return o}function E_(i,o,u,d,m,w,T,R,O){return i=fm(u,d,!0,i,m,w,T,R,O),i.context=__(null),u=i.current,d=yn(),m=cs(u),w=bi(d,m),w.callback=o??null,os(u,w,m),i.current.lanes=m,Gi(i,m,d),In(i,d),i}function $h(i,o,u,d){var m=o.current,w=yn(),T=cs(m);return u=__(u),o.context===null?o.context=u:o.pendingContext=u,o=bi(w,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=os(m,o,T),i!==null&&(Tr(i,m,T,w),_h(i,m,T)),T}function Wh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function b_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function pm(i,o){b_(i,o),(i=i.alternate)&&b_(i,o)}function KI(){return null}var T_=typeof reportError=="function"?reportError:function(i){console.error(i)};function mm(i){this._internalRoot=i}Hh.prototype.render=mm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));$h(i,o,null,null)},Hh.prototype.unmount=mm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;co(function(){$h(null,i,null,null)}),o[yi]=null}};function Hh(i){this._internalRoot=i}Hh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Vr.length&&o!==0&&o<Vr[u].priority;u++);Vr.splice(u,0,i),u===0&&Gc(i)}};function gm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function qh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function x_(){}function GI(i,o,u,d,m){if(m){if(typeof d=="function"){var w=d;d=function(){var K=Wh(T);w.call(K)}}var T=E_(o,d,i,0,null,!1,!1,"",x_);return i._reactRootContainer=T,i[yi]=T.current,iu(i.nodeType===8?i.parentNode:i),co(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var R=d;d=function(){var K=Wh(O);R.call(K)}}var O=fm(i,0,!1,null,null,!1,!1,"",x_);return i._reactRootContainer=O,i[yi]=O.current,iu(i.nodeType===8?i.parentNode:i),co(function(){$h(o,O,u,d)}),O}function Kh(i,o,u,d,m){var w=u._reactRootContainer;if(w){var T=w;if(typeof m=="function"){var R=m;m=function(){var O=Wh(T);R.call(O)}}$h(o,T,i,m)}else T=GI(u,o,i,m,d);return Wh(T)}$c=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=qi(o.pendingLanes);u!==0&&(Yi(o,u|1),In(o,Ze()),(We&6)===0&&(Ma=Ze()+500,is()))}break;case 13:co(function(){var d=Ei(i,1);if(d!==null){var m=yn();Tr(d,i,1,m)}}),pm(i,1)}},aa=function(i){if(i.tag===13){var o=Ei(i,134217728);if(o!==null){var u=yn();Tr(o,i,134217728,u)}pm(i,134217728)}},Wc=function(i){if(i.tag===13){var o=cs(i),u=Ei(i,o);if(u!==null){var d=yn();Tr(u,i,o,d)}pm(i,o)}},Hc=function(){return je},qc=function(i,o){var u=je;try{return je=i,o()}finally{je=u}},Jo=function(i,o,u){switch(o){case"input":if(Pl(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=ch(d);if(!m)throw Error(n(90));qo(d),Pl(d,m)}}}break;case"textarea":Qo(i,u);break;case"select":o=u.value,o!=null&&ui(i,!!u.multiple,o,!1)}},Ws=am,Ul=co;var YI={usingClientEntryPoint:!1,Events:[au,Ta,ch,Dr,Fl,am]},Eu={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QI={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=zl(i),i===null?null:i.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||KI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Ys=Gh.inject(QI),Ln=Gh}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YI,Pn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(o))throw Error(n(200));return qI(i,o,null,u)},Pn.createRoot=function(i,o){if(!gm(i))throw Error(n(299));var u=!1,d="",m=T_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=fm(i,1,!1,null,null,u,!1,d,m),i[yi]=o.current,iu(i.nodeType===8?i.parentNode:i),new mm(o)},Pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=zl(o),i=i===null?null:i.stateNode,i},Pn.flushSync=function(i){return co(i)},Pn.hydrate=function(i,o,u){if(!qh(o))throw Error(n(200));return Kh(null,i,o,!0,u)},Pn.hydrateRoot=function(i,o,u){if(!gm(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,w="",T=T_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=E_(o,null,i,1,u??null,m,!1,w,T),i[yi]=o.current,iu(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Hh(o)},Pn.render=function(i,o,u){if(!qh(o))throw Error(n(200));return Kh(null,i,o,!1,u)},Pn.unmountComponentAtNode=function(i){if(!qh(i))throw Error(n(40));return i._reactRootContainer?(co(function(){Kh(null,null,i,!1,function(){i._reactRootContainer=null,i[yi]=null})}),!0):!1},Pn.unstable_batchedUpdates=am,Pn.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!qh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Kh(i,o,u,!1,d)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var A_;function nP(){if(A_)return wm.exports;A_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wm.exports=tP(),wm.exports}var R_;function rP(){if(R_)return Yh;R_=1;var t=nP();return Yh.createRoot=t.createRoot,Yh.hydrateRoot=t.hydrateRoot,Yh}var iP=rP();const sP=hy(iP);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N_="popstate";function oP(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return lg("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:qu(s)}return lP(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aP(){return Math.random().toString(36).substring(2,10)}function D_(t,e){return{usr:t.state,key:t.key,idx:e}}function lg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?dl(e):e,state:n,key:e&&e.key||r||aP()}}function qu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function lP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let k=g(),N=k==null?null:k-p;p=k,f&&f({action:c,location:V.location,delta:N})}function _(k,N){c="PUSH";let F=lg(V.location,k,N);p=g()+1;let B=D_(F,p),Q=V.createHref(F);try{l.pushState(B,"",Q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(Q)}a&&f&&f({action:c,location:V.location,delta:1})}function x(k,N){c="REPLACE";let F=lg(V.location,k,N);p=g();let B=D_(F,p),Q=V.createHref(F);l.replaceState(B,"",Q),a&&f&&f({action:c,location:V.location,delta:0})}function A(k){return uP(k)}let V={get action(){return c},get location(){return t(s,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(N_,v),f=k,()=>{s.removeEventListener(N_,v),f=null}},createHref(k){return e(s,k)},createURL:A,encodeLocation(k){let N=A(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:x,go(k){return l.go(k)}};return V}function uP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:qu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function r2(t,e,n="/"){return cP(t,e,n,!1)}function cP(t,e,n,r){let s=typeof e=="string"?dl(e):e,a=Ri(s.pathname||"/",n);if(a==null)return null;let l=i2(t);hP(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=bP(a);c=_P(l[f],p,r)}return c}function i2(t,e=[],n=[],r=""){let s=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(dt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ki([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),i2(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:wP(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let c of s2(a.path))s(a,l,c)}),e}function s2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=s2(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function hP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dP=/^:[\w-]+$/,fP=3,pP=2,mP=1,gP=10,yP=-2,L_=t=>t==="*";function wP(t,e){let n=t.split("/"),r=n.length;return n.some(L_)&&(r+=yP),e&&(r+=pP),n.filter(s=>!L_(s)).reduce((s,a)=>s+(dP.test(a)?fP:a===""?mP:gP),r)}function vP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _P(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=Id({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),_=f.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Id({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ki([a,v.pathname]),pathnameBase:SP(ki([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ki([a,v.pathnameBase]))}return l}function Id(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},_)=>{if(g==="*"){let A=c[_]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const x=c[_];return v&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function EP(t,e=!1,n=!0){ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ri(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?dl(t):t;return{pathname:n?n.startsWith("/")?n:xP(n,e):e,search:kP(r),hash:IP(s)}}function xP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Em(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function o2(t){let e=CP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function a2(t,e,n,r=!1){let s;typeof t=="string"?s=dl(t):(s={...t},dt(!s.pathname||!s.pathname.includes("?"),Em("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),Em("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),Em("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}c=v>=0?e[v]:"/"}let f=TP(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ki=t=>t.join("/").replace(/\/\/+/g,"/"),SP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var l2=["POST","PUT","PATCH","DELETE"];new Set(l2);var AP=["GET",...l2];new Set(AP);var fl=L.createContext(null);fl.displayName="DataRouter";var ff=L.createContext(null);ff.displayName="DataRouterState";L.createContext(!1);var u2=L.createContext({isTransitioning:!1});u2.displayName="ViewTransition";var RP=L.createContext(new Map);RP.displayName="Fetchers";var NP=L.createContext(null);NP.displayName="Await";var ii=L.createContext(null);ii.displayName="Navigation";var uc=L.createContext(null);uc.displayName="Location";var si=L.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var fy=L.createContext(null);fy.displayName="RouteError";function DP(t,{relative:e}={}){dt(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(ii),{hash:s,pathname:a,search:l}=hc(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:ki([n,a])),r.createHref({pathname:c,search:l,hash:s})}function cc(){return L.useContext(uc)!=null}function Ms(){return dt(cc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(uc).location}var c2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h2(t){L.useContext(ii).static||L.useLayoutEffect(t)}function Os(){let{isDataRoute:t}=L.useContext(si);return t?KP():LP()}function LP(){dt(cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(fl),{basename:e,navigator:n}=L.useContext(ii),{matches:r}=L.useContext(si),{pathname:s}=Ms(),a=JSON.stringify(o2(r)),l=L.useRef(!1);return h2(()=>{l.current=!0}),L.useCallback((f,p={})=>{if(ti(l.current,c2),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=a2(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ki([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}L.createContext(null);function VP(){let{matches:t}=L.useContext(si),e=t[t.length-1];return e?e.params:{}}function hc(t,{relative:e}={}){let{matches:n}=L.useContext(si),{pathname:r}=Ms(),s=JSON.stringify(o2(n));return L.useMemo(()=>a2(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function MP(t,e){return d2(t,e)}function d2(t,e,n,r){dt(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(ii),{matches:a}=L.useContext(si),l=a[a.length-1],c=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let N=g&&g.path||"";f2(f,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=Ms(),_;if(e){let N=typeof e=="string"?dl(e):e;dt(p==="/"||N.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),_=N}else _=v;let x=_.pathname||"/",A=x;if(p!=="/"){let N=p.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let V=r2(t,{pathname:A});ti(g||V!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ti(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=jP(V&&V.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:ki([p,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:ki([p,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r);return e&&k?L.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function OP(){let t=qP(),e=PP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,l)}var FP=L.createElement(OP,null),UP=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(si.Provider,{value:this.props.routeContext},L.createElement(fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BP({routeContext:t,match:e,children:n}){let r=L.useContext(fl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(si.Provider,{value:t},n)}function jP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:v}=n,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let v,_=!1,x=null,A=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||FP,l&&(c<0&&g===0?(f2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):c===g&&(_=!0,A=p.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,g+1)),k=()=>{let N;return v?N=x:_?N=A:p.route.Component?N=L.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=f,L.createElement(BP,{match:p,routeContext:{outlet:f,matches:V,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(UP,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):k()},null)}function py(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zP(t){let e=L.useContext(fl);return dt(e,py(t)),e}function $P(t){let e=L.useContext(ff);return dt(e,py(t)),e}function WP(t){let e=L.useContext(si);return dt(e,py(t)),e}function my(t){let e=WP(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HP(){return my("useRouteId")}function qP(){let t=L.useContext(fy),e=$P("useRouteError"),n=my("useRouteError");return t!==void 0?t:e.errors?.[n]}function KP(){let{router:t}=zP("useNavigate"),e=my("useNavigate"),n=L.useRef(!1);return h2(()=>{n.current=!0}),L.useCallback(async(s,a={})=>{ti(n.current,c2),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var V_={};function f2(t,e,n){!e&&!V_[t]&&(V_[t]=!0,ti(!1,n))}L.memo(GP);function GP({routes:t,future:e,state:n}){return d2(t,void 0,n,e)}function xr(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){dt(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=dl(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:_="default"}=n,x=L.useMemo(()=>{let A=Ri(f,l);return A==null?null:{location:{pathname:A,search:p,hash:g,state:v,key:_},navigationType:r}},[l,f,p,g,v,_,r]);return ti(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(ii.Provider,{value:c},L.createElement(uc.Provider,{children:e,value:x}))}function QP({children:t,location:e}){return MP(ug(t),e)}function ug(t,e=[]){let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){n.push.apply(n,ug(r.props.children,a));return}dt(r.type===xr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ug(r.props.children,a)),n.push(l)}),n}var dd="get",fd="application/x-www-form-urlencoded";function pf(t){return t!=null&&typeof t.tagName=="string"}function XP(t){return pf(t)&&t.tagName.toLowerCase()==="button"}function JP(t){return pf(t)&&t.tagName.toLowerCase()==="form"}function ZP(t){return pf(t)&&t.tagName.toLowerCase()==="input"}function eA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tA(t,e){return t.button===0&&(!e||e==="_self")&&!eA(t)}var Qh=null;function nA(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var rA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(t){return t!=null&&!rA.has(t)?(ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fd}"`),null):t}function iA(t,e){let n,r,s,a,l;if(JP(t)){let c=t.getAttribute("action");r=c?Ri(c,e):null,n=t.getAttribute("method")||dd,s=bm(t.getAttribute("enctype"))||fd,a=new FormData(t)}else if(XP(t)||ZP(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ri(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||dd,s=bm(t.getAttribute("formenctype"))||bm(c.getAttribute("enctype"))||fd,a=new FormData(c,t),!nA()){let{name:p,type:g,value:v}=t;if(g==="image"){let _=p?`${p}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else p&&a.append(p,v)}}else{if(pf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dd,r=null,s=fd,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ri(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lA(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await oA(a,n);return l.links?l.links():[]}return[]}));return dA(r.flat(1).filter(aA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function M_(t,e,n,r,s,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,c=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uA(t,e,{includeHydrateFallback:n}={}){return cA(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function cA(t){return[...new Set(t)]}function hA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dA(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(hA(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function p2(){let t=L.useContext(fl);return gy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fA(){let t=L.useContext(ff);return gy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yy=L.createContext(void 0);yy.displayName="FrameworkContext";function m2(){let t=L.useContext(yy);return gy(t,"You must render this element inside a <HydratedRouter> element"),t}function pA(t,e){let n=L.useContext(yy),[r,s]=L.useState(!1),[a,l]=L.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,_=L.useRef(null);L.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let V=N=>{N.forEach(F=>{l(F.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[t]),L.useEffect(()=>{if(r){let V=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(V)}}},[r]);let x=()=>{s(!0)},A=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:bu(c,x),onBlur:bu(f,A),onMouseEnter:bu(p,x),onMouseLeave:bu(g,A),onTouchStart:bu(v,x)}]:[!1,_,{}]}function bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mA({page:t,...e}){let{router:n}=p2(),r=L.useMemo(()=>r2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(yA,{page:t,matches:r,...e}):null}function gA(t){let{manifest:e,routeModules:n}=m2(),[r,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return lA(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function yA({page:t,matches:e,...n}){let r=Ms(),{manifest:s,routeModules:a}=m2(),{basename:l}=p2(),{loaderData:c,matches:f}=fA(),p=L.useMemo(()=>M_(t,e,f,s,r,"data"),[t,e,f,s,r]),g=L.useMemo(()=>M_(t,e,f,s,r,"assets"),[t,e,f,s,r]),v=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,V=!1;if(e.forEach(N=>{let F=s.routes[N.route.id];!F||!F.hasLoader||(!p.some(B=>B.route.id===N.route.id)&&N.route.id in c&&a[N.route.id]?.shouldRevalidate||F.hasClientLoader?V=!0:A.add(N.route.id))}),A.size===0)return[];let k=sA(t,l,"data");return V&&A.size>0&&k.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[k.pathname+k.search]},[l,c,r,s,p,e,t,a]),_=L.useMemo(()=>uA(g,s),[g,s]),x=gA(g);return L.createElement(L.Fragment,null,v.map(A=>L.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),_.map(A=>L.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),x.map(({key:A,link:V})=>L.createElement("link",{key:A,...V})))}function wA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var g2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g2&&(window.__reactRouterVersion="7.7.1")}catch{}function vA({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=oP({window:n,v5Compat:!0}));let s=r.current,[a,l]=L.useState({action:s.action,location:s.location}),c=L.useCallback(f=>{L.startTransition(()=>l(f))},[l]);return L.useLayoutEffect(()=>s.listen(c),[s,c]),L.createElement(YP,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ni=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:v,..._},x){let{basename:A}=L.useContext(ii),V=typeof p=="string"&&y2.test(p),k,N=!1;if(typeof p=="string"&&V&&(k=p,g2))try{let P=new URL(window.location.href),D=p.startsWith("//")?new URL(P.protocol+p):new URL(p),U=Ri(D.pathname,A);D.origin===P.origin&&U!=null?p=U+D.search+D.hash:N=!0}catch{ti(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=DP(p,{relative:s}),[B,Q,X]=pA(r,_),re=TA(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:v});function M(P){e&&e(P),P.defaultPrevented||re(P)}let S=L.createElement("a",{..._,...X,href:k||F,onClick:N||a?e:M,ref:wA(x,Q),target:f,"data-discover":!V&&n==="render"?"true":void 0});return B&&!V?L.createElement(L.Fragment,null,S,L.createElement(mA,{page:F})):S});Ni.displayName="Link";var _A=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:f,...p},g){let v=hc(l,{relative:p.relative}),_=Ms(),x=L.useContext(ff),{navigator:A,basename:V}=L.useContext(ii),k=x!=null&&IA(v)&&c===!0,N=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,F=_.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(F=F.toLowerCase(),B=B?B.toLowerCase():null,N=N.toLowerCase()),B&&V&&(B=Ri(B,V)||B);const Q=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let X=F===N||!s&&F.startsWith(N)&&F.charAt(Q)==="/",re=B!=null&&(B===N||!s&&B.startsWith(N)&&B.charAt(N.length)==="/"),M={isActive:X,isPending:re,isTransitioning:k},S=X?e:void 0,P;typeof r=="function"?P=r(M):P=[r,X?"active":null,re?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(M):a;return L.createElement(Ni,{...p,"aria-current":S,className:P,ref:g,style:D,to:l,viewTransition:c},typeof f=="function"?f(M):f)});_A.displayName="NavLink";var EA=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=dd,action:c,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,..._},x)=>{let A=SA(),V=kA(c,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&y2.test(c),F=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let Q=B.nativeEvent.submitter,X=Q?.getAttribute("formmethod")||l;A(Q||B.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return L.createElement("form",{ref:x,method:k,action:V,onSubmit:r?f:F,..._,"data-discover":!N&&t==="render"?"true":void 0})});EA.displayName="Form";function bA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(t){let e=L.useContext(fl);return dt(e,bA(t)),e}function TA(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Os(),f=Ms(),p=hc(t,{relative:a});return L.useCallback(g=>{if(tA(g,e)){g.preventDefault();let v=n!==void 0?n:qu(f)===qu(p);c(t,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,c,p,n,r,e,t,s,a,l])}var xA=0,CA=()=>`__${String(++xA)}__`;function SA(){let{router:t}=w2("useSubmit"),{basename:e}=L.useContext(ii),n=HP();return L.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:f,body:p}=iA(r,e);if(s.navigate===!1){let g=s.fetcherKey||CA();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function kA(t,{relative:e}={}){let{basename:n}=L.useContext(ii),r=L.useContext(si);dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...hc(t||".",{relative:e})},l=Ms();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ki([n,a.pathname])),qu(a)}function IA(t,{relative:e}={}){let n=L.useContext(u2);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w2("useViewTransitionState"),s=hc(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ri(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ri(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Id(s.pathname,l)!=null||Id(s.pathname,a)!=null}var v2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O_=b.createContext&&b.createContext(v2),PA=["attr","size","title"];function AA(t,e){if(t==null)return{};var n=RA(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RA(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(this,arguments)}function F_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(r){NA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NA(t,e,n){return e=DA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DA(t){var e=LA(t,"string");return typeof e=="symbol"?e:e+""}function LA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _2(t){return t&&t.map((e,n)=>b.createElement(e.tag,Ad({key:n},e.attr),_2(e.child)))}function Kt(t){return e=>b.createElement(VA,Pd({attr:Ad({},t.attr)},e),_2(t.child))}function VA(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=AA(t,PA),c=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),b.createElement("svg",Pd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:Ad(Ad({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&b.createElement("title",null,a),t.children)};return O_!==void 0?b.createElement(O_.Consumer,null,n=>e(n)):e(v2)}function MA(t){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function OA(t){return Kt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}function E2(t){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function b2(t){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function T2(t){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function x2(t){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function FA(t){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function UA(t){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function C2(t){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function S2(t){return Kt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function BA(t){return Kt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function wy(t){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function _o(t){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function jA(t){return Kt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function zA(t){return Kt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function $A(t){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}function WA(t){return Kt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function k2(t){return Kt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}const vy="/assets/SB-Card-Logo-BcSavOw2.png",HA=()=>{};var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},P2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,g=a>>2,v=(a&3)<<4|c>>4;let _=(c&15)<<2|p>>6,x=p&63;f||(x=64,l||(_=64)),r.push(n[g],n[v],n[_],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||v==null)throw new KA;const _=a<<2|c>>4;if(r.push(_),p!==64){const x=c<<4&240|p>>2;if(r.push(x),v!==64){const A=p<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GA=function(t){const e=I2(t);return P2.encodeByteArray(e,!0)},Rd=function(t){return GA(t).replace(/\./g,"")},A2=function(t){try{return P2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=()=>YA().__FIREBASE_DEFAULTS__,XA=()=>{if(typeof process>"u"||typeof U_>"u")return;const t=U_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&A2(t[1]);return e&&JSON.parse(e)},mf=()=>{try{return HA()||QA()||XA()||JA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R2=t=>mf()?.emulatorHosts?.[t],N2=t=>{const e=R2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D2=()=>mf()?.config,L2=t=>mf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _y(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Rd(JSON.stringify(n)),Rd(JSON.stringify(l)),""].join(".")}const Lu={};function eR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function tR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B_=!1;function Ey(t,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||Lu[t]===e||Lu[t]||B_)return;Lu[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=eR().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{B_=!0,l()},_}function g(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=tR(r),x=n("text"),A=document.getElementById(x)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),N=n("preprendIcon"),F=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const B=_.element;c(B),g(k,V);const Q=p();f(F,N),B.append(F,A,k,Q),document.body.appendChild(B)}a?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function rR(){const t=mf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hR,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?dR(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new oi(s,c,r)}}function dR(t,e){return t.replace(fR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fR=/\{\$([^}]+)}/g;function pR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(j_(a)&&j_(l)){if(!Ao(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function j_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mR(t,e){const n=new gR(t,e);return n.subscribe.bind(n)}class gR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Tm),s.error===void 0&&(s.error=Tm),s.complete===void 0&&(s.complete=Tm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(t){return t===yo?void 0:t}function _R(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const bR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},TR=Oe.INFO,xR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},CR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const SR=(t,e)=>e.some(n=>t instanceof n);let z_,$_;function kR(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M2=new WeakMap,cg=new WeakMap,O2=new WeakMap,xm=new WeakMap,Ty=new WeakMap;function PR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ts(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&M2.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function AR(t){if(cg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});cg.set(t,e)}let hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RR(t){hg=t(hg)}function NR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cm(this),e,...n);return O2.set(r,e.sort?e.sort():[e]),Ts(r)}:IR().includes(t)?function(...e){return t.apply(Cm(this),e),Ts(M2.get(this))}:function(...e){return Ts(t.apply(Cm(this),e))}}function DR(t){return typeof t=="function"?NR(t):(t instanceof IDBTransaction&&AR(t),SR(t,kR())?new Proxy(t,hg):t)}function Ts(t){if(t instanceof IDBRequest)return PR(t);if(xm.has(t))return xm.get(t);const e=DR(t);return e!==t&&(xm.set(t,e),Ty.set(e,t)),e}const Cm=t=>Ty.get(t);function LR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Ts(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ts(l.result),f.oldVersion,f.newVersion,Ts(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const VR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],Sm=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=MR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VR.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&f.done]))[0]};return Sm.set(e,a),a}RR(t=>({...t,get:(e,n,r)=>W_(e,n)||t.get(e,n,r),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FR(t){return t.getComponent()?.type==="VERSION"}const dg="@firebase/app",H_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new by("@firebase/app"),UR="@firebase/app-compat",BR="@firebase/analytics-compat",jR="@firebase/analytics",zR="@firebase/app-check-compat",$R="@firebase/app-check",WR="@firebase/auth",HR="@firebase/auth-compat",qR="@firebase/database",KR="@firebase/data-connect",GR="@firebase/database-compat",YR="@firebase/functions",QR="@firebase/functions-compat",XR="@firebase/installations",JR="@firebase/installations-compat",ZR="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",rN="@firebase/remote-config",iN="@firebase/remote-config-compat",sN="@firebase/storage",oN="@firebase/storage-compat",aN="@firebase/firestore",lN="@firebase/ai",uN="@firebase/firestore-compat",cN="firebase",hN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",dN={[dg]:"fire-core",[UR]:"fire-core-compat",[jR]:"fire-analytics",[BR]:"fire-analytics-compat",[$R]:"fire-app-check",[zR]:"fire-app-check-compat",[WR]:"fire-auth",[HR]:"fire-auth-compat",[qR]:"fire-rtdb",[KR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[YR]:"fire-fn",[QR]:"fire-fn-compat",[XR]:"fire-iid",[JR]:"fire-iid-compat",[ZR]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[rN]:"fire-rc",[iN]:"fire-rc-compat",[sN]:"fire-gcs",[oN]:"fire-gcs-compat",[aN]:"fire-fst",[uN]:"fire-fst-compat",[lN]:"fire-vertex","fire-js":"fire-js",[cN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,fN=new Map,pg=new Map;function q_(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ro(t){const e=t.name;if(pg.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,t);for(const n of Nd.values())q_(n,t);for(const n of fN.values())q_(n,t);return!0}function gf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new dc("app","Firebase",pN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=hN;function F2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:fg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw xs.create("bad-app-name",{appName:String(s)});if(n||(n=D2()),!n)throw xs.create("no-options");const a=Nd.get(s);if(a){if(Ao(n,a.options)&&Ao(r,a.config))return a;throw xs.create("duplicate-app",{appName:s})}const l=new ER(s);for(const f of pg.values())l.addComponent(f);const c=new mN(n,r,l);return Nd.set(s,c),c}function xy(t=fg){const e=Nd.get(t);if(!e&&t===fg&&D2())return F2();if(!e)throw xs.create("no-app",{appName:t});return e}function qr(t,e,n){let r=dN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(l.join(" "));return}Ro(new ks(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebase-heartbeat-database",yN=1,Ku="firebase-heartbeat-store";let km=null;function U2(){return km||(km=LR(gN,yN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw xs.create("idb-open",{originalErrorMessage:t.message})})),km}async function wN(t){try{const n=(await U2()).transaction(Ku),r=await n.objectStore(Ku).get(B2(t));return await n.done,r}catch(e){if(e instanceof oi)Di.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e?.message});Di.warn(n.message)}}}async function K_(t,e){try{const r=(await U2()).transaction(Ku,"readwrite");await r.objectStore(Ku).put(e,B2(t)),await r.done}catch(n){if(n instanceof oi)Di.warn(n.message);else{const r=xs.create("idb-set",{originalErrorMessage:n?.message});Di.warn(r.message)}}}function B2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1024,_N=30;class EN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_N){const s=xN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G_(),{heartbeatsToSend:n,unsentEntries:r}=bN(this._heartbeatsCache.heartbeats),s=Rd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Di.warn(e),""}}}function G_(){return new Date().toISOString().substring(0,10)}function bN(t,e=vN){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Y_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Y_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Y_(t){return Rd(JSON.stringify({version:2,heartbeats:t})).length}function xN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){Ro(new ks("platform-logger",e=>new OR(e),"PRIVATE")),Ro(new ks("heartbeat",e=>new EN(e),"PRIVATE")),qr(dg,H_,t),qr(dg,H_,"esm2020"),qr("fire-js","")}CN("");function j2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SN=j2,z2=new dc("auth","Firebase",j2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new by("@firebase/auth");function kN(t,...e){Dd.logLevel<=Oe.WARN&&Dd.warn(`Auth (${Uo}): ${t}`,...e)}function pd(t,...e){Dd.logLevel<=Oe.ERROR&&Dd.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw Sy(t,...e)}function Pr(t,...e){return Sy(t,...e)}function Cy(t,e,n){const r={...SN(),[e]:n};return new dc("auth","Firebase",r).create(e,{appName:t.name})}function Ii(t){return Cy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ar(t,"argument-error"),Cy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return z2.create(t,...e)}function Se(t,e,...n){if(!t)throw Sy(e,...n)}function Ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function Li(t,e){t||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){return typeof self<"u"&&self.location?.href||""}function PN(){return Q_()==="http:"||Q_()==="https:"}function Q_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PN()||sR()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=nR()||oR()}get(){return AN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){Li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LN=new pc(3e4,6e4);function Bi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ji(t,e,n,r,s={}){return W2(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=fc({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return iR()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(p.credentials="include"),$2.fetch()(await H2(t,t.config.apiHost,n,c),p)})}async function W2(t,e,n){t._canInitEmulator=!1;const r={...NN,...e};try{const s=new MN(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Xh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Xh(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Cy(t,g,p);ar(t,g)}}catch(s){if(s instanceof oi)throw s;ar(t,"network-request-failed",{message:String(s)})}}async function mc(t,e,n,r,s={}){const a=await ji(t,e,n,r,s);return"mfaPendingCredential"in a&&ar(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function H2(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?ky(t.config,s):`${t.config.apiScheme}://${s}`;return DN.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function VN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),LN.get())})}}function Xh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pr(t,e,r);return s.customData._tokenResponse=n,s}function X_(t){return t!==void 0&&t.enterprise!==void 0}class ON{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FN(t,e){return ji(t,"GET","/v2/recaptchaConfig",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function Ld(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BN(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),s=Iy(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Vu(Im(s.auth_time)),issuedAtTime:Vu(Im(s.iat)),expirationTime:Vu(Im(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Im(t){return Number(t)*1e3}function Iy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const s=A2(n);return s?JSON.parse(s):(pd("Failed to decode base64 JWT payload"),null)}catch(s){return pd("Caught error parsing JWT payload as JSON",s?.toString()),null}}function J_(t){const e=Iy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oi&&jN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function jN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){const e=t.auth,n=await t.getIdToken(),r=await Gu(t,Ld(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?q2(s.providerUserInfo):[],l=WN(t.providerData,a),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!l?.length,p=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new gg(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function $N(t){const e=Tt(t);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function q2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){const n=await W2(t,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await H2(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(f.credentials="include"),$2.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qN(t,e){return ji(t,"POST","/v2/accounts:revokeToken",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=J_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await HN(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Ka;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Se(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new zN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BN(this,e)}reload(){return $N(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await Gu(this,UN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:x,providerData:A,stsTokenManager:V}=n;Se(v&&V,e,"internal-error");const k=Ka.fromJSON(this.name,V);Se(typeof v=="string",e,"internal-error"),ps(r,e.name),ps(s,e.name),Se(typeof _=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),ps(a,e.name),ps(l,e.name),ps(c,e.name),ps(f,e.name),ps(p,e.name),ps(g,e.name);const N=new Sr({uid:v,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:k,createdAt:p,lastLoginAt:g});return A&&Array.isArray(A)&&(N.providerData=A.map(F=>({...F}))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ka;s.updateFromServerResponse(n);const a=new Sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?q2(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new Ka;c.updateFromIdToken(r);const f=new Sr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function Si(t){Li(t instanceof Function,"Expected a class definition");let e=Z_.get(t);return e?(Li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K2.type="NONE";const eE=K2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class Ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=md(this.userKey,s.apiKey,a),this.fullPersistenceKey=md("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ld(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ga(Si(eE),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Si(eE);const l=md(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){let v;if(typeof g=="string"){const _=await Ld(e,{idToken:g}).catch(()=>{});if(!_)break;v=await Sr._fromGetAccountInfoResponse(e,_,g)}else v=Sr._fromJSON(e,g);p!==a&&(c=v),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ga(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ga(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(G2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z2(e))return"Blackberry";if(eT(e))return"Webos";if(Y2(e))return"Safari";if((e.includes("chrome/")||Q2(e))&&!e.includes("edge/"))return"Chrome";if(J2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function G2(t=dn()){return/firefox\//i.test(t)}function Y2(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q2(t=dn()){return/crios\//i.test(t)}function X2(t=dn()){return/iemobile/i.test(t)}function J2(t=dn()){return/android/i.test(t)}function Z2(t=dn()){return/blackberry/i.test(t)}function eT(t=dn()){return/webos/i.test(t)}function Py(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KN(t=dn()){return Py(t)&&!!window.navigator?.standalone}function GN(){return aR()&&document.documentMode===10}function tT(t=dn()){return Py(t)||J2(t)||eT(t)||Z2(t)||/windows phone/i.test(t)||X2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e=[]){let n;switch(t){case"Browser":n=tE(dn());break;case"Worker":n=`${tE(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e={}){return ji(t,"GET","/v2/passwordPolicy",Bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=6;class JN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ld(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Ii(this));const n=e?Tt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QN(this),n=new JN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zi(t){return Tt(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e4(t){yf=t}function rT(t){return yf.loadJS(t)}function t4(){return yf.recaptchaEnterpriseScript}function n4(){return yf.gapiScript}function r4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i4{constructor(){this.enterprise=new s4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class s4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o4="recaptcha-enterprise",iT="NO_RECAPTCHA";class a4{constructor(e){this.type=o4,this.auth=zi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{FN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new ON(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function s(a,l,c){const f=window.grecaptcha;X_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(iT)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&X_(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=t4();f.length!==0&&(f+=c),rT(f).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function rE(t,e,n,r=!1,s=!1){const a=new a4(t);let l;if(s)l=iT;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Md(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await rE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await rE(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e){const n=gf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ao(a,e??{}))return s;ar(s,"already-initialized")}return n.initialize({options:e})}function u4(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Si);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function c4(t,e,n){const r=zi(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=sT(e),{host:l,port:c}=h4(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Ao(p,r.config.emulator)&&Ao(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Fs(l)?(_y(`${a}//${l}${f}`),Ey("Auth",!0)):d4()}function sT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h4(t){const e=sT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:iE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:iE(l)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,n){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function f4(t,e){return ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return mc(t,"POST","/v1/accounts:signInWithPassword",Bi(t,e))}async function m4(t,e){return ji(t,"POST","/v1/accounts:sendOobCode",Bi(t,e))}async function g4(t,e){return m4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}async function w4(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Ay{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,n,"signInWithPassword",p4);case"emailLink":return y4(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,r,"signUpPassword",f4);case"emailLink":return w4(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e){return mc(t,"POST","/v1/accounts:signInWithIdp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="http://localhost";class No extends Ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new No(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:v4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E4(t){const e=ku(Iu(t)).link,n=e?ku(Iu(e)).deep_link_id:null,r=ku(Iu(t)).deep_link_id;return(r?ku(Iu(r)).link:null)||r||n||e||t}class Ry{constructor(e){const n=ku(Iu(e)),r=n.apiKey??null,s=n.oobCode??null,a=_4(n.mode??null);Se(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=E4(e);try{return new Ry(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ry.parseLink(n);return Se(r,"argument-error"),Yu._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Ny{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends gc{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends gc{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends gc{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){return mc(t,"POST","/v1/accounts:signUp",Bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Sr._fromIdTokenResponse(e,r,s),l=sE(r);return new Do({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=sE(r);return new Do({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends oi{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Od(e,n,r,s)}}function oT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Od._fromErrorAndOperation(t,a,e,r):a})}async function T4(t,e,n=!1){const r=await Gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(Ii(r));const s="reauthenticate";try{const a=await Gu(t,oT(r,s,e,t),n);Se(a.idToken,r,"internal-error");const l=Iy(a.idToken);Se(l,r,"internal-error");const{sub:c}=l;return Se(t.uid===c,r,"user-mismatch"),Do._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(t,e,n=!1){if(Rn(t.app))return Promise.reject(Ii(t));const r="signIn",s=await oT(t,r,e),a=await Do._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function C4(t,e){return aT(zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lT(t){const e=zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uT(t,e,n){const r=zi(t);await Md(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g4)}async function S4(t,e,n){if(Rn(t.app))return Promise.reject(Ii(t));const r=zi(t),l=await Md(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",b4).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&lT(t),f}),c=await Do._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function k4(t,e,n){return Rn(t.app)?Promise.reject(Ii(t)):C4(Tt(t),pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lT(t),r})}function I4(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function P4(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function A4(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function wf(t){return Tt(t).signOut()}async function R4(t){return Tt(t).delete()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=1e3,D4=10;class hT extends cT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);GN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,D4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hT.type="LOCAL";const L4=hT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends cT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dT.type="SESSION";const fT=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),f=await V4(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=Dy("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function O4(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function F4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U4(){return navigator?.serviceWorker?.controller||null}function B4(){return pT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firebaseLocalStorageDb",j4=1,Ud="firebaseLocalStorage",gT="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(t,e){return t.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function z4(){const t=indexedDB.deleteDatabase(mT);return new yc(t).toPromise()}function yg(){const t=indexedDB.open(mT,j4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ud,{keyPath:gT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await z4(),e(await yg()))})})}async function oE(t,e,n){const r=_f(t,!0).put({[gT]:e,value:n});return new yc(r).toPromise()}async function $4(t,e){const n=_f(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function aE(t,e){const n=_f(t,!0).delete(e);return new yc(n).toPromise()}const W4=800,H4=3;class yT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(B4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F4(),!this.activeServiceWorker)return;this.sender=new M4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await oE(e,Fd,"1"),await aE(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=_f(s,!1).getAll();return new yc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yT.type="LOCAL";const q4=yT;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e){return e?Si(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends Ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K4(t){return aT(t.auth,new Ly(t),t.bypassAuthState)}function G4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),x4(n,new Ly(t),t.bypassAuthState)}async function Y4(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),T4(n,new Ly(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K4;case"linkViaPopup":case"linkViaRedirect":return Y4;case"reauthViaPopup":case"reauthViaRedirect":return G4;default:ar(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new pc(2e3,1e4);async function X4(t,e,n){if(Rn(t.app))return Promise.reject(Pr(t,"operation-not-supported-in-this-environment"));const r=zi(t);IN(t,e,Ny);const s=wT(r,n);return new Eo(r,"signInViaPopup",e,s).executeNotNull()}class Eo extends vT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q4.get())};e()}}Eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="pendingRedirect",gd=new Map;class Z4 extends vT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await eD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eD(t,e){const n=rD(e),r=nD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tD(t,e){gd.set(t._key(),e)}function nD(t){return Si(t._redirectPersistence)}function rD(t){return md(J4,t.config.apiKey,t.name)}async function iD(t,e,n=!1){if(Rn(t.app))return Promise.reject(Ii(t));const r=zi(t),s=wT(r,e),l=await new Z4(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=600*1e3;class oD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_T(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sD&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _T({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cD=/^https?/;async function hD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lD(t);for(const n of e)try{if(dD(n))return}catch{}ar(t,"unauthorized-domain")}function dD(t){const e=mg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!cD.test(n))return!1;if(uD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new pc(3e4,6e4);function uE(){const t=Kr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pD(t){return new Promise((e,n)=>{function r(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(Pr(t,"network-request-failed"))},timeout:fD.get()})}if(Kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Kr().gapi?.load)r();else{const s=r4("iframefcb");return Kr()[s]=()=>{gapi.load?r():n(Pr(t,"network-request-failed"))},rT(`${n4()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw yd=null,e})}let yd=null;function mD(t){return yd=yd||pD(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new pc(5e3,15e3),yD="__/auth/iframe",wD="emulator/auth/iframe",vD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_D=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ED(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ky(e,wD):`https://${t.config.authDomain}/${yD}`,r={apiKey:e.apiKey,appName:t.name,v:Uo},s=_D.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${fc(r).slice(1)}`}async function bD(t){const e=await mD(t),n=Kr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:ED(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Pr(t,"network-request-failed"),c=Kr().setTimeout(()=>{a(l)},gD.get());function f(){Kr().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xD=500,CD=600,SD="_blank",kD="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ID(t,e,n,r=xD,s=CD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...TD,width:r.toString(),height:s.toString(),top:a,left:l},p=dn().toLowerCase();n&&(c=Q2(p)?SD:n),G2(p)&&(e=e||kD,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[x,A])=>`${_}${x}=${A},`,"");if(KN(p)&&c!=="_self")return PD(e||"",c),new cE(null);const v=window.open(e||"",c,g);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new cE(v)}function PD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="__/auth/handler",RD="emulator/auth/handler",ND=encodeURIComponent("fac");async function hE(t,e,n,r,s,a){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Uo,eventId:s};if(e instanceof Ny){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",pR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof gc){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await t._getAppCheckToken(),p=f?`#${ND}=${encodeURIComponent(f)}`:"";return`${DD(t)}?${fc(c).slice(1)}${p}`}function DD({config:t}){return t.emulator?ky(t,RD):`https://${t.authDomain}/${AD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class LD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=iD,this._overrideRedirectResult=tD}async _openPopup(e,n,r,s){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await hE(e,n,r,mg(),s);return ID(e,a,Dy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await hE(e,n,r,mg(),s);return O4(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await bD(e),r=new oD(e);return n.register("authEvent",s=>(Se(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},s=>{const a=s?.[0]?.[Pm];a!==void 0&&n(!!a),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tT()||Y2()||Py()}}const VD=LD;var dE="@firebase/auth",fE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FD(t){Ro(new ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nT(t)},p=new ZN(r,s,a,f);return u4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ro(new ks("auth-internal",e=>{const n=zi(e.getProvider("auth").getImmediate());return(r=>new MD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(dE,fE,OD(t)),qr(dE,fE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=300,BD=L2("authIdTokenMaxAge")||UD;let pE=null;const jD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BD)return;const s=n?.token;pE!==s&&(pE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function zD(t=xy()){const e=gf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l4(t,{popupRedirectResolver:VD,persistence:[q4,L4,fT]}),r=L2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=jD(a.toString());P4(n,l,()=>l(n.currentUser)),I4(n,c=>l(c))}}const s=R2("auth");return s&&c4(n,`http://${s}`),n}function $D(){return document.getElementsByTagName("head")?.[0]??document}e4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Pr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",$D().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FD("Browser");var WD="firebase",HD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(WD,HD,"app");var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,ET;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function P(){}P.prototype=S.prototype,M.D=S.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(D,U,z){for(var I=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)I[Ae-2]=arguments[Ae];return S.prototype[U].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,S,P){P||(P=0);var D=Array(16);if(typeof S=="string")for(var U=0;16>U;++U)D[U]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(U=0;16>U;++U)D[U]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=M.g[0],P=M.g[1],U=M.g[2];var z=M.g[3],I=S+(z^P&(U^z))+D[0]+3614090360&4294967295;S=P+(I<<7&4294967295|I>>>25),I=z+(U^S&(P^U))+D[1]+3905402710&4294967295,z=S+(I<<12&4294967295|I>>>20),I=U+(P^z&(S^P))+D[2]+606105819&4294967295,U=z+(I<<17&4294967295|I>>>15),I=P+(S^U&(z^S))+D[3]+3250441966&4294967295,P=U+(I<<22&4294967295|I>>>10),I=S+(z^P&(U^z))+D[4]+4118548399&4294967295,S=P+(I<<7&4294967295|I>>>25),I=z+(U^S&(P^U))+D[5]+1200080426&4294967295,z=S+(I<<12&4294967295|I>>>20),I=U+(P^z&(S^P))+D[6]+2821735955&4294967295,U=z+(I<<17&4294967295|I>>>15),I=P+(S^U&(z^S))+D[7]+4249261313&4294967295,P=U+(I<<22&4294967295|I>>>10),I=S+(z^P&(U^z))+D[8]+1770035416&4294967295,S=P+(I<<7&4294967295|I>>>25),I=z+(U^S&(P^U))+D[9]+2336552879&4294967295,z=S+(I<<12&4294967295|I>>>20),I=U+(P^z&(S^P))+D[10]+4294925233&4294967295,U=z+(I<<17&4294967295|I>>>15),I=P+(S^U&(z^S))+D[11]+2304563134&4294967295,P=U+(I<<22&4294967295|I>>>10),I=S+(z^P&(U^z))+D[12]+1804603682&4294967295,S=P+(I<<7&4294967295|I>>>25),I=z+(U^S&(P^U))+D[13]+4254626195&4294967295,z=S+(I<<12&4294967295|I>>>20),I=U+(P^z&(S^P))+D[14]+2792965006&4294967295,U=z+(I<<17&4294967295|I>>>15),I=P+(S^U&(z^S))+D[15]+1236535329&4294967295,P=U+(I<<22&4294967295|I>>>10),I=S+(U^z&(P^U))+D[1]+4129170786&4294967295,S=P+(I<<5&4294967295|I>>>27),I=z+(P^U&(S^P))+D[6]+3225465664&4294967295,z=S+(I<<9&4294967295|I>>>23),I=U+(S^P&(z^S))+D[11]+643717713&4294967295,U=z+(I<<14&4294967295|I>>>18),I=P+(z^S&(U^z))+D[0]+3921069994&4294967295,P=U+(I<<20&4294967295|I>>>12),I=S+(U^z&(P^U))+D[5]+3593408605&4294967295,S=P+(I<<5&4294967295|I>>>27),I=z+(P^U&(S^P))+D[10]+38016083&4294967295,z=S+(I<<9&4294967295|I>>>23),I=U+(S^P&(z^S))+D[15]+3634488961&4294967295,U=z+(I<<14&4294967295|I>>>18),I=P+(z^S&(U^z))+D[4]+3889429448&4294967295,P=U+(I<<20&4294967295|I>>>12),I=S+(U^z&(P^U))+D[9]+568446438&4294967295,S=P+(I<<5&4294967295|I>>>27),I=z+(P^U&(S^P))+D[14]+3275163606&4294967295,z=S+(I<<9&4294967295|I>>>23),I=U+(S^P&(z^S))+D[3]+4107603335&4294967295,U=z+(I<<14&4294967295|I>>>18),I=P+(z^S&(U^z))+D[8]+1163531501&4294967295,P=U+(I<<20&4294967295|I>>>12),I=S+(U^z&(P^U))+D[13]+2850285829&4294967295,S=P+(I<<5&4294967295|I>>>27),I=z+(P^U&(S^P))+D[2]+4243563512&4294967295,z=S+(I<<9&4294967295|I>>>23),I=U+(S^P&(z^S))+D[7]+1735328473&4294967295,U=z+(I<<14&4294967295|I>>>18),I=P+(z^S&(U^z))+D[12]+2368359562&4294967295,P=U+(I<<20&4294967295|I>>>12),I=S+(P^U^z)+D[5]+4294588738&4294967295,S=P+(I<<4&4294967295|I>>>28),I=z+(S^P^U)+D[8]+2272392833&4294967295,z=S+(I<<11&4294967295|I>>>21),I=U+(z^S^P)+D[11]+1839030562&4294967295,U=z+(I<<16&4294967295|I>>>16),I=P+(U^z^S)+D[14]+4259657740&4294967295,P=U+(I<<23&4294967295|I>>>9),I=S+(P^U^z)+D[1]+2763975236&4294967295,S=P+(I<<4&4294967295|I>>>28),I=z+(S^P^U)+D[4]+1272893353&4294967295,z=S+(I<<11&4294967295|I>>>21),I=U+(z^S^P)+D[7]+4139469664&4294967295,U=z+(I<<16&4294967295|I>>>16),I=P+(U^z^S)+D[10]+3200236656&4294967295,P=U+(I<<23&4294967295|I>>>9),I=S+(P^U^z)+D[13]+681279174&4294967295,S=P+(I<<4&4294967295|I>>>28),I=z+(S^P^U)+D[0]+3936430074&4294967295,z=S+(I<<11&4294967295|I>>>21),I=U+(z^S^P)+D[3]+3572445317&4294967295,U=z+(I<<16&4294967295|I>>>16),I=P+(U^z^S)+D[6]+76029189&4294967295,P=U+(I<<23&4294967295|I>>>9),I=S+(P^U^z)+D[9]+3654602809&4294967295,S=P+(I<<4&4294967295|I>>>28),I=z+(S^P^U)+D[12]+3873151461&4294967295,z=S+(I<<11&4294967295|I>>>21),I=U+(z^S^P)+D[15]+530742520&4294967295,U=z+(I<<16&4294967295|I>>>16),I=P+(U^z^S)+D[2]+3299628645&4294967295,P=U+(I<<23&4294967295|I>>>9),I=S+(U^(P|~z))+D[0]+4096336452&4294967295,S=P+(I<<6&4294967295|I>>>26),I=z+(P^(S|~U))+D[7]+1126891415&4294967295,z=S+(I<<10&4294967295|I>>>22),I=U+(S^(z|~P))+D[14]+2878612391&4294967295,U=z+(I<<15&4294967295|I>>>17),I=P+(z^(U|~S))+D[5]+4237533241&4294967295,P=U+(I<<21&4294967295|I>>>11),I=S+(U^(P|~z))+D[12]+1700485571&4294967295,S=P+(I<<6&4294967295|I>>>26),I=z+(P^(S|~U))+D[3]+2399980690&4294967295,z=S+(I<<10&4294967295|I>>>22),I=U+(S^(z|~P))+D[10]+4293915773&4294967295,U=z+(I<<15&4294967295|I>>>17),I=P+(z^(U|~S))+D[1]+2240044497&4294967295,P=U+(I<<21&4294967295|I>>>11),I=S+(U^(P|~z))+D[8]+1873313359&4294967295,S=P+(I<<6&4294967295|I>>>26),I=z+(P^(S|~U))+D[15]+4264355552&4294967295,z=S+(I<<10&4294967295|I>>>22),I=U+(S^(z|~P))+D[6]+2734768916&4294967295,U=z+(I<<15&4294967295|I>>>17),I=P+(z^(U|~S))+D[13]+1309151649&4294967295,P=U+(I<<21&4294967295|I>>>11),I=S+(U^(P|~z))+D[4]+4149444226&4294967295,S=P+(I<<6&4294967295|I>>>26),I=z+(P^(S|~U))+D[11]+3174756917&4294967295,z=S+(I<<10&4294967295|I>>>22),I=U+(S^(z|~P))+D[2]+718787259&4294967295,U=z+(I<<15&4294967295|I>>>17),I=P+(z^(U|~S))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(U+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+z&4294967295}r.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var P=S-this.blockSize,D=this.B,U=this.h,z=0;z<S;){if(U==0)for(;z<=P;)s(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<S;)if(D[U++]=M.charCodeAt(z++),U==this.blockSize){s(this,D),U=0;break}}else for(;z<S;)if(D[U++]=M[z++],U==this.blockSize){s(this,D),U=0;break}}this.h=U,this.o+=S},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var P=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=P&255,P/=256;for(this.u(M),M=Array(16),S=P=0;4>S;++S)for(var D=0;32>D;D+=8)M[P++]=this.g[S]>>>D&255;return M};function a(M,S){var P=c;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=S(M)}function l(M,S){this.h=S;for(var P=[],D=!0,U=M.length-1;0<=U;U--){var z=M[U]|0;D&&z==S||(P[U]=z,D=!1)}this.g=P}var c={};function f(M){return-128<=M&&128>M?a(M,function(S){return new l([S|0],0>S?-1:0)}):new l([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return k(p(-M));for(var S=[],P=1,D=0;M>=P;D++)S[D]=M/P|0,P*=4294967296;return new l(S,0)}function g(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return k(g(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(S,8)),D=v,U=0;U<M.length;U+=8){var z=Math.min(8,M.length-U),I=parseInt(M.substring(U,U+z),S);8>z?(z=p(Math.pow(S,z)),D=D.j(z).add(p(I))):(D=D.j(P),D=D.add(p(I)))}return D}var v=f(0),_=f(1),x=f(16777216);t=l.prototype,t.m=function(){if(V(this))return-k(this).m();for(var M=0,S=1,P=0;P<this.g.length;P++){var D=this.i(P);M+=(0<=D?D:4294967296+D)*S,S*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(V(this))return"-"+k(this).toString(M);for(var S=p(Math.pow(M,6)),P=this,D="";;){var U=Q(P,S).g;P=N(P,U.j(S));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=U,A(P))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function V(M){return M.h==-1}t.l=function(M){return M=N(this,M),V(M)?-1:A(M)?0:1};function k(M){for(var S=M.g.length,P=[],D=0;D<S;D++)P[D]=~M.g[D];return new l(P,~M.h).add(_)}t.abs=function(){return V(this)?k(this):this},t.add=function(M){for(var S=Math.max(this.g.length,M.g.length),P=[],D=0,U=0;U<=S;U++){var z=D+(this.i(U)&65535)+(M.i(U)&65535),I=(z>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);D=I>>>16,z&=65535,I&=65535,P[U]=I<<16|z}return new l(P,P[P.length-1]&-2147483648?-1:0)};function N(M,S){return M.add(k(S))}t.j=function(M){if(A(this)||A(M))return v;if(V(this))return V(M)?k(this).j(k(M)):k(k(this).j(M));if(V(M))return k(this.j(k(M)));if(0>this.l(x)&&0>M.l(x))return p(this.m()*M.m());for(var S=this.g.length+M.g.length,P=[],D=0;D<2*S;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var U=0;U<M.g.length;U++){var z=this.i(D)>>>16,I=this.i(D)&65535,Ae=M.i(U)>>>16,Ge=M.i(U)&65535;P[2*D+2*U]+=I*Ge,F(P,2*D+2*U),P[2*D+2*U+1]+=z*Ge,F(P,2*D+2*U+1),P[2*D+2*U+1]+=I*Ae,F(P,2*D+2*U+1),P[2*D+2*U+2]+=z*Ae,F(P,2*D+2*U+2)}for(D=0;D<S;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=S;D<2*S;D++)P[D]=0;return new l(P,0)};function F(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function B(M,S){this.g=M,this.h=S}function Q(M,S){if(A(S))throw Error("division by zero");if(A(M))return new B(v,v);if(V(M))return S=Q(k(M),S),new B(k(S.g),k(S.h));if(V(S))return S=Q(M,k(S)),new B(k(S.g),S.h);if(30<M.g.length){if(V(M)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var P=_,D=S;0>=D.l(M);)P=X(P),D=X(D);var U=re(P,1),z=re(D,1);for(D=re(D,2),P=re(P,2);!A(D);){var I=z.add(D);0>=I.l(M)&&(U=U.add(P),z=I),D=re(D,1),P=re(P,1)}return S=N(M,U.j(S)),new B(U,S)}for(U=v;0<=M.l(S);){for(P=Math.max(1,Math.floor(M.m()/S.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=p(P),I=z.j(S);V(I)||0<I.l(M);)P-=D,z=p(P),I=z.j(S);A(z)&&(z=_),U=U.add(z),M=N(M,I)}return new B(U,M)}t.A=function(M){return Q(this,M).h},t.and=function(M){for(var S=Math.max(this.g.length,M.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)&M.i(D);return new l(P,this.h&M.h)},t.or=function(M){for(var S=Math.max(this.g.length,M.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)|M.i(D);return new l(P,this.h|M.h)},t.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),P=[],D=0;D<S;D++)P[D]=this.i(D)^M.i(D);return new l(P,this.h^M.h)};function X(M){for(var S=M.g.length+1,P=[],D=0;D<S;D++)P[D]=M.i(D)<<1|M.i(D-1)>>>31;return new l(P,M.h)}function re(M,S){var P=S>>5;S%=32;for(var D=M.g.length-P,U=[],z=0;z<D;z++)U[z]=0<S?M.i(z+P)>>>S|M.i(z+P+1)<<32-S:M.i(z+P);return new l(U,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ET=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Cs=l}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,Pu,TT,wd,wg,xT,CT,ST;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var E=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var W=h[C];if(!(W in E))break e;E=E[W]}h=h[h.length-1],C=E[h],y=y(C),y!=C&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var E=0,C=!1,W={next:function(){if(!C&&E<h.length){var G=E++;return{value:y(G,h[G]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(h){return h||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,E){return h.call.apply(h.bind,arguments)}function v(h,y,E){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),h.apply(y,W)}}return function(){return h.apply(y,arguments)}}function _(h,y,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,_.apply(null,arguments)}function x(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function A(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(C,W,G){for(var le=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)le[Qe-2]=arguments[Qe];return y.prototype[W].apply(C,le)}}function V(h){const y=h.length;if(0<y){const E=Array(y);for(let C=0;C<y;C++)E[C]=h[C];return E}return[]}function k(h,y){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(f(C)){const W=h.length||0,G=C.length||0;h.length=W+G;for(let le=0;le<G;le++)h[W+le]=C[le]}else h.push(C)}}class N{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function Q(h){return Q[" "](h),h}Q[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function re(h,y,E){for(const C in h)y.call(E,h[C],C,h)}function M(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function S(h){const y={};for(const E in h)y[E]=h[E];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,y){let E,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(E in C)h[E]=C[E];for(let G=0;G<P.length;G++)E=P[G],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function U(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function z(h){c.setTimeout(()=>{throw h},0)}function I(){var h=ye;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,E){const C=Ge.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var Ge=new N(()=>new Be,h=>h.reset());class Be{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,oe=!1,ye=new Ae,ue=()=>{const h=c.Promise.resolve(void 0);Ce=()=>{h.then($)}};var $=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(E){z(E)}var y=Ge;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}oe=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h}();function he(h,y){if(J.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(X){e:{try{Q(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&he.aa.h.call(this)}}A(he,J);var Le={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Xe(h,y,E,C,W){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=W,this.key=++Me,this.da=this.fa=!1}function Ut(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ai(h){this.src=h,this.g={},this.h=0}ai.prototype.add=function(h,y,E,C,W){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var le=$i(h,y,C,W);return-1<le?(y=h[le],E||(y.fa=!1)):(y=new Xe(y,this.src,G,!!C,W),y.fa=E,h.push(y)),y};function qo(h,y){var E=y.type;if(E in h.g){var C=h.g[E],W=Array.prototype.indexOf.call(C,y,void 0),G;(G=0<=W)&&Array.prototype.splice.call(C,W,1),G&&(Ut(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function $i(h,y,E,C){for(var W=0;W<h.length;++W){var G=h[W];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==C)return W}return-1}var Bs="closure_lm_"+(1e6*Math.random()|0),Ko={};function Il(h,y,E,C,W){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Il(h,y[G],E,C,W);return null}return E=Rl(E),h&&h[Ee]?h.K(y,E,p(C)?!!C.capture:!1,W):Pl(h,y,E,!1,C,W)}function Pl(h,y,E,C,W,G){if(!y)throw Error("Invalid event type");var le=p(W)?!!W.capture:!!W,Qe=Yo(h);if(Qe||(h[Bs]=Qe=new ai(h)),E=Qe.add(y,E,C,le,G),E.proxy)return E;if(C=Lc(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)ce||(W=le),W===void 0&&(W=!1),h.addEventListener(y.toString(),C,W);else if(h.attachEvent)h.attachEvent(ui(y.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Lc(){function h(E){return y.call(h.src,h.listener,E)}const y=Al;return h}function Go(h,y,E,C,W){if(Array.isArray(y))for(var G=0;G<y.length;G++)Go(h,y[G],E,C,W);else C=p(C)?!!C.capture:!!C,E=Rl(E),h&&h[Ee]?(h=h.i,y=String(y).toString(),y in h.g&&(G=h.g[y],E=$i(G,E,C,W),-1<E&&(Ut(G[E]),Array.prototype.splice.call(G,E,1),G.length==0&&(delete h.g[y],h.h--)))):h&&(h=Yo(h))&&(y=h.g[y.toString()],h=-1,y&&(h=$i(y,E,C,W)),(E=-1<h?y[h]:null)&&li(E))}function li(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ee])qo(y.i,h);else{var E=h.type,C=h.proxy;y.removeEventListener?y.removeEventListener(E,C,h.capture):y.detachEvent?y.detachEvent(ui(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=Yo(y))?(qo(E,h),E.h==0&&(E.src=null,y[Bs]=null)):Ut(h)}}}function ui(h){return h in Ko?Ko[h]:Ko[h]="on"+h}function Al(h,y){if(h.da)h=!0;else{y=new he(y,this);var E=h.listener,C=h.ha||h.src;h.fa&&li(h),h=E.call(C,y)}return h}function Yo(h){return h=h[Bs],h instanceof ai?h:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rl(h){return typeof h=="function"?h:(h[Qo]||(h[Qo]=function(y){return h.handleEvent(y)}),h[Qo])}function Nt(){ee.call(this),this.i=new ai(this),this.M=this,this.F=null}A(Nt,ee),Nt.prototype[Ee]=!0,Nt.prototype.removeEventListener=function(h,y,E,C){Go(this,h,y,E,C)};function Dt(h,y){var E,C=h.F;if(C)for(E=[];C;C=C.F)E.push(C);if(h=h.M,C=y.type||y,typeof y=="string")y=new J(y,h);else if(y instanceof J)y.target=y.target||h;else{var W=y;y=new J(C,h),D(y,W)}if(W=!0,E)for(var G=E.length-1;0<=G;G--){var le=y.g=E[G];W=ci(le,C,!0,y)&&W}if(le=y.g=h,W=ci(le,C,!0,y)&&W,W=ci(le,C,!1,y)&&W,E)for(G=0;G<E.length;G++)le=y.g=E[G],W=ci(le,C,!1,y)&&W}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],C=0;C<E.length;C++)Ut(E[C]);delete h.g[y],h.h--}}this.F=null},Nt.prototype.K=function(h,y,E,C){return this.i.add(String(h),y,!1,E,C)},Nt.prototype.L=function(h,y,E,C){return this.i.add(String(h),y,!0,E,C)};function ci(h,y,E,C){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,G=0;G<y.length;++G){var le=y[G];if(le&&!le.da&&le.capture==E){var Qe=le.listener,Lt=le.ha||le.src;le.fa&&qo(h.i,le),W=Qe.call(Lt,C)!==!1&&W}}return W&&!C.defaultPrevented}function Nl(h,y,E){if(typeof h=="function")E&&(h=_(h,E));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function Wi(h){h.g=Nl(()=>{h.g=null,h.i&&(h.i=!1,Wi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class js extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(h){ee.call(this),this.h=h,this.g={}}A(zs,ee);var Dl=[];function Ll(h){re(h.g,function(y,E){this.g.hasOwnProperty(E)&&li(y)},h),h.g={}}zs.prototype.N=function(){zs.aa.N.call(this),Ll(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vl=c.JSON.stringify,Ml=c.JSON.parse,Ol=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function $s(){}$s.prototype.h=null;function Xo(h){return h.h||(h.h=h.i())}function Jo(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){J.call(this,"d")}A(Nr,J);function Zo(){J.call(this,"c")}A(Zo,J);var Dr={},Fl=null;function Ws(){return Fl=Fl||new Nt}Dr.La="serverreachability";function Ul(h){J.call(this,Dr.La,h)}A(Ul,J);function hi(h){const y=Ws();Dt(y,new Ul(y))}Dr.STAT_EVENT="statevent";function Bl(h,y){J.call(this,Dr.STAT_EVENT,h),this.stat=y}A(Bl,J);function wt(h){const y=Ws();Dt(y,new Bl(y,h))}Dr.Ma="timingevent";function ea(h,y){J.call(this,Dr.Ma,h),this.size=y}A(ea,J);function ur(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function qs(h,y,E,C,W,G){h.info(function(){if(h.g)if(G)for(var le="",Qe=G.split("&"),Lt=0;Lt<Qe.length;Lt++){var ze=Qe[Lt].split("=");if(1<ze.length){var Bt=ze[0];ze=ze[1];var Ct=Bt.split("_");le=2<=Ct.length&&Ct[1]=="type"?le+(Bt+"="+ze+"&"):le+(Bt+"=redacted&")}}else le=null;else le=G;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+y+`
`+E+`
`+le})}function ta(h,y,E,C,W,G,le){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+y+`
`+E+`
`+G+" "+le})}function cr(h,y,E,C){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Hf(h,E)+(C?" "+C:"")})}function jl(h,y){h.info(function(){return"TIMEOUT: "+y})}Hs.prototype.info=function(){};function Hf(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var C=E[h];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var G=W[0];if(G!="noop"&&G!="stop"&&G!="close")for(var le=1;le<W.length;le++)W[le]=""}}}}return Vl(E)}catch{return y}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function Ks(){}A(Ks,$s),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},hr=new Ks;function dr(h,y,E,C){this.j=h,this.i=y,this.l=E,this.R=C||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mc}function Mc(){this.i=null,this.g="",this.h=!1}var zl={},ra={};function ia(h,y,E){h.L=1,h.v=Yi(Vn(y)),h.m=E,h.P=!0,$l(h,null)}function $l(h,y){h.F=Date.now(),Ze(h),h.A=Vn(h.v);var E=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Xi(E.i,"t",C),h.C=0,E=h.j.J,h.h=new Mc,h.g=eh(h.j,E?y:null,!h.m),0<h.O&&(h.M=new js(_(h.Y,h,h.g),h.O)),y=h.U,E=h.g,C=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Dl[0]=W.toString()),W=Dl);for(var G=0;G<W.length;G++){var le=Il(E,W[G],C||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),hi(),qs(h.i,h.u,h.A,h.l,h.R,h.m)}dr.prototype.ca=function(h){h=h.target;const y=this.M;y&&Tn(h)==3?y.j():this.Y(h)},dr.prototype.Y=function(h){try{if(h==this.g)e:{const Ct=Tn(this.g);var y=this.g.Ba();const Yn=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Yl(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Yn?hi(3):hi(2)),Gs(this);var E=this.g.Z();this.X=E;t:if(Oc(this)){var C=Yl(this.g);h="";var W=C.length,G=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Hi(this);var le="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,h+=this.h.i.decode(C[y],{stream:!(G&&y==W-1)});C.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=E==200,ta(this.i,this.u,this.A,this.l,this.R,Ct,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Lt=this.g;if((Qe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Qe)){var ze=Qe;break t}}ze=null}if(E=ze)cr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wl(this,E);else{this.o=!1,this.s=3,wt(12),Kn(this),Hi(this);break e}}if(this.P){E=!0;let On;for(;!this.J&&this.C<le.length;)if(On=qf(this,le),On==ra){Ct==4&&(this.s=4,wt(14),E=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(On==zl){this.s=4,wt(15),cr(this.i,this.l,le,"[Invalid Chunk]"),E=!1;break}else cr(this.i,this.l,On,null),Wl(this,On);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||le.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)cr(this.i,this.l,le,"[Invalid Chunked Response]"),Kn(this),Hi(this);else if(0<le.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Xl(Bt),Bt.M=!0,wt(11))}}else cr(this.i,this.l,le,null),Wl(this,le);Ct==4&&Kn(this),this.o&&!this.J&&(Ct==4?ma(this.j,this):(this.o=!1,Ze(this)))}else ca(this.g),E==400&&0<le.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Kn(this),Hi(this)}}}catch{}finally{}};function Oc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function qf(h,y){var E=h.C,C=y.indexOf(`
`,E);return C==-1?ra:(E=Number(y.substring(E,C)),isNaN(E)?zl:(C+=1,C+E>y.length?ra:(y=y.slice(C,C+E),h.C=C+E,y)))}dr.prototype.cancel=function(){this.J=!0,Kn(this)};function Ze(h){h.S=Date.now()+h.I,Fc(h,h.I)}function Fc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ur(_(h.ba,h),y)}function Gs(h){h.B&&(c.clearTimeout(h.B),h.B=null)}dr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(jl(this.i,this.A),this.L!=2&&(hi(),wt(17)),Kn(this),this.s=2,Hi(this)):Fc(this,this.S-h)};function Hi(h){h.j.G==0||h.J||ma(h.j,h)}function Kn(h){Gs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Ll(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Wl(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||pn(E.h,h))){if(!h.K&&pn(E.h,h)&&E.G==3){try{var C=E.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)pa(E),yr(E);else break e;fa(E),wt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=ur(_(E.Za,E),6e3));if(1>=Bc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else gi(E,11)}else if((h.K||E.g==h)&&pa(E),!F(y))for(W=E.Da.g.parse(y),y=0;y<W.length;y++){let ze=W[y];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Bt=ze[3];Bt!=null&&(E.la=Bt,E.j.info("VER="+E.la));const Ct=ze[4];Ct!=null&&(E.Aa=Ct,E.j.info("SVER="+E.Aa));const Yn=ze[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(C=1.5*Yn,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const On=h.g;if(On){const to=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var G=C.h;G.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Hl(G,G.h),G.h=null))}if(C.D){const ya=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(C.ya=ya,Je(C.I,C.D,ya))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var le=h;if(C.qa=Zc(C,C.J?C.ia:null,C.W),le.K){jc(C.h,le);var Qe=le,Lt=C.L;Lt&&(Qe.I=Lt),Qe.B&&(Gs(Qe),Ze(Qe)),C.g=le}else eo(C);0<E.i.length&&Or(E)}else ze[0]!="stop"&&ze[0]!="close"||gi(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?gi(E,7):Yt(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}hi(4)}catch{}}var Uc=class{constructor(h,y){this.g=h,this.map=y}};function Ys(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Bc(h){return h.h?1:h.g?h.g.size:0}function pn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Hl(h,y){h.g?h.g.add(y):h.h=y}function jc(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ys.prototype.cancel=function(){if(this.i=zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return V(h.i)}function sa(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var y=[],E=h.length,C=0;C<E;C++)y.push(h[C]);return y}y=[],E=0;for(C in h)y[E++]=h[C];return y}function oa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const C in h)y[E++]=C;return y}}}function qi(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=oa(h),C=sa(h),W=C.length,G=0;G<W;G++)y.call(void 0,C[G],E&&E[G],h)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var C=h[E].indexOf("="),W=null;if(0<=C){var G=h[E].substring(0,C);W=h[E].substring(C+1)}else G=h[E];y(G,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function di(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof di){this.h=h.h,Xs(this,h.j),this.o=h.o,this.g=h.g,Ki(this,h.s),this.l=h.l;var y=h.i,E=new Lr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Gi(this,E),this.m=h.m}else h&&(y=String(h).match(Qs))?(this.h=!1,Xs(this,y[1]||"",!0),this.o=je(y[2]||""),this.g=je(y[3]||"",!0),Ki(this,y[4]),this.l=je(y[5]||"",!0),Gi(this,y[6]||"",!0),this.m=je(y[7]||"")):(this.h=!1,this.i=new Lr(null,this.h))}di.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Qi(y,aa,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Qi(y,aa,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Qi(E,E.charAt(0)=="/"?Hc:Wc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Qi(E,ql)),h.join("")};function Vn(h){return new di(h)}function Xs(h,y,E){h.j=E?je(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ki(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Gi(h,y,E){y instanceof Lr?(h.i=y,Vr(h.i,h.h)):(E||(y=Qi(y,qc)),h.i=new Lr(y,h.h))}function Je(h,y,E){h.i.set(y,E)}function Yi(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function je(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qi(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,$c),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function $c(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var aa=/[#\/\?@]/g,Wc=/[#\?:]/g,Hc=/[#\?]/g,qc=/[#\?@]/g,ql=/#/g;function Lr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Gt(h){h.g||(h.g=new Map,h.h=0,h.i&&Kf(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Lr.prototype,t.add=function(h,y){Gt(this),this.i=null,h=Gn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function fr(h,y){Gt(h),y=Gn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function pr(h,y){return Gt(h),y=Gn(h,y),h.g.has(y)}t.forEach=function(h,y){Gt(this),this.g.forEach(function(E,C){E.forEach(function(W){h.call(y,W,C,this)},this)},this)},t.na=function(){Gt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let C=0;C<y.length;C++){const W=h[C];for(let G=0;G<W.length;G++)E.push(y[C])}return E},t.V=function(h){Gt(this);let y=[];if(typeof h=="string")pr(this,h)&&(y=y.concat(this.g.get(Gn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},t.set=function(h,y){return Gt(this),this.i=null,h=Gn(this,h),pr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Xi(h,y,E){fr(h,y),0<E.length&&(h.i=null,h.g.set(Gn(h,y),V(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var C=y[E];const G=encodeURIComponent(String(C)),le=this.V(C);for(C=0;C<le.length;C++){var W=G;le[C]!==""&&(W+="="+encodeURIComponent(String(le[C]))),h.push(W)}}return this.i=h.join("&")};function Gn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Vr(h,y){y&&!h.j&&(Gt(h),h.i=null,h.g.forEach(function(E,C){var W=C.toLowerCase();C!=W&&(fr(this,C),Xi(this,W,E))},h)),h.j=y}function Gf(h,y){const E=new Hs;if(c.Image){const C=new Image;C.onload=x(bn,E,"TestLoadImage: loaded",!0,y,C),C.onerror=x(bn,E,"TestLoadImage: error",!1,y,C),C.onabort=x(bn,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=x(bn,E,"TestLoadImage: timeout",!1,y,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else y(!1)}function Kc(h,y){const E=new Hs,C=new AbortController,W=setTimeout(()=>{C.abort(),bn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:C.signal}).then(G=>{clearTimeout(W),G.ok?bn(E,"TestPingServer: ok",!0,y):bn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),bn(E,"TestPingServer: error",!1,y)})}function bn(h,y,E,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(E)}catch{}}function Yf(){this.g=new Ol}function Gc(h,y,E){const C=E||"";try{qi(h,function(W,G){let le=W;p(W)&&(le=Vl(W)),y.push(C+G+"="+encodeURIComponent(le))})}catch(W){throw y.push(C+"type="+encodeURIComponent("_badmap")),W}}function fi(h){this.l=h.Ub||null,this.j=h.eb||!1}A(fi,$s),fi.prototype.g=function(){return new Js(this.l,this.j)},fi.prototype.i=function(h){return function(){return h}}({});function Js(h,y){Nt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Js,Nt),t=Js.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,gr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?mr(this):gr(this),this.readyState==3&&Yc(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,mr(this))},t.Qa=function(h){this.g&&(this.response=h,mr(this))},t.ga=function(){this.g&&mr(this)};function mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gr(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function gr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function pi(h){let y="";return re(h,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function Ji(h,y,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=pi(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Je(h,y,E))}function ot(h){Nt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ot,Nt);var Qf=/^https?$/i,Kl=["POST","PUT"];t=ot.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?Xo(this.o):Xo(hr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){Zs(this,G);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)E.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const G of C.keys())E.set(G,C.get(G));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),W=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Kl,y,void 0))||C||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of E)this.g.setRequestHeader(G,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){Zs(this,G)}};function Zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,la(h),Mn(h)}function la(h){h.A||(h.A=!0,Dt(h,"complete"),Dt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Dt(this,"complete"),Dt(this,"abort"),Mn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gl(this):this.bb())},t.bb=function(){Gl(this)};function Gl(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Tn(h)!=4||h.Z()!=2)){if(h.u&&Tn(h)==4)Nl(h.Ea,0,h);else if(Dt(h,"readystatechange"),Tn(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var C;if(C=le===0){var W=String(h.D).match(Qs)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),C=!Qf.test(W?W.toLowerCase():"")}E=C}if(E)Dt(h,"complete"),Dt(h,"success");else{h.m=6;try{var G=2<Tn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",la(h)}}finally{Mn(h)}}}}function Mn(h,y){if(h.g){ua(h);const E=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Dt(h,"ready");try{E.onreadystatechange=C}catch{}}}function ua(h){h.I&&(c.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Tn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ml(y)}};function Yl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(h){const y={};h=(h.g&&2<=Tn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(F(h[C]))continue;var E=U(h[C]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[W]||[];y[W]=G,G.push(E)}M(y,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Ql(h){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,h),this.cb=Mr("retryDelaySeedMs",1e4,h),this.Wa=Mr("forwardChannelMaxRetries",2,h),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ys(h&&h.concurrentRequestLimit),this.Da=new Yf,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ql.prototype,t.la=8,t.G=1,t.connect=function(h,y,E,C){wt(0),this.W=h,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=Zc(this,null,this.W),Or(this)};function Yt(h){if(ha(h),h.G==3){var y=h.U++,E=Vn(h.I);if(Je(E,"SID",h.K),Je(E,"RID",y),Je(E,"TYPE","terminate"),mi(h,E),y=new dr(h,h.j,y),y.L=2,y.v=Yi(Vn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=eh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ze(y)}Jc(h)}function yr(h){h.g&&(Xl(h),h.g.cancel(),h.g=null)}function ha(h){yr(h),h.u&&(c.clearTimeout(h.u),h.u=null),pa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function Or(h){if(!Ln(h.h)&&!h.s){h.s=!0;var y=h.Ga;Ce||ue(),oe||(Ce(),oe=!0),ye.add(y,h),h.B=0}}function Xf(h,y){return Bc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ur(_(h.Ga,h,y),Xc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new dr(this,this.j,h);let G=this.o;if(this.S&&(G?(G=S(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(W.H=G,G=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Zi(this,W,y),E=Vn(this.I),Je(E,"RID",h),Je(E,"CVER",22),this.D&&Je(E,"X-HTTP-Session-Id",this.D),mi(this,E),G&&(this.O?y="headers="+encodeURIComponent(String(pi(G)))+"&"+y:this.m&&Ji(E,this.m,G)),Hl(this.h,W),this.Ua&&Je(E,"TYPE","init"),this.P?(Je(E,"$req",y),Je(E,"SID","null"),W.T=!0,ia(W,E,null)):ia(W,E,y),this.G=2}}else this.G==3&&(h?da(this,h):this.i.length==0||Ln(this.h)||da(this))};function da(h,y){var E;y?E=y.l:E=h.U++;const C=Vn(h.I);Je(C,"SID",h.K),Je(C,"RID",E),Je(C,"AID",h.T),mi(h,C),h.m&&h.o&&Ji(C,h.m,h.o),E=new dr(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Zi(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Hl(h.h,E),ia(E,C,y)}function mi(h,y){h.H&&re(h.H,function(E,C){Je(y,C,E)}),h.l&&qi({},function(E,C){Je(y,C,E)})}function Zi(h,y,E){E=Math.min(h.i.length,E);var C=h.l?_(h.l.Na,h.l,h):null;e:{var W=h.i;let G=-1;for(;;){const le=["count="+E];G==-1?0<E?(G=W[0].g,le.push("ofs="+G)):G=0:le.push("ofs="+G);let Qe=!0;for(let Lt=0;Lt<E;Lt++){let ze=W[Lt].g;const Bt=W[Lt].map;if(ze-=G,0>ze)G=Math.max(0,W[Lt].g-100),Qe=!1;else try{Gc(Bt,le,"req"+ze+"_")}catch{C&&C(Bt)}}if(Qe){C=le.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,C}function eo(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Ce||ue(),oe||(Ce(),oe=!0),ye.add(y,h),h.v=0}}function fa(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ur(_(h.Fa,h),Xc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ur(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),yr(this),Qc(this))};function Xl(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function Qc(h){h.g=new dr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Vn(h.qa);Je(y,"RID","rpc"),Je(y,"SID",h.K),Je(y,"AID",h.T),Je(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(y,"TO",h.ja),Je(y,"TYPE","xmlhttp"),mi(h,y),h.m&&h.o&&Ji(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Yi(Vn(y)),E.m=null,E.P=!0,$l(E,h)}t.Za=function(){this.C!=null&&(this.C=null,yr(this),fa(this),wt(19))};function pa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ma(h,y){var E=null;if(h.g==y){pa(h),Xl(h),h.g=null;var C=2}else if(pn(h.h,y))E=y.D,jc(h.h,y),C=1;else return;if(h.G!=0){if(y.o)if(C==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var W=h.B;C=Ws(),Dt(C,new ea(C,E)),Or(h)}else eo(h);else if(W=y.s,W==3||W==0&&0<y.X||!(C==1&&Xf(h,y)||C==2&&fa(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),W){case 1:gi(h,5);break;case 4:gi(h,10);break;case 3:gi(h,6);break;default:gi(h,2)}}}function Xc(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function gi(h,y){if(h.j.info("Error code "+y),y==2){var E=_(h.fb,h),C=h.Xa;const W=!C;C=new di(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xs(C,"https"),Yi(C),W?Gf(C.toString(),E):Kc(C.toString(),E)}else wt(2);h.G=0,h.l&&h.l.sa(y),Jc(h),ha(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Jc(h){if(h.G=0,h.ka=[],h.l){const y=zc(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ka,y),k(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function Zc(h,y,E){var C=E instanceof di?Vn(E):new di(E);if(C.g!="")y&&(C.g=y+"."+C.g),Ki(C,C.s);else{var W=c.location;C=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var G=new di(null);C&&Xs(G,C),y&&(G.g=y),W&&Ki(G,W),E&&(G.l=E),C=G}return E=h.D,y=h.ya,E&&y&&Je(C,E,y),Je(C,"VER",h.la),mi(h,C),C}function eh(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ot(new fi({eb:E})):new ot(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}t=Jl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ga(){}ga.prototype.g=function(h,y){return new mn(h,y)};function mn(h,y){Nt.call(this),this.g=new Ql(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!F(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Fr(this)}A(mn,Nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yt(this.g)},mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Vl(h),h=E);y.i.push(new Uc(y.Ya++,h)),y.G==3&&Or(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,mn.aa.N.call(this)};function th(h){Nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}A(th,Nr);function nh(){Zo.call(this),this.status=1}A(nh,Zo);function Fr(h){this.g=h}A(Fr,Jl),Fr.prototype.ua=function(){Dt(this.g,"a")},Fr.prototype.ta=function(h){Dt(this.g,new th(h))},Fr.prototype.sa=function(h){Dt(this.g,new nh)},Fr.prototype.ra=function(){Dt(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,ST=function(){return new ga},CT=function(){return Ws()},xT=Dr,wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,wd=na,Vc.COMPLETE="complete",TT=Vc,Jo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Pu=Jo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,bT=ot}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const gE="@firebase/firestore",yE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new by("@firebase/firestore");function Fa(){return Lo.logLevel}function pe(t,...e){if(Lo.logLevel<=Oe.DEBUG){const n=e.map(Vy);Lo.debug(`Firestore (${ml}): ${t}`,...n)}}function Vi(t,...e){if(Lo.logLevel<=Oe.ERROR){const n=e.map(Vy);Lo.error(`Firestore (${ml}): ${t}`,...n)}}function tl(t,...e){if(Lo.logLevel<=Oe.WARN){const n=e.map(Vy);Lo.warn(`Firestore (${ml}): ${t}`,...n)}}function Vy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kT(t,r,n)}function kT(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vi(r),new Error(r)}function Ye(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||kT(e,s,r)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class KD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new IT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class YD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new YD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=JD(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function vg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return Am(s)===Am(a)?Fe(s,a):Am(s)?1:-1}return Fe(t.length,e.length)}const ZD=55296,eL=57343;function Am(t){const e=t.charCodeAt(0);return e>=ZD&&e<=eL}function nl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__name__";class $r{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=$r.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Fe(e.length,n.length)}static compareSegments(e,n){const r=$r.isNumericId(e),s=$r.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?$r.extractNumericId(e).compare($r.extractNumericId(n)):vg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class tt extends $r{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const tL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends $r{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return tL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vE}static keyField(){return new en([vE])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e,n){if(!n)throw new fe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nL(t,e,n,r){if(e===!0&&r===!0)throw new fe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _E(t){if(!_e.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EE(t){if(_e.isDocumentKey(t))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ef(t);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){const n={typeString:t};return e&&(n.value=e),n}function wc(t,e){if(!AT(t))throw new fe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=-62135596800,TE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TE);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bE)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new st(0,0))}static max(){return new Ne(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;function rL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Is(s,_e.empty(),e)}function iL(t){return new Is(t.readTime,t.key,Qu)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(Ne.min(),_e.empty(),Qu)}static max(){return new Is(Ne.max(),_e.empty(),Qu)}}function sL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==oL)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},f=>r(f))}),l=!0,a===s&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(s=>s?te.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new te((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new te((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function lL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-1;function Tf(t){return t==null}function Bd(t){return t===0&&1/t==-1/0}function uL(t){return typeof t=="number"&&Number.isInteger(t)&&!Bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function cL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xE(e)),e=hL(t.get(n),e);return xE(e)}function hL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case RT:n+="";break;default:n+=a}}return n}function xE(t){return t+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Zt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(e){return new SE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class SE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new kr([])}unionWith(e){let n=new Ft(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DT("Invalid base64 string: "+a):a}}(e);return new tn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const dL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=dL.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function As(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="server_timestamp",VT="__type__",MT="__previous_value__",OT="__local_write_time__";function Fy(t){return(t?.mapValue?.fields||{})[VT]?.stringValue===LT}function xf(t){const e=t.mapValue.fields[MT];return Fy(e)?xf(e):e}function Xu(t){const e=Ps(t.mapValue.fields[OT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,s,a,l,c,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const jd="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",pL="__max__",ed={mapValue:{}},UT="__vector__",zd="value";function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fy(t)?4:gL(t)?9007199254740991:mL(t)?10:11:ke(28295,{value:t})}function ni(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ps(s.timestampValue),c=Ps(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return As(s.bytesValue).isEqual(As(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return bt(s.geoPointValue.latitude)===bt(a.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return bt(s.integerValue)===bt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=bt(s.doubleValue),c=bt(a.doubleValue);return l===c?Bd(l)===Bd(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(CE(l)!==CE(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ni(l[f],c[f])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=Rs(t),r=Rs(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=bt(a.integerValue||a.doubleValue),f=bt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return kE(t.timestampValue,e.timestampValue);case 4:return kE(Xu(t),Xu(e));case 5:return vg(t.stringValue,e.stringValue);case 6:return function(a,l){const c=As(a),f=As(l);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=Fe(c[p],f[p]);if(g!==0)return g}return Fe(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Fe(bt(a.latitude),bt(l.latitude));return c!==0?c:Fe(bt(a.longitude),bt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IE(t.arrayValue,e.arrayValue);case 10:return function(a,l){const c=a.fields||{},f=l.fields||{},p=c[zd]?.arrayValue,g=f[zd]?.arrayValue,v=Fe(p?.values?.length||0,g?.values?.length||0);return v!==0?v:IE(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===ed.mapValue&&l===ed.mapValue)return 0;if(a===ed.mapValue)return 1;if(l===ed.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=vg(f[v],g[v]);if(_!==0)return _;const x=rl(c[f[v]],p[g[v]]);if(x!==0)return x}return Fe(f.length,g.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function kE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Ps(t),r=Ps(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function IE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=rl(n[s],r[s]);if(a)return a}return Fe(n.length,r.length)}function il(t){return _g(t)}function _g(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return As(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=_g(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${_g(n.fields[l])}`;return s+"}"}(t.mapValue):ke(61005,{value:t})}function vd(t){switch(Rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xf(t);return e?16+vd(e):16;case 5:return 2*t.stringValue.length;case 6:return As(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+vd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Bo(r.fields,(a,l)=>{s+=a.length+vd(l)}),s}(t.mapValue);default:throw ke(13486,{value:t})}}function PE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Eg(t){return!!t&&"integerValue"in t}function Uy(t){return!!t&&"arrayValue"in t}function AE(t){return!!t&&"nullValue"in t}function RE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _d(t){return!!t&&"mapValue"in t}function mL(t){return(t?.mapValue?.fields||{})[FT]?.stringValue===UT}function Mu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return{...t}}function gL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=en.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Mu(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_d(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bo(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new ir(Mu(this.value))}}function BT(t){const e=[];return Bo(t.fields,(n,r)=>{const s=new en([n]);if(_d(r)){const a=BT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new un(e,0,Ne.min(),Ne.min(),Ne.min(),ir.empty(),0)}static newFoundDocument(e,n,r,s){return new un(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new un(e,2,n,Ne.min(),Ne.min(),ir.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ne.min(),Ne.min(),ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.position=e,this.inclusive=n}}function NE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=rl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function DE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function yL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{}class Pt extends jT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vL(e,n,r):n==="array-contains"?new bL(e,r):n==="in"?new TL(e,r):n==="not-in"?new xL(e,r):n==="array-contains-any"?new CL(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _L(e,r):new EL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends jT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rr(e,n)}matches(e){return zT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zT(t){return t.op==="and"}function $T(t){return wL(t)&&zT(t)}function wL(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function bg(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+il(t.value);if($T(t))return t.filters.map(e=>bg(e)).join(",");{const e=t.filters.map(n=>bg(n)).join(",");return`${t.op}(${e})`}}function WT(t,e){return t instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&ni(r.value,s.value)}(t,e):t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&WT(l,s.filters[c]),!0):!1}(t,e):void ke(19439)}function HT(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(HT).join(" ,")+"}"}(t):"Filter"}class vL extends Pt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class _L extends Pt{constructor(e,n){super(e,"in",n),this.keys=qT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EL extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=qT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qT(t,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class bL extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uy(n)&&Zu(n.arrayValue,this.value)}}class TL extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class xL extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class CL extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function LE(t,e=null,n=[],r=[],s=null,a=null,l=null){return new SL(t,e,n,r,s,a,l)}function By(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.Te=n}return e.Te}function jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DE(t.startAt,e.startAt)&&DE(t.endAt,e.endAt)}function Tg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kL(t,e,n,r,s,a,l,c){return new vc(t,e,n,r,s,a,l,c)}function zy(t){return new vc(t)}function VE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KT(t){return t.collectionGroup!==null}function Ou(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ft(en.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Wd(a,r))}),n.has(en.keyField().canonicalString())||e.Ie.push(new Wd(en.keyField(),r))}return e.Ie}function Gr(t){const e=De(t);return e.Ee||(e.Ee=IL(e,Ou(t))),e.Ee}function IL(t,e){if(t.limitType==="F")return LE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Wd(s.field,a)});const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return LE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xg(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cg(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cf(t,e){return jy(Gr(t),Gr(e))&&t.limitType===e.limitType}function GT(t){return`${By(Gr(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>HT(s)).join(", ")}]`),Tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>il(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>il(s)).join(",")),`Target(${r})`}(Gr(t))}; limitType=${t.limitType})`}function Sf(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Ou(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,f){const p=NE(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,Ou(r),s)||r.endAt&&!function(l,c,f){const p=NE(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,Ou(r),s))}(t,e)}function PL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YT(t){return(e,n)=>{let r=!1;for(const s of Ou(t)){const a=AL(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function AL(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?rl(f,p):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new ft(_e.comparator);function Oi(){return RL}const QT=new ft(_e.comparator);function Au(...t){let e=QT;for(const n of t)e=e.insert(n.key,n);return e}function XT(t){let e=QT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bo(){return Fu()}function JT(){return Fu()}function Fu(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const NL=new ft(_e.comparator),DL=new Ft(_e.comparator);function Ue(...t){let e=DL;for(const n of t)e=e.add(n);return e}const LL=new Ft(Fe);function VL(){return LL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function ZT(t){return{integerValue:""+t}}function ML(t,e){return uL(e)?ZT(e):$y(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function OL(t,e,n){return t instanceof ec?function(s,a){const l={fields:{[VT]:{stringValue:LT},[OT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Fy(a)&&(a=xf(a)),a&&(l.fields[MT]=a),{mapValue:l}}(n,e):t instanceof tc?tx(t,e):t instanceof nc?nx(t,e):function(s,a){const l=ex(s,a),c=ME(l)+ME(s.Ae);return Eg(l)&&Eg(s.Ae)?ZT(c):$y(s.serializer,c)}(t,e)}function FL(t,e,n){return t instanceof tc?tx(t,e):t instanceof nc?nx(t,e):n}function ex(t,e){return t instanceof Hd?function(r){return Eg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ec extends kf{}class tc extends kf{constructor(e){super(),this.elements=e}}function tx(t,e){const n=rx(e);for(const r of t.elements)n.some(s=>ni(s,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends kf{constructor(e){super(),this.elements=e}}function nx(t,e){let n=rx(e);for(const r of t.elements)n=n.filter(s=>!ni(s,r));return{arrayValue:{values:n}}}class Hd extends kf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ME(t){return bt(t.integerValue||t.doubleValue)}function rx(t){return Uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n){this.field=e,this.transform=n}}function BL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tc&&s instanceof tc||r instanceof nc&&s instanceof nc?nl(r.elements,s.elements,ni):r instanceof Hd&&s instanceof Hd?ni(r.Ae,s.Ae):r instanceof ec&&s instanceof ec}(t.transform,e.transform)}class jL{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class If{}function ix(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wy(t.key,Ar.none()):new _c(t.key,t.data,Ar.none());{const n=t.data,r=ir.empty();let s=new Ft(en.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new zo(t.key,r,new kr(s.toArray()),Ar.none())}}function zL(t,e,n){t instanceof _c?function(s,a,l){const c=s.value.clone(),f=FE(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof zo?function(s,a,l){if(!Ed(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=FE(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(sx(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Uu(t,e,n,r){return t instanceof _c?function(a,l,c,f){if(!Ed(a.precondition,l))return c;const p=a.value.clone(),g=UE(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof zo?function(a,l,c,f){if(!Ed(a.precondition,l))return c;const p=UE(a.fieldTransforms,f,l),g=l.data;return g.setAll(sx(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(a,l,c){return Ed(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function $L(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=ex(r.transform,s||null);a!=null&&(n===null&&(n=ir.empty()),n.set(r.field,a))}return n||null}function OE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nl(r,s,(a,l)=>BL(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _c extends If{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zo extends If{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FE(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,FL(l,c,n[s]))}return r}function UE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,OL(a,l,e))}return r}class Wy extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WL extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&zL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JT();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const f=ix(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>OE(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>OE(n,r))}}class Hy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return NL}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Hy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function GL(t){switch(t){case Z.OK:return ke(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function ox(t){if(t===void 0)return Vi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case kt.OK:return Z.OK;case kt.CANCELLED:return Z.CANCELLED;case kt.UNKNOWN:return Z.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Z.INTERNAL;case kt.UNAVAILABLE:return Z.UNAVAILABLE;case kt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case kt.NOT_FOUND:return Z.NOT_FOUND;case kt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case kt.ABORTED:return Z.ABORTED;case kt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case kt.DATA_LOSS:return Z.DATA_LOSS;default:return ke(39323,{code:t})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=new Cs([4294967295,4294967295],0);function BE(t){const e=YL().encode(t),n=new ET;return n.update(e),new Uint8Array(n.digest())}function jE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([s,a],0)]}class qy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ru(`Invalid padding: ${n}`);if(r<0)throw new Ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Cs.fromNumber(r)));return s.compare(QL)===1&&(s=new Cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BE(e),[r,s]=jE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new qy(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.ge===0)return;const n=BE(e),[r,s]=jE(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pf(Ne.min(),s,new ft(Fe),Oi(),Ue())}}class Ec{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class ax{constructor(e,n){this.targetId=e,this.Ce=n}}class lx{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zE{constructor(){this.ve=0,this.Fe=$E(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke(38017,{changeType:a})}}),new Ec(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$E()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Oi(),this.Je=td(),this.He=td(),this.Ye=new ft(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Tg(a))if(r===0){const l=new _e(a.path);this.et(n,l,un.newNoDocument(l,Ne.min()))}else Ye(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=As(r).toUint8Array()}catch(f){if(f instanceof DT)return tl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new qy(l,s,a)}catch(f){return tl(f instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Tg(c.target)){const f=new _e(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,un.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}});let r=Ue();this.He.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const s=new Pf(e,n,this.Ye,this.je,r);return this.je=Oi(),this.Je=td(),this.He=td(),this.Ye=new ft(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function td(){return new ft(_e.comparator)}function $E(){return new ft(_e.comparator)}const JL={asc:"ASCENDING",desc:"DESCENDING"},ZL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e3={and:"AND",or:"OR"};class t3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sg(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ux(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n3(t,e){return qd(t,e.toTimestamp())}function Yr(t){return Ye(!!t,49232),Ne.fromTimestamp(function(n){const r=Ps(n);return new st(r.seconds,r.nanos)}(t))}function Ky(t,e){return kg(t,e).canonicalString()}function kg(t,e){const n=function(s){return new tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cx(t){const e=tt.fromString(t);return Ye(mx(e),10190,{key:e.toString()}),e}function Ig(t,e){return Ky(t.databaseId,e.path)}function Rm(t,e){const n=cx(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(dx(n))}function hx(t,e){return Ky(t.databaseId,e)}function r3(t){const e=cx(t);return e.length===4?tt.emptyPath():dx(e)}function Pg(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dx(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WE(t,e,n){return{name:Ig(t,e),fields:n.value.mapValue.fields}}function i3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Ye(g===void 0||typeof g=="string",58123),tn.fromBase64String(g||"")):(Ye(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),tn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?Z.UNKNOWN:ox(p.code);return new fe(g,p.message||"")}(l);n=new lx(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Rm(t,r.document.name),a=Yr(r.document.updateTime),l=r.document.createTime?Yr(r.document.createTime):Ne.min(),c=new ir({mapValue:{fields:r.document.fields}}),f=un.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new bd(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Rm(t,r.document),a=r.readTime?Yr(r.readTime):Ne.min(),l=un.newNoDocument(s,a),c=r.removedTargetIds||[];n=new bd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Rm(t,r.document),a=r.removedTargetIds||[];n=new bd([],a,s,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new KL(s,a),c=r.targetId;n=new ax(c,l)}}return n}function s3(t,e){let n;if(e instanceof _c)n={update:WE(t,e.key,e.value)};else if(e instanceof Wy)n={delete:Ig(t,e.key)};else if(e instanceof zo)n={update:WE(t,e.key,e.data),updateMask:p3(e.fieldMask)};else{if(!(e instanceof WL))return ke(16599,{Vt:e.type});n={verify:Ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof ec)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof tc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof nc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Hd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw ke(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:n3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)}(t,e.precondition)),n}function o3(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?Yr(s.updateTime):Yr(a);return l.isEqual(Ne.min())&&(l=Yr(a)),new jL(l,s.transformResults||[])}(n,e))):[]}function a3(t,e){return{documents:[hx(t,e.path)]}}function l3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hx(t,s);const a=function(p){if(p.length!==0)return px(Rr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(_){return{field:Ba(_.field),direction:h3(_.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Sg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:s}}function u3(t){let e=r3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(v){const _=fx(v);return _ instanceof Rr&&$T(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(_=>function(A){return new Wd(ja(A.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(v){let _;return _=typeof v=="object"?v.value:v,Tf(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(v){const _=!!v.before,x=v.values||[];return new $d(x,_)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const _=!v.before,x=v.values||[];return new $d(x,_)}(n.endAt)),kL(e,s,l,a,c,"F",f,p)}function c3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ja(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ja(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ja(n.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ja(n.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(ja(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>fx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function h3(t){return JL[t]}function d3(t){return ZL[t]}function f3(t){return e3[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function ja(t){return en.fromServerFormat(t.fieldPath)}function px(t){return t instanceof Pt?function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(AE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(AE(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:d3(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(s=>px(s));return r.length===1?r[0]:{compositeFilter:{op:f3(n.op),filters:r}}}(t):ke(54877,{filter:t})}function p3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,s,a=Ne.min(),l=Ne.min(),c=tn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.yt=e}}function g3(t){const e=u3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.Cn=new w3}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Is.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class w3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ft(tt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ft(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gx=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(gx,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="LruGarbageCollector",v3=1048576;function KE([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class _3{constructor(e){this.Ir=e,this.buffer=new Ft(KE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(qE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?pe(qE,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Vr(3e5)})}}class b3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(bf.ce);const r=new _3(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(HE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,n))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Fa()<=Oe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function T3(t,e){return new b3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Uu(r.mutation,s,kr.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const s=bo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Au();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=Oi();const l=Fu(),c=function(){return Fu()}();return n.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof zo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Uu(g.mutation,p,g.mutation.getFieldMask(),st.now())):l.set(p.key,kr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>c.set(p,new C3(g,l.get(p)??null))),c))}recalculateAndSaveOverlays(e,n){const r=Fu();let s=new ft((l,c)=>l-c),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||kr.empty();g=c.applyToLocalView(p,g),r.set(f,g);const v=(s.get(c.batchId)||Ue()).add(f);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,v=JT();g.forEach(_=>{if(!a.has(_)){const x=ix(n.get(_),r.get(_));x!==null&&v.set(_,x),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):te.resolve(bo());let c=Qu,f=a;return l.next(p=>te.forEach(p,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(g)?te.resolve():this.remoteDocumentCache.getEntry(e,g).next(_=>{f=f.insert(g,_)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ue())).next(g=>({batchId:c,changes:XT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let s=Au();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Au();return this.indexManager.getCollectionParents(e,a).next(c=>te.forEach(c,f=>{const p=function(v,_){return new vc(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,un.newInvalidDocument(g)))});let c=Au();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Uu(g.mutation,p,kr.empty(),st.now()),Sf(n,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Yr(s.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:g3(s.bundledQuery),readTime:Yr(s.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bo();return te.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const s=bo(),a=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return te.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ft((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=bo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=bo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return te.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new qL(n,r));let a=this.qr.get(n);a===void 0&&(a=Ue(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Qr=new Ft(Ht.$r),this.Ur=new Ft(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new _e(new tt([])),r=new Ht(n,e),s=new Ht(n,e+1),a=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new tt([])),r=new Ht(n,e),s=new Ht(n,e+1);let a=Ue();return this.Ur.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Ht(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Ht.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new HL(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new Ht(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Oy:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),s=new Ht(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],l=>{const c=this.Xr(l.Yr);a.push(c)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Fe);return n.forEach(s=>{const a=new Ht(s,0),l=new Ht(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],c=>{r=r.add(c.Yr)})}),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new Ht(new _e(a),0);let c=new Ft(Fe);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(f.Yr)),!0)},l),te.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,s=>{const a=new Ht(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ht(n,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.ri=e,this.docs=function(){return new ft(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():un.newInvalidDocument(s))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Oi();const l=n.path,c=new _e(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||sL(iL(g),r)<=0||(s.has(g.key)||Sf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,s){ke(9500)}ii(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N3(this)}getSize(e){return te.resolve(this.size)}}class N3 extends x3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.persistence=e,this.si=new jo(n=>By(n),jy),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Gy,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),te.waitFor(a).next(()=>s)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.ui={},this.overlays={},this.ci=new bf(0),this.li=!1,this.li=!0,this.hi=new P3,this.referenceDelegate=e(this),this.Pi=new D3(this),this.indexManager=new y3,this.remoteDocumentCache=function(s){return new R3(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new m3(n),this.Ii=new k3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new A3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const s=new L3(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,n){return te.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class L3 extends aL{constructor(e){super(),this.currentSequenceNumber=e}}class Yy{constructor(e){this.persistence=e,this.Ri=new Gy,this.Vi=null}static mi(e){return new Yy(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,r=>{const s=_e.fromPath(r);return this.gi(e,s).next(a=>{a||n.removeEntry(s,Ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kd{constructor(e,n){this.persistence=e,this.pi=new jo(r=>cL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=T3(this,n)}static mi(e,n){return new Kd(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?te.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vd(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ue(),s=Ue();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Qy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lR()?8:lL(dn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new V3;return this.Ss(e,n,l).next(c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)})}).next(()=>a.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Fa()<=Oe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(Fa()<=Oe.DEBUG&&pe("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Fa()<=Oe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(n))):te.resolve())}ys(e,n){if(VE(n))return te.resolve(null);let r=Gr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Cg(n,null,"F"),r=Gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ue(...a);return this.ps.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Ds(n,c);return this.Cs(n,p,l,f.readTime)?this.ys(e,Cg(n,null,"F")):this.vs(e,p,n,f)}))})))}ws(e,n,r,s){return VE(n)||s.isEqual(Ne.min())?te.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?te.resolve(null):(Fa()<=Oe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ua(n)),this.vs(e,l,n,rL(s,Qu)).next(c=>c))})}Ds(e,n){let r=new Ft(YT(e));return n.forEach((s,a)=>{Sf(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Fa()<=Oe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ps.getDocumentsMatchingQuery(e,n,Is.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="LocalStore",O3=3e8;class F3{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ft(Fe),this.xs=new jo(a=>By(a),jy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function U3(t,e,n,r){return new F3(t,e,n,r)}async function wx(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=Ue();for(const p of s){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ls:p,removedBatchIds:l,addedBatchIds:c}))})})}function B3(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const v=p.batch,_=v.keys();let x=te.resolve();return _.forEach(A=>{x=x.next(()=>g.getEntry(f,A)).next(V=>{const k=p.docVersions.get(A);Ye(k!==null,48541),V.version.compareTo(k)<0&&(v.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),g.addEntry(V)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ue();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function vx(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function j3(t,e){const n=De(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((g,v)=>{const _=s.get(v);if(!_)return;c.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next(()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v)));let x=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(tn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),s=s.insert(v,x),function(V,k,N){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=O3?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,x,g)&&c.push(n.Pi.updateTargetData(a,x))});let f=Oi(),p=Ue();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(z3(a,l,e.documentUpdates).next(g=>{f=g.ks,p=g.qs})),!r.isEqual(Ne.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next(v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return te.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ms=s,a))}function z3(t,e,n){let r=Ue(),s=Ue();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Oi();return n.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):pe(Xy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{ks:l,qs:s}})}function $3(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Oy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W3(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(a=>a?(s=a,te.resolve(s)):n.Pi.allocateTargetId(r).next(l=>(s=new _s(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ag(t,e,n){const r=De(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!yl(l))throw l;pe(Xy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function GE(t,e,n){const r=De(t);let s=Ne.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const v=De(f),_=v.xs.get(g);return _!==void 0?te.resolve(v.Ms.get(_)):v.Pi.getTargetData(p,g)}(r,l,Gr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Ne.min(),n?a:Ue())).next(c=>(H3(r,PL(e),c),{documents:c,Qs:a})))}function H3(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class YE{constructor(){this.activeTargetIds=VL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q3{constructor(){this.Mo=new YE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="ConnectivityMonitor";class XE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(QE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(QE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function Rg(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",G3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===jd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=Rg(),c=this.zo(e,n.toUriEncodedString());pe(Nm,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(c),g=Fs(p);return this.Jo(e,c,f,r,g).then(v=>(pe(Nm,`Received RPC '${e}' ${l}: `,v),v),v=>{throw tl(Nm,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v})}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,n){const r=G3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class X3 extends Y3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=Rg();return new Promise((c,f)=>{const p=new bT;p.setWithCredentials(!0),p.listenOnce(TT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wd.NO_ERROR:const v=p.getResponseJson();pe(an,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case wd.TIMEOUT:pe(an,`RPC '${e}' ${l} timed out`),f(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const _=p.getStatus();if(pe(an,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x?.error;if(A&&A.status&&A.message){const V=function(N){const F=N.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(F)>=0?F:Z.UNKNOWN}(A.status);f(new fe(V,A.message))}else f(new fe(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(an,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);pe(an,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)})}T_(e,n,r){const s=Rg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ST(),c=CT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");pe(an,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=l.createWebChannel(g,f);this.I_(v);let _=!1,x=!1;const A=new Q3({Yo:k=>{x?pe(an,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(_||(pe(an,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),pe(an,`RPC '${e}' stream ${s} sending:`,k),v.send(k))},Zo:()=>v.close()}),V=(k,N,F)=>{k.listen(N,B=>{try{F(B)}catch(Q){setTimeout(()=>{throw Q},0)}})};return V(v,Pu.EventType.OPEN,()=>{x||(pe(an,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),V(v,Pu.EventType.CLOSE,()=>{x||(x=!0,pe(an,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(v))}),V(v,Pu.EventType.ERROR,k=>{x||(x=!0,tl(an,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),A.a_(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),V(v,Pu.EventType.MESSAGE,k=>{if(!x){const N=k.data[0];Ye(!!N,16349);const F=N,B=F?.error||F[0]?.error;if(B){pe(an,`RPC '${e}' stream ${s} received error:`,B);const Q=B.status;let X=function(S){const P=kt[S];if(P!==void 0)return ox(P)}(Q),re=B.message;X===void 0&&(X=Z.INTERNAL,re="Unknown error status: "+Q+" with message "+B.message),x=!0,A.a_(new fe(X,re)),v.close()}else pe(an,`RPC '${e}' stream ${s} received:`,N),A.u_(N)}}),V(c,xT.STAT_EVENT,k=>{k.stat===wg.PROXY?pe(an,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===wg.NOPROXY&&pe(an,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return new t3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="PersistentStream";class Ex{constructor(e,n,r,s,a,l,c,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _x(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new fe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return pe(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(pe(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J3 extends Ex{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i3(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ne.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Yr(l.readTime):Ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Pg(this.serializer),n.addTarget=function(a,l){let c;const f=l.target;if(c=Tg(f)?{documents:a3(a,f)}:{query:l3(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ux(a,l.resumeToken);const p=Sg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){c.readTime=qd(a,l.snapshotVersion.toTimestamp());const p=Sg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=c3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Pg(this.serializer),n.removeTarget=e,this.q_(n)}}class Z3 extends Ex{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o3(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Pg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{}class t6 extends e6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,kg(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Z.UNKNOWN,a.toString())})}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(e,kg(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Z.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class n6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class r6{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{$o(this)&&(pe(Vo,"Restarting streams for network reachability change."),await async function(f){const p=De(f);p.Ea.add(4),await bc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Rf(p)}(this))})}),this.Ra=new n6(r,s)}}async function Rf(t){if($o(t))for(const e of t.da)await e(!0)}async function bc(t){for(const e of t.da)await e(!1)}function bx(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tw(n)?ew(n):wl(n).O_()&&Zy(n,e))}function Jy(t,e){const n=De(t),r=wl(n);n.Ia.delete(e),r.O_()&&Tx(n,e),n.Ia.size===0&&(r.O_()?r.L_():$o(n)&&n.Ra.set("Unknown"))}function Zy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(t).Y_(e)}function Tx(t,e){t.Va.Ue(e),wl(t).Z_(e)}function ew(t){t.Va=new XL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wl(t).start(),t.Ra.ua()}function tw(t){return $o(t)&&!wl(t).x_()&&t.Ia.size>0}function $o(t){return De(t).Ea.size===0}function xx(t){t.Va=void 0}async function i6(t){t.Ra.set("Online")}async function s6(t){t.Ia.forEach((e,n)=>{Zy(t,e)})}async function o6(t,e){xx(t),tw(t)?(t.Ra.ha(e),ew(t)):t.Ra.set("Unknown")}async function a6(t,e,n){if(t.Ra.set("Online"),e instanceof lx&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){pe(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof bd?t.Va.Ze(e):e instanceof ax?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await vx(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(tn.EMPTY_BYTE_STRING,g.snapshotVersion)),Tx(a,f);const v=new _s(g.target,f,p,g.sequenceNumber);Zy(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){pe(Vo,"Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await bc(t),t.Ra.set("Offline"),n||(n=()=>vx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(Vo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rf(t)})}function Cx(t,e){return e().catch(n=>Gd(t,n,e))}async function Nf(t){const e=De(t),n=Ns(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oy;for(;l6(e);)try{const s=await $3(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,u6(e,s)}catch(s){await Gd(e,s)}Sx(e)&&kx(e)}function l6(t){return $o(t)&&t.Ta.length<10}function u6(t,e){t.Ta.push(e);const n=Ns(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Sx(t){return $o(t)&&!Ns(t).x_()&&t.Ta.length>0}function kx(t){Ns(t).start()}async function c6(t){Ns(t).ra()}async function h6(t){const e=Ns(t);for(const n of t.Ta)e.ea(n.mutations)}async function d6(t,e,n){const r=t.Ta.shift(),s=Hy.from(r,e,n);await Cx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nf(t)}async function f6(t,e){e&&Ns(t).X_&&await async function(r,s){if(function(l){return GL(l)&&l!==Z.ABORTED}(s.code)){const a=r.Ta.shift();Ns(r).B_(),await Cx(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Nf(r)}}(t,e),Sx(t)&&kx(t)}async function ZE(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),pe(Vo,"RemoteStore received new credentials");const r=$o(n);n.Ea.add(3),await bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rf(n)}async function p6(t,e){const n=De(t);e?(n.Ea.delete(2),await Rf(n)):e||(n.Ea.add(2),await bc(n),n.Ra.set("Unknown"))}function wl(t){return t.ma||(t.ma=function(n,r,s){const a=De(n);return a.sa(),new J3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:i6.bind(null,t),t_:s6.bind(null,t),r_:o6.bind(null,t),H_:a6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),tw(t)?ew(t):t.Ra.set("Unknown")):(await t.ma.stop(),xx(t))})),t.ma}function Ns(t){return t.fa||(t.fa=function(n,r,s){const a=De(n);return a.sa(),new Z3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c6.bind(null,t),r_:f6.bind(null,t),ta:h6.bind(null,t),na:d6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Nf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Vo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new nw(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),yl(t))return new fe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.ga=new ft(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ol{constructor(e,n,r,s,a,l,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new ol(e,n,Qa.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class g6{constructor(){this.queries=t1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=De(n),a=s.queries;s.queries=t1(),a.forEach((l,c)=>{for(const f of c.Sa)f.onError(r)})})(this,new fe(Z.ABORTED,"Firestore shutting down"))}}function t1(){return new jo(t=>GT(t),Cf)}async function Ix(t,e){const n=De(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new m6,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=rw(l,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&iw(n)}async function Px(t,e){const n=De(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y6(t,e){const n=De(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(s)&&(r=!0);l.wa=s}}r&&iw(n)}function w6(t,e,n){const r=De(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function iw(t){t.Ca.forEach(e=>{e.next()})}var Ng,n1;(n1=Ng||(Ng={})).Ma="default",n1.Cache="cache";class Ax{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.key=e}}class Nx{constructor(e){this.key=e}}class v6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=YT(e),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new e1,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const _=s.get(g),x=Sf(this.query,v)?v:null,A=!!_&&this.mutatedKeys.has(_.key),V=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;_&&x?_.data.isEqual(x.data)?A!==V&&(r.track({type:3,doc:x}),k=!0):this.su(_,x)||(r.track({type:2,doc:x}),k=!0,(f&&this.eu(x,f)>0||p&&this.eu(x,p)<0)&&(c=!0)):!_&&x?(r.track({type:0,doc:x}),k=!0):_&&!x&&(r.track({type:1,doc:_}),k=!0,(f||p)&&(c=!0)),k&&(x?(l=l.add(x),a=V?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((g,v)=>function(x,A){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:k})}};return V(x)-V(A)}(g.type,v.type)||this.eu(g.doc,v.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new ol(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Nx(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Rx(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sw="SyncEngine";class _6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class E6{constructor(e){this.key=e,this.hu=!1}}class b6{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new jo(c=>GT(c),Cf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Gy,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T6(t,e,n=!0){const r=Fx(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await Dx(r,e,n,!0),s}async function x6(t,e){const n=Fx(t);await Dx(n,e,!0,!1)}async function Dx(t,e,n,r){const s=await W3(t.localStore,Gr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await C6(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&bx(t.remoteStore,s),c}async function C6(t,e,n,r,s){t.pu=(v,_,x)=>async function(V,k,N,F){let B=k.view.ru(N);B.Cs&&(B=await GE(V.localStore,k.query,!1).then(({documents:M})=>k.view.ru(M,B)));const Q=F&&F.targetChanges.get(k.targetId),X=F&&F.targetMismatches.get(k.targetId)!=null,re=k.view.applyChanges(B,V.isPrimaryClient,Q,X);return i1(V,k.targetId,re.au),re.snapshot}(t,v,_,x);const a=await GE(t.localStore,e,!0),l=new v6(e,a.Qs),c=l.ru(a.documents),f=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,f);i1(t,n,p.au);const g=new _6(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function S6(t,e,n){const r=De(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(l=>!Cf(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ag(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jy(r.remoteStore,s.targetId),Dg(r,s.targetId)}).catch(gl)):(Dg(r,s.targetId),await Ag(r.localStore,s.targetId,!0))}async function k6(t,e){const n=De(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jy(n.remoteStore,r.targetId))}async function I6(t,e,n){const r=V6(t);try{const s=await function(l,c){const f=De(l),p=st.now(),g=c.reduce((x,A)=>x.add(A.key),Ue());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let A=Oi(),V=Ue();return f.Ns.getEntries(x,g).next(k=>{A=k,A.forEach((N,F)=>{F.isValidDocument()||(V=V.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,A)).next(k=>{v=k;const N=[];for(const F of c){const B=$L(F,v.get(F.key).overlayedDocument);B!=null&&N.push(new zo(F.key,B,BT(B.value.mapValue),Ar.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,N,c)}).next(k=>{_=k;const N=k.applyToLocalDocumentSet(v,V);return f.documentOverlayCache.saveOverlays(x,k.batchId,N)})}).then(()=>({batchId:_.batchId,changes:XT(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new ft(Fe)),p=p.insert(c,f),l.Vu[l.currentUser.toKey()]=p}(r,s.batchId,n),await Tc(r,s.changes),await Nf(r.remoteStore)}catch(s){const a=rw(s,"Failed to persist write");n.reject(a)}}async function Lx(t,e){const n=De(t);try{const r=await j3(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Au.get(a);l&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ye(l.hu,14607):s.removedDocuments.size>0&&(Ye(l.hu,42227),l.hu=!1))}),await Tc(n,r,e)}catch(r){await gl(r)}}function r1(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=De(l);f.onlineState=c;let p=!1;f.queries.forEach((g,v)=>{for(const _ of v.Sa)_.va(c)&&(p=!0)}),p&&iw(f)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P6(t,e,n){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new ft(_e.comparator);l=l.insert(a,un.newNoDocument(a,Ne.min()));const c=Ue().add(a),f=new Pf(Ne.min(),new Map,new ft(Fe),l,c);await Lx(r,f),r.du=r.du.remove(a),r.Au.delete(e),ow(r)}else await Ag(r.localStore,e,!1).then(()=>Dg(r,e,n)).catch(gl)}async function A6(t,e){const n=De(t),r=e.batch.batchId;try{const s=await B3(n.localStore,e);Mx(n,r,null),Vx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,s)}catch(s){await gl(s)}}async function R6(t,e,n){const r=De(t);try{const s=await function(l,c){const f=De(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(v=>(Ye(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);Mx(r,e,n),Vx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tc(r,s)}catch(s){await gl(s)}}function Vx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Mx(t,e,n){const r=De(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Dg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Ox(t,r)})}function Ox(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Jy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ow(t))}function i1(t,e,n){for(const r of n)r instanceof Rx?(t.Ru.addReference(r.key,e),N6(t,r)):r instanceof Nx?(pe(sw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Ox(t,r.key)):ke(19791,{wu:r})}function N6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(sw,"New document in limbo: "+n),t.Eu.add(r),ow(t))}function ow(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(tt.fromString(e)),r=t.fu.next();t.Au.set(r,new E6(n)),t.du=t.du.insert(n,r),bx(t.remoteStore,new _s(Gr(zy(n.path)),r,"TargetPurposeLimboResolution",bf.ce))}}async function Tc(t,e,n){const r=De(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((c,f)=>{l.push(r.pu(f,e,n).then(p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){s.push(p);const g=Qy.As(f.targetId,p);a.push(g)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(f,p){const g=De(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>te.forEach(p,_=>te.forEach(_.Es,x=>g.persistence.referenceDelegate.addReference(v,_.targetId,x)).next(()=>te.forEach(_.ds,x=>g.persistence.referenceDelegate.removeReference(v,_.targetId,x)))))}catch(v){if(!yl(v))throw v;pe(Xy,"Failed to update sequence numbers: "+v)}for(const v of p){const _=v.targetId;if(!v.fromCache){const x=g.Ms.get(_),A=x.snapshotVersion,V=x.withLastLimboFreeSnapshotVersion(A);g.Ms=g.Ms.insert(_,V)}}}(r.localStore,a))}async function D6(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){pe(sw,"User change. New user:",e.toKey());const r=await wx(n.localStore,e);n.currentUser=e,function(a,l){a.mu.forEach(c=>{c.forEach(f=>{f.reject(new fe(Z.CANCELLED,l))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.Ls)}}function L6(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let s=Ue();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function Fx(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P6.bind(null,e),e.Pu.H_=y6.bind(null,e.eventManager),e.Pu.yu=w6.bind(null,e.eventManager),e}function V6(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R6.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return U3(this.persistence,new M3,e.initialUser,this.serializer)}Cu(e){return new yx(Yy.mi,this.serializer)}Du(e){return new q3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class M6 extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Kd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new yx(r=>Kd.mi(r,n),this.serializer)}}class Lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D6.bind(null,this.syncEngine),await p6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g6}()}createDatastore(e){const n=Af(e.databaseInfo.databaseId),r=function(a){return new X3(a)}(e.databaseInfo);return function(a,l,c,f){return new t6(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new r6(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>r1(this.syncEngine,n,0),function(){return XE.v()?new XE:new K3}())}createSyncEngine(e,n){return function(s,a,l,c,f,p,g){const v=new b6(s,a,l,c,f,p);return g&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=De(n);pe(Vo,"RemoteStore shutting down."),r.Ea.add(5),await bc(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class O6{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ln.UNAUTHENTICATED,this.clientId=My.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{pe(Ds,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(Ds,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F6(t);pe(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ZE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ZE(e.remoteStore,s)),t._onlineComponents=e}async function F6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Ds,"Using user provided OfflineComponentProvider");try{await Lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await Lm(t,new Yd)}}else pe(Ds,"Using default OfflineComponentProvider"),await Lm(t,new M6(void 0));return t._offlineComponents}async function Bx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Ds,"Using user provided OnlineComponentProvider"),await s1(t,t._uninitializedComponentsProvider._online)):(pe(Ds,"Using default OnlineComponentProvider"),await s1(t,new Lg))),t._onlineComponents}function U6(t){return Bx(t).then(e=>e.syncEngine)}async function jx(t){const e=await Bx(t),n=e.eventManager;return n.onListen=T6.bind(null,e.syncEngine),n.onUnlisten=S6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k6.bind(null,e.syncEngine),n}function B6(t,e,n={}){const r=new Pi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new Ux({next:_=>{g.Nu(),l.enqueueAndForget(()=>Px(a,v));const x=_.docs.has(c);!x&&_.fromCache?p.reject(new fe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&f&&f.source==="server"?p.reject(new fe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new Ax(zy(c.path),g,{includeMetadataChanges:!0,qa:!0});return Ix(a,v)}(await jx(t),t.asyncQueue,e,n,r)),r.promise}function j6(t,e,n={}){const r=new Pi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new Ux({next:_=>{g.Nu(),l.enqueueAndForget(()=>Px(a,v)),_.fromCache&&f.source==="server"?p.reject(new fe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),v=new Ax(c,g,{includeMetadataChanges:!0,qa:!0});return Ix(a,v)}(await jx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firestore.googleapis.com",a1=!0;class l1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$x,this.ssl=a1}else this.host=e.host,this.ssl=e.ssl??a1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v3)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zx(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qD;switch(r.type){case"firstParty":return new QD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o1.get(n);r&&(pe("ComponentProvider","Removing Datastore"),o1.delete(n),r.terminate())}(this),Promise.resolve()}}function z6(t,e,n,r={}){t=Mi(t,Df);const s=Fs(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(_y(`https://${c}`),Ey("Firestore",!0)),a.host!==$x&&a.host!==c&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:s,emulatorOptions:r};if(!Ao(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=ln.MOCK_USER;else{p=V2(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ln(v)}t._authCredentials=new KD(new IT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wc(n,Rt._jsonSchema))return new Rt(e,r||null,new _e(tt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:At("string",Rt._jsonSchemaVersion),referencePath:At("string")};class Ss extends vl{constructor(e,n,r){super(e,n,zy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new _e(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Qd(t,e,...n){if(t=Tt(t),PT("collection","path",e),t instanceof Df){const r=tt.fromString(e,...n);return EE(r),new Ss(t,null,r)}{if(!(t instanceof Rt||t instanceof Ss))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return EE(r),new Ss(t.firestore,null,r)}}function zn(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=My.newId()),PT("doc","path",e),t instanceof Df){const r=tt.fromString(e,...n);return _E(r),new Rt(t,null,new _e(r))}{if(!(t instanceof Rt||t instanceof Ss))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return _E(r),new Rt(t.firestore,t instanceof Ss?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="AsyncQueue";class c1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _x(this,"async_queue_retry"),this._c=()=>{const r=Dm();r&&pe(u1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Pi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;pe(u1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",h1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=nw.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&ke(47125,{Pc:h1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function h1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _l extends Df{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new c1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c1(e),this._firestoreClient=void 0,await e}}}function $6(t,e){const n=typeof t=="object"?t:xy(),r=typeof t=="string"?t:jd,s=gf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=N2("firestore");a&&z6(s,...a)}return s}function aw(t){if(t._terminated)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W6(t),t._firestoreClient}function W6(t){const e=t._freezeSettings(),n=function(s,a,l,c){return new fL(s,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,zx(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new O6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(tn.fromBase64String(e))}catch(n){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:At("string",sr._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qr._jsonSchemaVersion}}static fromJSON(e){if(wc(e,Qr._jsonSchema))return new Qr(e.latitude,e.longitude)}}Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:At("string",Qr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Xr(e.vectorValues);throw new fe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:At("string",Xr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=/^__.*__$/;class q6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new _c(e,this.data,n,this.fieldTransforms)}}function Wx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class cw{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wx(this.Ac)&&H6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Af(e)}Cc(e,n,r,s=!1){return new cw({Ac:e,methodName:n,Dc:r,path:en.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hw(t){const e=t._freezeSettings(),n=Af(t._databaseId);return new K6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hx(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);Gx("Data must be an object, but it was:",l,r);const c=qx(r,l);let f,p;if(a.merge)f=new kr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const _=Y6(e,v,n);if(!l.contains(_))throw new fe(Z.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);X6(g,_)||g.push(_)}f=new kr(g),p=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=l.fieldTransforms;return new q6(new ir(c),f,p)}class dw extends uw{_toFieldTransform(e){return new UL(e.path,new ec)}isEqual(e){return e instanceof dw}}function G6(t,e,n,r=!1){return fw(n,t.Cc(r?4:3,e))}function fw(t,e){if(Kx(t=Tt(t)))return Gx("Unsupported field value:",e,t),qx(t,e);if(t instanceof uw)return function(r,s){if(!Wx(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let f=fw(c,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ML(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:qd(s.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(s.serializer,a)}}if(r instanceof Qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof sr)return{bytesValue:ux(s.serializer,r._byteString)};if(r instanceof Rt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ky(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Xr)return function(l,c){return{mapValue:{fields:{[FT]:{stringValue:UT},[zd]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Sc("VectorValues must only contain numeric values.");return $y(c.serializer,p)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ef(r)}`)}(t,e)}function qx(t,e){const n={};return NT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(t,(r,s)=>{const a=fw(s,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Kx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Qr||t instanceof sr||t instanceof Rt||t instanceof uw||t instanceof Xr)}function Gx(t,e,n){if(!Kx(n)||!AT(n)){const r=Ef(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Y6(t,e,n){if((e=Tt(e))instanceof lw)return e._internalPath;if(typeof e=="string")return Yx(t,e);throw Xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q6=new RegExp("[~\\*/\\[\\]]");function Yx(t,e,n){if(e.search(Q6)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lw(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xd(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new fe(Z.INVALID_ARGUMENT,c+t+f)}function X6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J6 extends Qx{data(){return super.data()}}function pw(t,e){return typeof e=="string"?Yx(t,e):e instanceof lw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mw{}class eV extends mw{}function Vg(t,e,...n){let r=[];e instanceof mw&&r.push(e),r=r.concat(n),function(a){const l=a.filter(f=>f instanceof gw).length,c=a.filter(f=>f instanceof Lf).length;if(l>1||l>0&&c>0)throw new fe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Lf extends eV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lf(e,n,r)}_apply(e){const n=this._parse(e);return Xx(e._query,n),new vl(e.firestore,e.converter,xg(e._query,n))}_parse(e){const n=hw(e.firestore);return function(a,l,c,f,p,g,v){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){f1(v,g);const A=[];for(const V of v)A.push(d1(f,a,V));_={arrayValue:{values:A}}}else _=d1(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||f1(v,g),_=G6(c,l,v,g==="in"||g==="not-in");return Pt.create(p,g,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mg(t,e,n){const r=e,s=pw("where",t);return Lf._create(s,r,n)}class gw extends mw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const f of c)Xx(l,f),l=xg(l,f)}(e._query,n),new vl(e.firestore,e.converter,xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function d1(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new fe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(e)&&n.indexOf("/")!==-1)throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!_e.isDocumentKey(r))throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PE(t,new _e(r))}if(n instanceof Rt)return PE(t,n._key);throw new fe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(n)}.`)}function f1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xx(t,e){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tV{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bo(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[zd].arrayValue?.values?.map(r=>bt(r.doubleValue));return new Xr(n)}convertGeoPoint(e){return new Qr(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ye(mx(r),9688,{name:e});const s=new Ju(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(n)||Vi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Co extends Qx{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:At("string",Co._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Td extends Co{data(e={}){return super.data(e)}}class Xa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Td(this._firestore,this._userDataWriter,r.key,r,new Nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new Td(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Nu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Td(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Nu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:nV(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=My.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){t=Mi(t,Rt);const e=Mi(t.firestore,_l);return B6(aw(e),t._key).then(n=>iV(e,t,n))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:At("string",Xa._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class Zx extends tV{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Og(t){t=Mi(t,vl);const e=Mi(t.firestore,_l),n=aw(e),r=new Zx(e);return Z6(t._query),j6(n,t._query).then(s=>new Xa(e,r,t,s))}function Vf(t,e,n){t=Mi(t,Rt);const r=Mi(t.firestore,_l),s=Jx(t.converter,e,n);return yw(r,[Hx(hw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ar.none())])}function eC(t){return yw(Mi(t.firestore,_l),[new Wy(t._key,Ar.none())])}function rV(t,e){const n=Mi(t.firestore,_l),r=zn(t),s=Jx(t.converter,e);return yw(n,[Hx(hw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}function yw(t,e){return function(r,s){const a=new Pi;return r.asyncQueue.enqueueAndForget(async()=>I6(await U6(r),s,a)),a.promise}(aw(t),e)}function iV(t,e,n){const r=n.docs.get(e._key),s=new Zx(t);return new Co(t,s,e._key,r,new Nu(n.hasPendingWrites,n.fromCache),e.converter)}function Vm(){return new dw("serverTimestamp")}(function(e,n=!0){(function(s){ml=s})(Uo),Ro(new ks("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new _l(new GD(r.getProvider("auth-internal")),new XD(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(p.options.projectId,g)}(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),qr(gE,yE,e),qr(gE,yE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebasestorage.googleapis.com",nC="storageBucket",sV=120*1e3,oV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends oi{constructor(e,n,r=0){super(Mm(e),`Firebase Storage: ${n} (${Mm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Mm(t){return"storage/"+t}function ww(){const t="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,t)}function aV(t){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lV(t){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,t)}function cV(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hV(t){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function dV(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fV(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function pV(t){return new yt(gt.INVALID_URL,"Invalid URL '"+t+"'.")}function mV(t){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gV(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nC+"' property when initializing the app?")}function yV(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wV(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vV(t){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fg(t){return new yt(gt.INVALID_ARGUMENT,t)}function rC(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function _V(t){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bu(t,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tu(t){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jn.makeFromUrl(e,n)}catch{return new jn(e,"")}if(r.path==="")return r;throw mV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(Q){Q.path_=decodeURIComponent(Q.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${g}/b/${s}/o${_}`,"i"),A={bucket:1,path:3},V=n===tC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",N=new RegExp(`^https?://${V}/${s}/${k}`,"i"),B=[{regex:c,indices:f,postModify:a},{regex:x,indices:A,postModify:p},{regex:N,indices:{bucket:1,path:2},postModify:p}];for(let Q=0;Q<B.length;Q++){const X=B[Q],re=X.regex.exec(e);if(re){const M=re[X.indices.bucket];let S=re[X.indices.path];S||(S=""),r=new jn(M,S),X.postModify(r);break}}if(r==null)throw pV(e);return r}}class EV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function f(){return c===2}let p=!1;function g(...k){p||(p=!0,e.apply(null,k))}function v(k){s=setTimeout(()=>{s=null,t(x,f())},k)}function _(){a&&clearTimeout(a)}function x(k,...N){if(p){_();return}if(k){_(),g.call(null,k,...N);return}if(f()||l){_(),g.call(null,k,...N);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,v(B)}let A=!1;function V(k){A||(A=!0,_(),!p&&(s!==null?(k||(c=2),clearTimeout(s),v(0)):k||(c=1)))}return v(0),a=setTimeout(()=>{l=!0,V(!0)},n),V}function TV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){return t!==void 0}function CV(t){return typeof t=="object"&&!Array.isArray(t)}function vw(t){return typeof t=="string"||t instanceof String}function p1(t){return _w()&&t instanceof Blob}function _w(){return typeof Blob<"u"}function m1(t,e,n,r){if(r<e)throw Fg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function iC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var So;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(So||(So={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s,a,l,c,f,p,g,v,_=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,V)=>{this.resolve_=A,this.reject_=V,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new rd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===So.NO_ERROR,f=a.getStatus();if(!c||SV(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===So.ABORT;r(!1,new rd(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new rd(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());xV(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=ww();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(s.canceled){const f=this.appDelete_?rC():fV();l(f)}else{const f=dV();l(f)}};this.canceled_?n(!1,new rd(!1,null,!0)):this.backoffId_=bV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function IV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NV(t,e,n,r,s,a,l=!0,c=!1){const f=iC(t.urlParams),p=t.url+f,g=Object.assign({},t.headers);return AV(g,e),IV(g,n),PV(g,a),RV(g,r),new kV(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LV(...t){const e=DV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(_w())return new Blob(t);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){if(typeof atob>"u")throw vV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Om{constructor(e,n){this.data=e,this.contentType=n||null}}function sC(t,e){switch(t){case Ir.RAW:return new Om(oC(e));case Ir.BASE64:case Ir.BASE64URL:return new Om(aC(t,e));case Ir.DATA_URL:return new Om(FV(e),UV(e))}throw ww()}function oC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OV(t){let e;try{e=decodeURIComponent(t)}catch{throw Bu(Ir.DATA_URL,"Malformed data URL.")}return oC(e)}function aC(t,e){switch(t){case Ir.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Bu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ir.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Bu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MV(e)}catch(s){throw s.message.includes("polyfill")?s:Bu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class lC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Bu(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=BV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function FV(t){const e=new lC(t);return e.base64?aC(Ir.BASE64,e.rest):OV(e.rest)}function UV(t){return new lC(t).contentType}function BV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n){let r=0,s="";p1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(p1(this.data_)){const r=this.data_,s=VV(r,e,n);return s===null?null:new vs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vs(r,!0)}}static getBlob(...e){if(_w()){const n=e.map(r=>r instanceof vs?r.data_:r);return new vs(LV.apply(null,n))}else{const n=e.map(l=>vw(l)?sC(Ir.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new vs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){let e;try{e=JSON.parse(t)}catch{return null}return CV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function cC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){return e}class wn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||$V}}let id=null;function WV(t){return!vw(t)||t.length<2?t:cC(t)}function hC(){if(id)return id;const t=[];t.push(new wn("bucket")),t.push(new wn("generation")),t.push(new wn("metageneration")),t.push(new wn("name","fullPath",!0));function e(a,l){return WV(l)}const n=new wn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new wn("size");return s.xform=r,t.push(s),t.push(new wn("timeCreated")),t.push(new wn("updated")),t.push(new wn("md5Hash",null,!0)),t.push(new wn("cacheControl",null,!0)),t.push(new wn("contentDisposition",null,!0)),t.push(new wn("contentEncoding",null,!0)),t.push(new wn("contentLanguage",null,!0)),t.push(new wn("contentType",null,!0)),t.push(new wn("metadata","customMetadata",!0)),id=t,id}function HV(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new jn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function qV(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return HV(r,t),r}function dC(t,e,n){const r=uC(e);return r===null?null:qV(t,r,n)}function KV(t,e,n,r){const s=uC(e);if(s===null||!vw(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,v=t.fullPath,_="/b/"+l(g)+"/o/"+l(v),x=Ew(_,n,r),A=iC({alt:"media",token:p});return x+A})[0]}function GV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class fC{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){if(!t)throw ww()}function YV(t,e){function n(r,s){const a=dC(t,s,e);return pC(a!==null),a}return n}function QV(t,e){function n(r,s){const a=dC(t,s,e);return pC(a!==null),KV(a,s,t.host,t._protocol)}return n}function mC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=cV():s=uV():n.getStatus()===402?s=lV(t.bucket):n.getStatus()===403?s=hV(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function XV(t){const e=mC(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=aV(t.path)),a.serverResponse=s.serverResponse,a}return n}function JV(t,e,n){const r=e.fullServerUrl(),s=Ew(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new fC(s,a,QV(t,n),l);return c.errorHandler=XV(e),c}function ZV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function e5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ZV(null,e)),r}function t5(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let Q=0;Q<2;Q++)B=B+Math.random().toString().slice(2);return B}const f=c();l["Content-Type"]="multipart/related; boundary="+f;const p=e5(e,r,s),g=GV(p,n),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,_=`\r
--`+f+"--",x=vs.getBlob(v,r,_);if(x===null)throw yV();const A={name:p.fullPath},V=Ew(a,t.host,t._protocol),k="POST",N=t.maxUploadRetryTime,F=new fC(V,k,YV(t,n),N);return F.urlParams=A,F.headers=l,F.body=x.uploadData(),F.errorHandler=mC(e),F}class n5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=So.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=So.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=So.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Tu("cannot .send() more than once");if(Fs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class r5 extends n5{initXhr(){this.xhr_.responseType="text"}}function gC(){return new r5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this._service=e,n instanceof jn?this._location=n:this._location=jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oo(e,n)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cC(this._location.path)}get storage(){return this._service}get parent(){const e=jV(this._location.path);if(e===null)return null;const n=new jn(this._location.bucket,e);return new Oo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _V(e)}}function yC(t,e,n){t._throwIfRoot("uploadBytes");const r=t5(t.storage,t._location,hC(),new vs(e,!0),n);return t.storage.makeRequestWithTokens(r,gC).then(s=>({metadata:s,ref:t}))}function i5(t,e,n=Ir.RAW,r){t._throwIfRoot("uploadString");const s=sC(n,e),a={...r};return a.contentType==null&&s.contentType!=null&&(a.contentType=s.contentType),yC(t,s.data,a)}function s5(t){t._throwIfRoot("getDownloadURL");const e=JV(t.storage,t._location,hC());return t.storage.makeRequestWithTokens(e,gC).then(n=>{if(n===null)throw wV();return n})}function o5(t,e){const n=zV(t._location.path,e),r=new jn(t._location.bucket,n);return new Oo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){return/^[A-Za-z]+:\/\//.test(t)}function l5(t,e){return new Oo(t,e)}function wC(t,e){if(t instanceof bw){const n=t;if(n._bucket==null)throw gV();const r=new Oo(n,n._bucket);return e!=null?wC(r,e):r}else return e!==void 0?o5(t,e):t}function u5(t,e){if(e&&a5(e)){if(t instanceof bw)return l5(t,e);throw Fg("To use ref(service, url), the first argument must be a Storage instance.")}else return wC(t,e)}function g1(t,e){const n=e?.[nC];return n==null?null:jn.makeFromBucketSpec(n,t)}function c5(t,e,n,r={}){t.host=`${e}:${n}`;const s=Fs(e);s&&(_y(`https://${t.host}/b`),Ey("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:V2(a,t.app.options.projectId))}class bw{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=tC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sV,this._maxUploadRetryTime=oV,this._requests=new Set,s!=null?this._bucket=jn.makeFromBucketSpec(s,this._host):this._bucket=g1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=g1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oo(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new EV(rC());{const l=NV(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const y1="@firebase/storage",w1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="storage";function h5(t,e,n){return t=Tt(t),yC(t,e,n)}function d5(t,e,n,r){return t=Tt(t),i5(t,e,n,r)}function _C(t){return t=Tt(t),s5(t)}function EC(t,e){return t=Tt(t),u5(t,e)}function bC(t=xy(),e){t=Tt(t);const r=gf(t,vC).getImmediate({identifier:e}),s=N2("storage");return s&&f5(r,...s),r}function f5(t,e,n,r={}){c5(t,e,n,r)}function p5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new bw(n,r,s,e,Uo)}function m5(){Ro(new ks(vC,p5,"PUBLIC").setMultipleInstances(!0)),qr(y1,w1,""),qr(y1,w1,"esm2020")}m5();const g5={apiKey:"AIzaSyCiuqN0auQaWV4XdHy4QtXNrmyXJF_uJpQ",authDomain:"sd-card-phase-2.firebaseapp.com",projectId:"sd-card-phase-2",storageBucket:"sd-card-phase-2.firebasestorage.app",messagingSenderId:"624239386035",appId:"1:624239386035:web:47c06ae54ec9537d253fc6",measurementId:"G-F5PMVNL0LV"},Tw=F2(g5),Ot=zD(Tw),cn=$6(Tw),y5=bC(Tw);new Hr;const xw=()=>b.createElement("footer",{className:"bg-[#e8ecfc] h-16 overflow-hidden flex items-center px-6 text-sm text-gray-700 whitespace-nowrap"},b.createElement("div",{className:"animate-marquee"},"Monday to Friday 09:0017:00 | info@sbcard.co.za | 064 550 4924 | sbcard.co.za | JHB: 7 Lancaster Ave, Craighall Park, Randburg, Gauteng 2196 | DBN: 179 Buttery Road, Durban North, Durban, KZN 4031")),v1=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[s,a]=L.useState(""),l=Os(),c=async p=>{p.preventDefault();try{await k4(Ot,t,n),l("/dashboard")}catch{a("Invalid email or password.")}},f=async()=>{const p=new Hr;try{const v=(await X4(Ot,p)).user,_=zn(cn,"users",v.uid);(await Mo(_)).exists()||await Vf(_,{email:v.email,phone:"",website:"",linkedin:"",address:"",name:v.displayName||"",company:"",jobTitle:"",industry:"",profilePhoto:v.photoURL||"",createdAt:new Date().toISOString()}),l("/dashboard")}catch(g){console.error("Google Sign-In Error:",g),a("Something went wrong during sign-in.")}};return b.createElement("div",{className:"min-h-screen bg-login-gradient bg-cover bg-no-repeat flex items-center justify-center"},b.createElement("div",{className:`flex flex-col min-h-screen bg-[bg-gradient-to-r from-purple-400 to-pink-500 text-black py-2 px-6 rounded-md shadow hover:opacity-90\r
] overflow-auto`},b.createElement("header",{className:"w-full px-6 py-4 bg-[#e8ecfc] shadow-md flex items-center justify-between"},b.createElement("img",{src:vy,alt:"Logo",className:"h-8"}),b.createElement(Ni,{to:"/register",className:"text-sm font-medium text-black underline hover:text-gray-700"},"Create Account")),b.createElement("main",{className:"flex-grow flex items-center justify-center px-4 py-12"},b.createElement("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-md"},b.createElement("h2",{className:"text-2xl font-bold text-center mb-1 text-gray-900"},"Welcome Back!"),b.createElement("p",{className:"text-sm text-center text-gray-600 mb-6"},"Sign in to access your dashboard."),s&&b.createElement("p",{className:"text-red-600 text-sm mb-4 text-center"},s),b.createElement("form",{onSubmit:c,className:"space-y-4"},b.createElement("input",{type:"email",value:t,onChange:p=>e(p.target.value),placeholder:"Email address",className:"w-full border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-black",required:!0}),b.createElement("input",{type:"password",value:n,onChange:p=>r(p.target.value),placeholder:"Password",className:"w-full border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-black",required:!0}),b.createElement("p",{className:"text-right text-sm"},b.createElement(Ni,{to:"/forgot-password",className:"underline text-gray-600 hover:text-black"},"Forgot Password?")),b.createElement("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-full hover:opacity-90 transition"},"Sign in")),b.createElement("div",{className:"flex items-center my-6"},b.createElement("div",{className:"flex-grow h-px bg-gray-300"}),b.createElement("span",{className:"px-3 text-sm text-gray-500"},"Or continue with"),b.createElement("div",{className:"flex-grow h-px bg-gray-300"})),b.createElement("div",{className:"space-y-3"},b.createElement("button",{onClick:f,className:"w-full py-2 bg-black text-white rounded-full flex items-center justify-center space-x-3 hover:opacity-90"},b.createElement(OA,null),b.createElement("span",null,"Sign in with Google")),b.createElement("button",{disabled:!0,className:"w-full border border-gray-300 py-2 rounded-full flex items-center justify-center space-x-3 bg-gray-100 text-gray-400 cursor-not-allowed"},b.createElement(MA,null),b.createElement("span",null,"Sign in with Apple"))),b.createElement("p",{className:"text-xs text-center text-gray-500 mt-8 leading-snug"},"By signing in, you agree to our"," ",b.createElement("span",{className:"underline"},"Terms of Service")," and"," ",b.createElement("span",{className:"underline"},"Privacy Policy"),". ",b.createElement("br",null),"This site is protected by reCAPTCHA and the Google"," ",b.createElement("span",{className:"underline"},"Terms of Service")," and"," ",b.createElement("span",{className:"underline"},"Privacy Policy")," apply."))),b.createElement(xw,null)))};/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function TC(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function w5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _1(t,e){return t.get(TC(t,e))}function v5(t,e,n){w5(t,e),e.set(t,n)}function _5(t,e,n){return t.set(TC(t,e),n),n}const E5=100,xe={},b5=()=>{xe.previousActiveElement instanceof HTMLElement?(xe.previousActiveElement.focus(),xe.previousActiveElement=null):document.body&&document.body.focus()},T5=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;xe.restoreFocusTimeout=setTimeout(()=>{b5(),e()},E5),window.scrollTo(n,r)}),xC="swal2-",x5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Y=x5.reduce((t,e)=>(t[e]=xC+e,t),{}),C5=["success","warning","info","question","error"],Jd=C5.reduce((t,e)=>(t[e]=xC+e,t),{}),CC="SweetAlert2:",Cw=t=>t.charAt(0).toUpperCase()+t.slice(1),_n=t=>{console.warn(`${CC} ${typeof t=="object"?t.join(" "):t}`)},Wo=t=>{console.error(`${CC} ${t}`)},E1=[],S5=t=>{E1.includes(t)||(E1.push(t),_n(t))},SC=(t,e=null)=>{S5(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Mf=t=>typeof t=="function"?t():t,Sw=t=>t&&typeof t.toPromise=="function",xc=t=>Sw(t)?t.toPromise():Promise.resolve(t),kw=t=>t&&Promise.resolve(t)===t,En=()=>document.body.querySelector(`.${Y.container}`),Cc=t=>{const e=En();return e?e.querySelector(t):null},Wn=t=>Cc(`.${t}`),qe=()=>Wn(Y.popup),El=()=>Wn(Y.icon),k5=()=>Wn(Y["icon-content"]),kC=()=>Wn(Y.title),Iw=()=>Wn(Y["html-container"]),IC=()=>Wn(Y.image),Pw=()=>Wn(Y["progress-steps"]),Of=()=>Wn(Y["validation-message"]),ri=()=>Cc(`.${Y.actions} .${Y.confirm}`),bl=()=>Cc(`.${Y.actions} .${Y.cancel}`),Ho=()=>Cc(`.${Y.actions} .${Y.deny}`),I5=()=>Wn(Y["input-label"]),Tl=()=>Cc(`.${Y.loader}`),Sc=()=>Wn(Y.actions),PC=()=>Wn(Y.footer),Ff=()=>Wn(Y["timer-progress-bar"]),Aw=()=>Wn(Y.close),P5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Rw=()=>{const t=qe();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const c=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(l.getAttribute("tabindex")||"0");return c>f?1:c<f?-1:0}),r=t.querySelectorAll(P5),s=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(a=>Dn(a))},Nw=()=>Ai(document.body,Y.shown)&&!Ai(document.body,Y["toast-shown"])&&!Ai(document.body,Y["no-backdrop"]),Uf=()=>{const t=qe();return t?Ai(t,Y.toast):!1},A5=()=>{const t=qe();return t?t.hasAttribute("data-loading"):!1},Hn=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(l=>{t.appendChild(l)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},Ai=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},R5=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Y).includes(n)&&!Object.values(Jd).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},$n=(t,e,n)=>{if(R5(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){_n(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Ke(t,r)}},Bf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Y.popup} > .${Y[e]}`);case"checkbox":return t.querySelector(`.${Y.popup} > .${Y.checkbox} input`);case"radio":return t.querySelector(`.${Y.popup} > .${Y.radio} input:checked`)||t.querySelector(`.${Y.popup} > .${Y.radio} input:first-child`);case"range":return t.querySelector(`.${Y.popup} > .${Y.range} input`);default:return t.querySelector(`.${Y.popup} > .${Y.input}`)}},AC=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},RC=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Ke=(t,e)=>{RC(t,e,!0)},lr=(t,e)=>{RC(t,e,!1)},Es=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&Ai(s,e))return s}},ko=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},qt=(t,e="flex")=>{t&&(t.style.display=e)},fn=t=>{t&&(t.style.display="none")},Dw=(t,e="block")=>{t&&new MutationObserver(()=>{kc(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},b1=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},kc=(t,e,n="flex")=>{e?qt(t,n):fn(t)},Dn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),N5=()=>!Dn(ri())&&!Dn(Ho())&&!Dn(bl()),Ug=t=>t.scrollHeight>t.clientHeight,D5=(t,e)=>{let n=t;for(;n&&n!==e;){if(Ug(n))return!0;n=n.parentElement}return!1},NC=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},Lw=(t,e=!1)=>{const n=Ff();n&&Dn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},L5=()=>{const t=Ff();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},V5=()=>typeof window>"u"||typeof document>"u",M5=`
 <div aria-labelledby="${Y.title}" aria-describedby="${Y["html-container"]}" class="${Y.popup}" tabindex="-1">
   <button type="button" class="${Y.close}"></button>
   <ul class="${Y["progress-steps"]}"></ul>
   <div class="${Y.icon}"></div>
   <img class="${Y.image}" />
   <h2 class="${Y.title}" id="${Y.title}"></h2>
   <div class="${Y["html-container"]}" id="${Y["html-container"]}"></div>
   <input class="${Y.input}" id="${Y.input}" />
   <input type="file" class="${Y.file}" />
   <div class="${Y.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Y.select}" id="${Y.select}"></select>
   <div class="${Y.radio}"></div>
   <label class="${Y.checkbox}">
     <input type="checkbox" id="${Y.checkbox}" />
     <span class="${Y.label}"></span>
   </label>
   <textarea class="${Y.textarea}" id="${Y.textarea}"></textarea>
   <div class="${Y["validation-message"]}" id="${Y["validation-message"]}"></div>
   <div class="${Y.actions}">
     <div class="${Y.loader}"></div>
     <button type="button" class="${Y.confirm}"></button>
     <button type="button" class="${Y.deny}"></button>
     <button type="button" class="${Y.cancel}"></button>
   </div>
   <div class="${Y.footer}"></div>
   <div class="${Y["timer-progress-bar-container"]}">
     <div class="${Y["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),O5=()=>{const t=En();return t?(t.remove(),lr([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0):!1},mo=()=>{xe.currentInstance.resetValidationMessage()},F5=()=>{const t=qe(),e=Es(t,Y.input),n=Es(t,Y.file),r=t.querySelector(`.${Y.range} input`),s=t.querySelector(`.${Y.range} output`),a=Es(t,Y.select),l=t.querySelector(`.${Y.checkbox} input`),c=Es(t,Y.textarea);e.oninput=mo,n.onchange=mo,a.onchange=mo,l.onchange=mo,c.oninput=mo,r.oninput=()=>{mo(),s.value=r.value},r.onchange=()=>{mo(),s.value=r.value}},U5=t=>typeof t=="string"?document.querySelector(t):t,B5=t=>{const e=qe();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},j5=t=>{window.getComputedStyle(t).direction==="rtl"&&Ke(En(),Y.rtl)},z5=t=>{const e=O5();if(V5()){Wo("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Y.container,e&&Ke(n,Y["no-transition"]),Hn(n,M5),n.dataset.swal2Theme=t.theme;const r=U5(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),B5(t),j5(r),F5()},Vw=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?$5(t,e):t&&Hn(e,t)},$5=(t,e)=>{t.jquery?W5(e,t):Hn(e,t.toString())},W5=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},H5=(t,e)=>{const n=Sc(),r=Tl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?fn(n):qt(n),$n(n,e,"actions"),q5(n,r,e),Hn(r,e.loaderHtml||""),$n(r,e,"loader"))};function q5(t,e,n){const r=ri(),s=Ho(),a=bl();!r||!s||!a||(Um(r,"confirm",n),Um(s,"deny",n),Um(a,"cancel",n),K5(r,s,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(s,r)):(t.insertBefore(a,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function K5(t,e,n,r){if(!r.buttonsStyling){lr([t,e,n],Y.styled);return}Ke([t,e,n],Y.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Fm(t),Fm(e),Fm(n)}function Fm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Um(t,e,n){const r=Cw(e);kc(t,n[`show${r}Button`],"inline-block"),Hn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Y[e],$n(t,n,`${e}Button`)}const G5=(t,e)=>{const n=Aw();n&&(Hn(n,e.closeButtonHtml||""),$n(n,e,"closeButton"),kc(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Y5=(t,e)=>{const n=En();n&&(Q5(n,e.backdrop),X5(n,e.position),J5(n,e.grow),$n(n,e,"container"))};function Q5(t,e){typeof e=="string"?t.style.background=e:e||Ke([document.documentElement,document.body],Y["no-backdrop"])}function X5(t,e){e&&(e in Y?Ke(t,Y[e]):(_n('The "position" parameter is not valid, defaulting to "center"'),Ke(t,Y.center)))}function J5(t,e){e&&Ke(t,Y[`grow-${e}`])}var nt={innerParams:new WeakMap,domCache:new WeakMap};const Z5=["input","file","range","select","radio","checkbox","textarea"],eM=(t,e)=>{const n=qe();if(!n)return;const r=nt.innerParams.get(t),s=!r||e.input!==r.input;Z5.forEach(a=>{const l=Es(n,Y[a]);l&&(rM(a,e.inputAttributes),l.className=Y[a],s&&fn(l))}),e.input&&(s&&tM(e),iM(e))},tM=t=>{if(!t.input)return;if(!Et[t.input]){Wo(`Unexpected type of input! Expected ${Object.keys(Et).join(" | ")}, got "${t.input}"`);return}const e=DC(t.input);if(!e)return;const n=Et[t.input](e,t);qt(e),t.inputAutoFocus&&setTimeout(()=>{AC(n)})},nM=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},rM=(t,e)=>{const n=qe();if(!n)return;const r=Bf(n,t);if(r){nM(r);for(const s in e)r.setAttribute(s,e[s])}},iM=t=>{if(!t.input)return;const e=DC(t.input);e&&$n(e,t,"input")},Mw=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Ic=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=Y["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&Ke(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},DC=t=>{const e=qe();if(e)return Es(e,Y[t]||Y.input)},Zd=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:kw(e)||_n(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Et={};Et.text=Et.email=Et.password=Et.number=Et.tel=Et.url=Et.search=Et.date=Et["datetime-local"]=Et.time=Et.week=Et.month=(t,e)=>(Zd(t,e.inputValue),Ic(t,t,e),Mw(t,e),t.type=e.input,t);Et.file=(t,e)=>(Ic(t,t,e),Mw(t,e),t);Et.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Zd(n,e.inputValue),n.type=e.input,Zd(r,e.inputValue),Ic(n,t,e),t};Et.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Hn(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Ic(t,t,e),t};Et.radio=t=>(t.textContent="",t);Et.checkbox=(t,e)=>{const n=Bf(qe(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Hn(r,e.inputPlaceholder||e.inputLabel),n};Et.textarea=(t,e)=>{Zd(t,e.inputValue),Mw(t,e),Ic(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(qe()).width),s=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>r?qe().style.width=`${a}px`:ko(qe(),"width",e.width)};new MutationObserver(s).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const sM=(t,e)=>{const n=Iw();n&&(Dw(n),$n(n,e,"htmlContainer"),e.html?(Vw(e.html,n),qt(n,"block")):e.text?(n.textContent=e.text,qt(n,"block")):fn(n),eM(t,e))},oM=(t,e)=>{const n=PC();n&&(Dw(n),kc(n,e.footer,"block"),e.footer&&Vw(e.footer,n),$n(n,e,"footer"))},aM=(t,e)=>{const n=nt.innerParams.get(t),r=El();if(!r)return;if(n&&e.icon===n.icon){x1(r,e),T1(r,e);return}if(!e.icon&&!e.iconHtml){fn(r);return}if(e.icon&&Object.keys(Jd).indexOf(e.icon)===-1){Wo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),fn(r);return}qt(r),x1(r,e),T1(r,e),Ke(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",LC)},T1=(t,e)=>{for(const[n,r]of Object.entries(Jd))e.icon!==n&&lr(t,r);Ke(t,e.icon&&Jd[e.icon]),cM(t,e),LC(),$n(t,e,"icon")},LC=()=>{const t=qe();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},lM=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,uM=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,x1=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=C1(e.iconHtml):e.icon==="success"?(r=lM(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=uM:e.icon&&(r=C1({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Hn(t,r)},cM=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])b1(t,n,"background-color",e.iconColor);b1(t,".swal2-success-ring","border-color",e.iconColor)}},C1=t=>`<div class="${Y["icon-content"]}">${t}</div>`,hM=(t,e)=>{const n=IC();if(n){if(!e.imageUrl){fn(n);return}qt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),ko(n,"width",e.imageWidth),ko(n,"height",e.imageHeight),n.className=Y.image,$n(n,e,"image")}};let Ow=!1,VC=0,MC=0,OC=0,FC=0;const dM=t=>{t.addEventListener("mousedown",ef),document.body.addEventListener("mousemove",tf),t.addEventListener("mouseup",nf),t.addEventListener("touchstart",ef),document.body.addEventListener("touchmove",tf),t.addEventListener("touchend",nf)},fM=t=>{t.removeEventListener("mousedown",ef),document.body.removeEventListener("mousemove",tf),t.removeEventListener("mouseup",nf),t.removeEventListener("touchstart",ef),document.body.removeEventListener("touchmove",tf),t.removeEventListener("touchend",nf)},ef=t=>{const e=qe();if(t.target===e||El().contains(t.target)){Ow=!0;const n=UC(t);VC=n.clientX,MC=n.clientY,OC=parseInt(e.style.insetInlineStart)||0,FC=parseInt(e.style.insetBlockStart)||0,Ke(e,"swal2-dragging")}},tf=t=>{const e=qe();if(Ow){let{clientX:n,clientY:r}=UC(t);e.style.insetInlineStart=`${OC+(n-VC)}px`,e.style.insetBlockStart=`${FC+(r-MC)}px`}},nf=()=>{const t=qe();Ow=!1,lr(t,"swal2-dragging")},UC=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},pM=(t,e)=>{const n=En(),r=qe();if(!(!n||!r)){if(e.toast){ko(n,"width",e.width),r.style.width="100%";const s=Tl();s&&r.insertBefore(s,El())}else ko(r,"width",e.width);ko(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),fn(Of()),mM(r,e),e.draggable&&!e.toast?(Ke(r,Y.draggable),dM(r)):(lr(r,Y.draggable),fM(r))}},mM=(t,e)=>{const n=e.showClass||{};t.className=`${Y.popup} ${Dn(t)?n.popup:""}`,e.toast?(Ke([document.documentElement,document.body],Y["toast-shown"]),Ke(t,Y.toast)):Ke(t,Y.modal),$n(t,e,"popup"),typeof e.customClass=="string"&&Ke(t,e.customClass),e.icon&&Ke(t,Y[`icon-${e.icon}`])},gM=(t,e)=>{const n=Pw();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){fn(n);return}qt(n),n.textContent="",s>=r.length&&_n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,l)=>{const c=yM(a);if(n.appendChild(c),l===s&&Ke(c,Y["active-progress-step"]),l!==r.length-1){const f=wM(e);n.appendChild(f)}})},yM=t=>{const e=document.createElement("li");return Ke(e,Y["progress-step"]),Hn(e,t),e},wM=t=>{const e=document.createElement("li");return Ke(e,Y["progress-step-line"]),t.progressStepsDistance&&ko(e,"width",t.progressStepsDistance),e},vM=(t,e)=>{const n=kC();n&&(Dw(n),kc(n,e.title||e.titleText,"block"),e.title&&Vw(e.title,n),e.titleText&&(n.innerText=e.titleText),$n(n,e,"title"))},BC=(t,e)=>{pM(t,e),Y5(t,e),gM(t,e),aM(t,e),hM(t,e),vM(t,e),G5(t,e),sM(t,e),H5(t,e),oM(t,e);const n=qe();typeof e.didRender=="function"&&n&&e.didRender(n),xe.eventEmitter.emit("didRender",n)},_M=()=>Dn(qe()),jC=()=>{var t;return(t=ri())===null||t===void 0?void 0:t.click()},EM=()=>{var t;return(t=Ho())===null||t===void 0?void 0:t.click()},bM=()=>{var t;return(t=bl())===null||t===void 0?void 0:t.click()},xl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),zC=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},TM=(t,e,n)=>{zC(t),e.toast||(t.keydownHandler=r=>CM(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:qe(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Bg=(t,e)=>{var n;const r=Rw();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=qe())===null||n===void 0||n.focus()},$C=["ArrowRight","ArrowDown"],xM=["ArrowLeft","ArrowUp"],CM=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?SM(e,t):e.key==="Tab"?kM(e):[...$C,...xM].includes(e.key)?IM(e.key):e.key==="Escape"&&PM(e,t,n)))},SM=(t,e)=>{if(!Mf(e.allowEnterKey))return;const n=Bf(qe(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;jC(),t.preventDefault()}},kM=t=>{const e=t.target,n=Rw();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?Bg(r,-1):Bg(r,1),t.stopPropagation(),t.preventDefault()},IM=t=>{const e=Sc(),n=ri(),r=Ho(),s=bl();if(!e||!n||!r||!s)return;const a=[n,r,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=$C.includes(t)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let f=0;f<e.children.length;f++){if(c=c[l],!c)return;if(c instanceof HTMLButtonElement&&Dn(c))break}c instanceof HTMLButtonElement&&c.focus()}},PM=(t,e,n)=>{t.preventDefault(),Mf(e.allowEscapeKey)&&n(xl.esc)};var al={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const AM=()=>{const t=En();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},WC=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},HC=typeof window<"u"&&!!window.GestureEvent,RM=()=>{if(HC&&!Ai(document.body,Y.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Ke(document.body,Y.iosfix),NM()}},NM=()=>{const t=En();if(!t)return;let e;t.ontouchstart=n=>{e=DM(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},DM=t=>{const e=t.target,n=En(),r=Iw();return!n||!r||LM(t)||VM(t)?!1:e===n||!Ug(n)&&e instanceof HTMLElement&&!D5(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Ug(r)&&r.contains(e))},LM=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",VM=t=>t.touches&&t.touches.length>1,MM=()=>{if(Ai(document.body,Y.iosfix)){const t=parseInt(document.body.style.top,10);lr(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},OM=()=>{const t=document.createElement("div");t.className=Y["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Ja=null;const FM=t=>{Ja===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Ja=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ja+OM()}px`)},UM=()=>{Ja!==null&&(document.body.style.paddingRight=`${Ja}px`,Ja=null)};function qC(t,e,n,r){Uf()?S1(t,r):(T5(n).then(()=>S1(t,r)),zC(xe)),HC?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Nw()&&(UM(),MM(),WC()),BM()}function BM(){lr([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}function bs(t){t=zM(t);const e=al.swalPromiseResolve.get(this),n=jM(this);this.isAwaitingPromise?t.isDismissed||(Pc(this),e(t)):n&&e(t)}const jM=t=>{const e=qe();if(!e)return!1;const n=nt.innerParams.get(t);if(!n||Ai(e,n.hideClass.popup))return!1;lr(e,n.showClass.popup),Ke(e,n.hideClass.popup);const r=En();return lr(r,n.showClass.backdrop),Ke(r,n.hideClass.backdrop),$M(t,e,n),!0};function KC(t){const e=al.swalPromiseReject.get(this);Pc(this),e&&e(t)}const Pc=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,nt.innerParams.get(t)||t._destroy())},zM=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),$M=(t,e,n)=>{var r;const s=En(),a=NC(e);typeof n.willClose=="function"&&n.willClose(e),(r=xe.eventEmitter)===null||r===void 0||r.emit("willClose",e),a?WM(t,e,s,n.returnFocus,n.didClose):qC(t,s,n.returnFocus,n.didClose)},WM=(t,e,n,r,s)=>{xe.swalCloseEventFinishedCallback=qC.bind(null,t,n,r,s);const a=function(l){if(l.target===e){var c;(c=xe.swalCloseEventFinishedCallback)===null||c===void 0||c.call(xe),delete xe.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},S1=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=xe.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},ll=t=>{let e=qe();if(e||new Pe,e=qe(),!e)return;const n=Tl();Uf()?fn(El()):HM(e,t),qt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},HM=(t,e)=>{const n=Sc(),r=Tl();!n||!r||(!e&&Dn(ri())&&(e=ri()),qt(n),e&&(fn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Ke([t,n],Y.loading))},qM=(t,e)=>{e.input==="select"||e.input==="radio"?XM(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Sw(e.inputValue)||kw(e.inputValue))&&(ll(ri()),JM(t,e))},KM=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return GM(n);case"radio":return YM(n);case"file":return QM(n);default:return e.inputAutoTrim?n.value.trim():n.value}},GM=t=>t.checked?1:0,YM=t=>t.checked?t.value:null,QM=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,XM=(t,e)=>{const n=qe();if(!n)return;const r=s=>{e.input==="select"?ZM(n,rf(s),e):e.input==="radio"&&eO(n,rf(s),e)};Sw(e.inputOptions)||kw(e.inputOptions)?(ll(ri()),xc(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):Wo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},JM=(t,e)=>{const n=t.getInput();n&&(fn(n),xc(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,qt(n),n.focus(),t.hideLoading()}).catch(r=>{Wo(`Error in inputValue promise: ${r}`),n.value="",qt(n),n.focus(),t.hideLoading()}))};function ZM(t,e,n){const r=Es(t,Y.select);if(!r)return;const s=(a,l,c)=>{const f=document.createElement("option");f.value=c,Hn(f,l),f.selected=GC(c,n.inputValue),a.appendChild(f)};e.forEach(a=>{const l=a[0],c=a[1];if(Array.isArray(c)){const f=document.createElement("optgroup");f.label=l,f.disabled=!1,r.appendChild(f),c.forEach(p=>s(f,p[1],p[0]))}else s(r,c,l)}),r.focus()}function eO(t,e,n){const r=Es(t,Y.radio);if(!r)return;e.forEach(a=>{const l=a[0],c=a[1],f=document.createElement("input"),p=document.createElement("label");f.type="radio",f.name=Y.radio,f.value=l,GC(l,n.inputValue)&&(f.checked=!0);const g=document.createElement("span");Hn(g,c),g.className=Y.label,p.appendChild(f),p.appendChild(g),r.appendChild(p)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const rf=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=rf(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=rf(r)),e.push([n,r])}),e},GC=(t,e)=>!!e&&e.toString()===t.toString(),tO=t=>{const e=nt.innerParams.get(t);t.disableButtons(),e.input?YC(t,"confirm"):Uw(t,!0)},nO=t=>{const e=nt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?YC(t,"deny"):Fw(t,!1)},rO=(t,e)=>{t.disableButtons(),e(xl.cancel)},YC=(t,e)=>{const n=nt.innerParams.get(t);if(!n.input){Wo(`The "input" parameter is needed to be set when using returnInputValueOn${Cw(e)}`);return}const r=t.getInput(),s=KM(t,n);n.inputValidator?iO(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?Fw(t,s):Uw(t,s)},iO=(t,e,n)=>{const r=nt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>xc(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?Fw(t,e):Uw(t,e)})},Fw=(t,e)=>{const n=nt.innerParams.get(t||void 0);n.showLoaderOnDeny&&ll(Ho()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>xc(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),Pc(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>QC(t||void 0,s))):t.close({isDenied:!0,value:e})},k1=(t,e)=>{t.close({isConfirmed:!0,value:e})},QC=(t,e)=>{t.rejectPromise(e)},Uw=(t,e)=>{const n=nt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&ll(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>xc(n.preConfirm(e,n.validationMessage))).then(s=>{Dn(Of())||s===!1?(t.hideLoading(),Pc(t)):k1(t,typeof s>"u"?e:s)}).catch(s=>QC(t||void 0,s))):k1(t,e)};function sf(){const t=nt.innerParams.get(this);if(!t)return;const e=nt.domCache.get(this);fn(e.loader),Uf()?t.icon&&qt(El()):sO(e),lr([e.popup,e.actions],Y.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const sO=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?qt(e[0],"inline-block"):N5()&&fn(t.actions)};function XC(){const t=nt.innerParams.get(this),e=nt.domCache.get(this);return e?Bf(e.popup,t.input):null}function JC(t,e,n){const r=nt.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function ZC(t,e){const n=qe();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Y.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function eS(){JC(this,["confirmButton","denyButton","cancelButton"],!1)}function tS(){JC(this,["confirmButton","denyButton","cancelButton"],!0)}function nS(){ZC(this.getInput(),!1)}function rS(){ZC(this.getInput(),!0)}function iS(t){const e=nt.domCache.get(this),n=nt.innerParams.get(this);Hn(e.validationMessage,t),e.validationMessage.className=Y["validation-message"],n.customClass&&n.customClass.validationMessage&&Ke(e.validationMessage,n.customClass.validationMessage),qt(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Y["validation-message"]),AC(r),Ke(r,Y.inputerror))}function sS(){const t=nt.domCache.get(this);t.validationMessage&&fn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),lr(e,Y.inputerror))}const Za={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},oO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],aO={allowEnterKey:void 0},lO=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],oS=t=>Object.prototype.hasOwnProperty.call(Za,t),aS=t=>oO.indexOf(t)!==-1,lS=t=>aO[t],uO=t=>{oS(t)||_n(`Unknown parameter "${t}"`)},cO=t=>{lO.includes(t)&&_n(`The parameter "${t}" is incompatible with toasts`)},hO=t=>{const e=lS(t);e&&SC(t,e)},uS=t=>{t.backdrop===!1&&t.allowOutsideClick&&_n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&_n(`Invalid theme "${t.theme}"`);for(const e in t)uO(e),t.toast&&cO(e),hO(e)};function cS(t){const e=En(),n=qe(),r=nt.innerParams.get(this);if(!n||Ai(n,r.hideClass.popup)){_n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=dO(t),a=Object.assign({},r,s);uS(a),e.dataset.swal2Theme=a.theme,BC(this,a),nt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const dO=t=>{const e={};return Object.keys(t).forEach(n=>{aS(n)?e[n]=t[n]:_n(`Invalid parameter to update: ${n}`)}),e};function hS(){const t=nt.domCache.get(this),e=nt.innerParams.get(this);if(!e){dS(this);return}t.popup&&xe.swalCloseEventFinishedCallback&&(xe.swalCloseEventFinishedCallback(),delete xe.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),xe.eventEmitter.emit("didDestroy"),fO(this)}const fO=t=>{dS(t),delete t.params,delete xe.keydownHandler,delete xe.keydownTarget,delete xe.currentInstance},dS=t=>{t.isAwaitingPromise?(Bm(nt,t),t.isAwaitingPromise=!0):(Bm(al,t),Bm(nt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Bm=(t,e)=>{for(const n in t)t[n].delete(e)};var pO=Object.freeze({__proto__:null,_destroy:hS,close:bs,closeModal:bs,closePopup:bs,closeToast:bs,disableButtons:tS,disableInput:rS,disableLoading:sf,enableButtons:eS,enableInput:nS,getInput:XC,handleAwaitingPromise:Pc,hideLoading:sf,rejectPromise:KC,resetValidationMessage:sS,showValidationMessage:iS,update:cS});const mO=(t,e,n)=>{t.toast?gO(t,e,n):(wO(e),vO(e),_O(t,e,n))},gO=(t,e,n)=>{e.popup.onclick=()=>{t&&(yO(t)||t.timer||t.input)||n(xl.close)}},yO=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let of=!1;const wO=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(of=!0)}}},vO=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(of=!0)}}},_O=(t,e,n)=>{e.container.onclick=r=>{if(of){of=!1;return}r.target===e.container&&Mf(t.allowOutsideClick)&&n(xl.backdrop)}},EO=t=>typeof t=="object"&&t.jquery,I1=t=>t instanceof Element||EO(t),bO=t=>{const e={};return typeof t[0]=="object"&&!I1(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||I1(s)?e[n]=s:s!==void 0&&Wo(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function TO(...t){return new this(...t)}function xO(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const CO=()=>xe.timeout&&xe.timeout.getTimerLeft(),fS=()=>{if(xe.timeout)return L5(),xe.timeout.stop()},pS=()=>{if(xe.timeout){const t=xe.timeout.start();return Lw(t),t}},SO=()=>{const t=xe.timeout;return t&&(t.running?fS():pS())},kO=t=>{if(xe.timeout){const e=xe.timeout.increase(t);return Lw(e,!0),e}},IO=()=>!!(xe.timeout&&xe.timeout.isRunning());let P1=!1;const jg={};function PO(t="data-swal-template"){jg[t]=this,P1||(document.body.addEventListener("click",AO),P1=!0)}const AO=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in jg){const r=e.getAttribute(n);if(r){jg[n].fire({template:r});return}}};class RO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...s)=>{this.removeListener(e,r),n.apply(this,s)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}xe.eventEmitter=new RO;const NO=(t,e)=>{xe.eventEmitter.on(t,e)},DO=(t,e)=>{xe.eventEmitter.once(t,e)},LO=(t,e)=>{if(!t){xe.eventEmitter.reset();return}e?xe.eventEmitter.removeListener(t,e):xe.eventEmitter.removeAllListeners(t)};var VO=Object.freeze({__proto__:null,argsToParams:bO,bindClickHandler:PO,clickCancel:bM,clickConfirm:jC,clickDeny:EM,enableLoading:ll,fire:TO,getActions:Sc,getCancelButton:bl,getCloseButton:Aw,getConfirmButton:ri,getContainer:En,getDenyButton:Ho,getFocusableElements:Rw,getFooter:PC,getHtmlContainer:Iw,getIcon:El,getIconContent:k5,getImage:IC,getInputLabel:I5,getLoader:Tl,getPopup:qe,getProgressSteps:Pw,getTimerLeft:CO,getTimerProgressBar:Ff,getTitle:kC,getValidationMessage:Of,increaseTimer:kO,isDeprecatedParameter:lS,isLoading:A5,isTimerRunning:IO,isUpdatableParameter:aS,isValidParameter:oS,isVisible:_M,mixin:xO,off:LO,on:NO,once:DO,resumeTimer:pS,showLoading:ll,stopTimer:fS,toggleTimer:SO});class MO{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const mS=["swal-title","swal-html","swal-footer"],OO=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return HO(n),Object.assign(FO(n),UO(n),BO(n),jO(n),zO(n),$O(n),WO(n,mS))},FO=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Fo(r,["name","value"]);const s=r.getAttribute("name"),a=r.getAttribute("value");!s||!a||(typeof Za[s]=="boolean"?e[s]=a!=="false":typeof Za[s]=="object"?e[s]=JSON.parse(a):e[s]=a)}),e},UO=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),a=r.getAttribute("value");!s||!a||(e[s]=new Function(`return ${a}`)())}),e},BO=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Fo(r,["type","color","aria-label"]);const s=r.getAttribute("type");!s||!["confirm","cancel","deny"].includes(s)||(e[`${s}ButtonText`]=r.innerHTML,e[`show${Cw(s)}Button`]=!0,r.hasAttribute("color")&&(e[`${s}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${s}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},jO=t=>{const e={},n=t.querySelector("swal-image");return n&&(Fo(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},zO=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Fo(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},$O=t=>{const e={},n=t.querySelector("swal-input");n&&(Fo(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{Fo(s,["value"]);const a=s.getAttribute("value");if(!a)return;const l=s.innerHTML;e.inputOptions[a]=l})),e},WO=(t,e)=>{const n={};for(const r in e){const s=e[r],a=t.querySelector(s);a&&(Fo(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},HO=t=>{const e=mS.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||_n(`Unrecognized element <${r}>`)})},Fo=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&_n([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},gS=10,qO=t=>{const e=En(),n=qe();typeof t.willOpen=="function"&&t.willOpen(n),xe.eventEmitter.emit("willOpen",n);const s=window.getComputedStyle(document.body).overflowY;YO(e,n,t),setTimeout(()=>{KO(e,n)},gS),Nw()&&(GO(e,t.scrollbarPadding,s),AM()),!Uf()&&!xe.previousActiveElement&&(xe.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),xe.eventEmitter.emit("didOpen",n),lr(e,Y["no-transition"])},af=t=>{const e=qe();if(t.target!==e)return;const n=En();e.removeEventListener("animationend",af),e.removeEventListener("transitionend",af),n.style.overflowY="auto"},KO=(t,e)=>{NC(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",af),e.addEventListener("transitionend",af)):t.style.overflowY="auto"},GO=(t,e,n)=>{RM(),e&&n!=="hidden"&&FM(n),setTimeout(()=>{t.scrollTop=0})},YO=(t,e,n)=>{Ke(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),qt(e,"grid"),setTimeout(()=>{Ke(e,n.showClass.popup),e.style.removeProperty("opacity")},gS)):qt(e,"grid"),Ke([document.documentElement,document.body],Y.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ke([document.documentElement,document.body],Y["height-auto"])};var A1={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function QO(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=A1.email),t.input==="url"&&(t.inputValidator=A1.url))}function XO(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(_n('Target parameter is not valid, defaulting to "body"'),t.target="body")}function JO(t){QO(t),t.showLoaderOnConfirm&&!t.preConfirm&&_n(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),XO(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),z5(t)}let Wr;var sd=new WeakMap;class xt{constructor(...e){if(v5(this,sd,void 0),typeof window>"u")return;Wr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,_5(sd,this,this._main(Wr.params))}_main(e,n={}){if(uS(Object.assign({},n,e)),xe.currentInstance){const a=al.swalPromiseResolve.get(xe.currentInstance),{isAwaitingPromise:l}=xe.currentInstance;xe.currentInstance._destroy(),l||a({isDismissed:!0}),Nw()&&WC()}xe.currentInstance=Wr;const r=e9(e,n);JO(r),Object.freeze(r),xe.timeout&&(xe.timeout.stop(),delete xe.timeout),clearTimeout(xe.restoreFocusTimeout);const s=t9(Wr);return BC(Wr,r),nt.innerParams.set(Wr,r),ZO(Wr,s,r)}then(e){return _1(sd,this).then(e)}finally(e){return _1(sd,this).finally(e)}}const ZO=(t,e,n)=>new Promise((r,s)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l})};al.swalPromiseResolve.set(t,r),al.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{tO(t)},e.denyButton.onclick=()=>{nO(t)},e.cancelButton.onclick=()=>{rO(t,a)},e.closeButton.onclick=()=>{a(xl.close)},mO(n,e,a),TM(xe,n,a),qM(t,n),qO(n),n9(xe,n,a),r9(e,n),setTimeout(()=>{e.container.scrollTop=0})}),e9=(t,e)=>{const n=OO(t),r=Object.assign({},Za,e,n,t);return r.showClass=Object.assign({},Za.showClass,r.showClass),r.hideClass=Object.assign({},Za.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},t9=t=>{const e={popup:qe(),container:En(),actions:Sc(),confirmButton:ri(),denyButton:Ho(),cancelButton:bl(),loader:Tl(),closeButton:Aw(),validationMessage:Of(),progressSteps:Pw()};return nt.domCache.set(t,e),e},n9=(t,e,n)=>{const r=Ff();fn(r),e.timer&&(t.timeout=new MO(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(qt(r),$n(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Lw(e.timer)})))},r9=(t,e)=>{if(!e.toast){if(!Mf(e.allowEnterKey)){SC("allowEnterKey"),o9();return}i9(t)||s9(t,e)||Bg(-1,1)}},i9=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Dn(n))return n.focus(),!0;return!1},s9=(t,e)=>e.focusDeny&&Dn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Dn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Dn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,o9=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};xt.prototype.disableButtons=tS;xt.prototype.enableButtons=eS;xt.prototype.getInput=XC;xt.prototype.disableInput=rS;xt.prototype.enableInput=nS;xt.prototype.hideLoading=sf;xt.prototype.disableLoading=sf;xt.prototype.showValidationMessage=iS;xt.prototype.resetValidationMessage=sS;xt.prototype.close=bs;xt.prototype.closePopup=bs;xt.prototype.closeModal=bs;xt.prototype.closeToast=bs;xt.prototype.rejectPromise=KC;xt.prototype.update=cS;xt.prototype._destroy=hS;Object.assign(xt,VO);Object.keys(pO).forEach(t=>{xt[t]=function(...e){return Wr&&Wr[t]?Wr[t](...e):null}});xt.DismissReason=xl;xt.version="11.22.4";const Pe=xt;Pe.default=Pe;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const a9=()=>{const[t,e]=L.useState(1),n=Os(),[r,s]=L.useState(!1),[a,l]=L.useState({email:"",phone:"",website:"",linkedin:"",address:"",password:""}),[c,f]=L.useState({profilePhoto:null,name:"",company:"",jobTitle:"",industry:""}),p=x=>{l({...a,[x.target.name]:x.target.value})},g=x=>{x.target.name==="profilePhoto"?f({...c,profilePhoto:x.target.files[0]}):f({...c,[x.target.name]:x.target.value})},v=x=>{x.preventDefault(),e(2)},_=async x=>{if(x.preventDefault(),r)return;s(!0);let A;try{Pe.fire({title:"Registering your account...",html:'<div style="margin-top:12px;">Please wait. <br/><progress id="register-bar" max="100" value="10" style="width:80%;height:20px;"></progress></div>',allowOutsideClick:!1,didOpen:()=>{Pe.showLoading();let F=10;A=setInterval(()=>{F=Math.min(F+6+Math.random()*7,94);const B=Pe.getHtmlContainer().querySelector("#register-bar");B&&F<=95&&(B.value=F)},200)}});const k=(await S4(Ot,a.email,a.password)).user;let N=null;if(c.profilePhoto){const F=EC(y5,`profilePhotos/${k.uid}/${c.profilePhoto.name}`);await h5(F,c.profilePhoto),N=await _C(F)}await Vf(zn(cn,"users",k.uid),{email:a.email,phone:a.phone,website:a.website,linkedin:a.linkedin,address:a.address,name:c.name,company:c.company,jobTitle:c.jobTitle,industry:c.industry,profilePhoto:N,createdAt:new Date().toISOString()}),clearInterval(A),Pe.fire({title:"Registration Successful!",html:'<div style="margin-top:12px;">Redirecting to dashboard...<br/><progress id="register-bar" max="100" value="100" style="width:80%;height:20px;"></progress></div>',icon:"success",allowOutsideClick:!1,timer:2e3,timerProgressBar:!0}).then(()=>{n("/dashboard")})}catch(V){clearInterval(A),s(!1);let k=V.message||"Registration failed.";(k.includes("auth/email-already-in-use")||k.includes("already in use"))&&(k="That email is already registered. Please use a different email or login."),Pe.fire({icon:"error",title:"Registration failed",text:k})}finally{s(!1)}};return b.createElement("div",{className:"min-h-screen bg-login-gradient bg-cover bg-no-repeat flex items-center justify-center"},b.createElement("div",{className:`flex flex-col min-h-screen bg-[bg-gradient-to-r from-purple-400 to-pink-500 text-black py-2 px-6 rounded-md shadow hover:opacity-90\r
] overflow-auto`},b.createElement("header",{className:"w-full px-6 py-4 bg-[#e8ecfc] shadow-md flex items-center justify-between"},b.createElement("img",{src:vy,alt:"Logo",className:"h-8"}),b.createElement(Ni,{to:"/login",className:"text-sm font-medium text-black underline hover:text-gray-700"},"Login")),b.createElement("main",{className:"flex-grow flex items-center justify-center px-4 py-12"},b.createElement("div",{className:"w-full max-w-md min-h-[580px] bg-white p-8 rounded-lg shadow-md flex flex-col justify-between"},b.createElement("div",null,b.createElement("h2",{className:"text-2xl font-bold text-center mb-1 text-gray-900"},t===1?"Add Info You Want to Share":"Add Your Profile Info"),b.createElement("p",{className:"text-sm text-center text-gray-600 mb-6"},t===1?"Fill out your basic contact and login details.":"Upload a photo and tell us about your career."),t===1?b.createElement("form",{onSubmit:v,className:"space-y-4"},b.createElement("input",{type:"email",name:"email",placeholder:"Email",required:!0,value:a.email,onChange:p,className:"w-full border border-gray-300 rounded-md py-2 px-4",disabled:r}),b.createElement("input",{type:"password",name:"password",placeholder:"Password",required:!0,value:a.password,onChange:p,className:"w-full border border-gray-300 rounded-md py-2 px-4",disabled:r}),["phone","website","linkedin","address"].map(x=>b.createElement("input",{key:x,type:"text",name:x,placeholder:x.charAt(0).toUpperCase()+x.slice(1),required:!0,value:a[x],onChange:p,className:"w-full border border-gray-300 rounded-md py-2 px-4",disabled:r})),b.createElement("div",{className:"flex justify-between mt-4"},b.createElement("button",{type:"button",onClick:()=>n("/login"),className:"text-sm text-gray-600 underline",disabled:r},"Back to Login"),b.createElement("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded-full hover:opacity-90 disabled:opacity-80",disabled:r},"Next"))):b.createElement("form",{onSubmit:_,className:"space-y-4"},b.createElement("div",{className:"flex flex-col items-center mb-4"},b.createElement("label",{htmlFor:"profilePhoto",className:"relative h-24 w-24 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-4xl select-none cursor-pointer hover:bg-gray-400 transition group",style:{position:"relative"}},c.profilePhoto?b.createElement("img",{src:URL.createObjectURL(c.profilePhoto),alt:"Profile Preview",className:"h-24 w-24 rounded-full object-cover border-2 border-gray-200",style:{objectFit:"cover"}}):b.createElement("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24","aria-hidden":"true"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 21a6 6 0 00-15 0"})),b.createElement("span",{className:"absolute bottom-2 right-2 bg-black text-white text-xs rounded-full px-2 py-1 opacity-80 group-hover:opacity-100 transition"},"Edit"),b.createElement("input",{id:"profilePhoto",type:"file",name:"profilePhoto",accept:"image/*",required:!0,onChange:g,className:"absolute inset-0 opacity-0 cursor-pointer rounded-full z-10",disabled:r,tabIndex:-1})),b.createElement("span",{className:"text-xs text-gray-600 mt-1"},"Profile Photo")),["name","company","jobTitle","industry"].map(x=>b.createElement("input",{key:x,type:"text",name:x,placeholder:x.charAt(0).toUpperCase()+x.slice(1),required:!0,value:c[x],onChange:g,className:"w-full border border-gray-300 rounded-md py-2 px-4",disabled:r})),b.createElement("div",{className:"flex justify-between mt-4"},b.createElement("button",{type:"button",onClick:()=>e(1),className:"text-sm text-gray-600 underline",disabled:r},"Back"),b.createElement("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded-full hover:opacity-90 disabled:opacity-80",disabled:r},r?"Submitting...":"Submit")))),b.createElement("p",{className:"text-xs text-center text-gray-500 mt-6 leading-snug"},"By signing up, you agree to our"," ",b.createElement("span",{className:"underline"},"Terms of Service")," and"," ",b.createElement("span",{className:"underline"},"Privacy Policy"),". ",b.createElement("br",null),"This site is protected by reCAPTCHA and the Google"," ",b.createElement("span",{className:"underline"},"Terms of Service")," and"," ",b.createElement("span",{className:"underline"},"Privacy Policy")," apply."))),b.createElement(xw,null)))},l9=["Digital Cards","Tap/NFC Cards","Networking Toolkit","Contact Book","Analytics"],u9=()=>{const[t,e]=b.useState(window.innerWidth<768);return b.useEffect(()=>{const n=()=>e(window.innerWidth<768);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t};function yS({open:t,onClose:e,user:n,loadingUser:r}){const[s,a]=L.useState(!1),l=Os(),c=u9(),f=async()=>{if(a(!1),(await Pe.fire({title:"Are you sure you want to logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, log me out",cancelButtonText:"No, stay logged in"})).isConfirmed)try{await wf(Ot),await Pe.fire({title:"Logged out",text:"You have been successfully logged out.",icon:"success",showConfirmButton:!1,timer:1200,timerProgressBar:!0}),l("/login")}catch{await Pe.fire({title:"Error",text:"Failed to logout. Please try again.",icon:"error"})}},p=s&&b.createElement(b.Fragment,null,b.createElement("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40",onClick:()=>a(!1),tabIndex:-1}),b.createElement("div",{className:"fixed left-1/2 z-50 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl p-6 w-[90vw] max-w-sm space-y-2",style:{maxHeight:"90vh",overflowY:"auto"}},b.createElement("div",{className:"flex justify-between items-center mb-4"},b.createElement("span",{className:"font-bold text-lg"},"Settings & Actions"),b.createElement("button",{className:"font-bold text-lg text-gray-500 hover:text-black",onClick:()=>a(!1),"aria-label":"Close"},"")),b.createElement("button",{className:"w-full text-left py-2 hover:bg-gray-100 rounded px-1 mb-1",onClick:()=>{a(!1),alert("Upgrade Plan clicked")}},"Upgrade Plan"),b.createElement("button",{className:"w-full text-left py-2 hover:bg-gray-100 rounded px-1 mb-1",onClick:()=>{a(!1),l("/ProfileSettingsPage")}},"Settings"),b.createElement("a",{href:"https://app.v1ce.co/help",className:"block w-full py-2 hover:bg-gray-100 rounded px-1 mb-1",target:"_blank",rel:"noopener noreferrer",onClick:()=>a(!1)},"Help Center"),b.createElement("a",{href:"https://app.v1ce.co/help/feature-requests",className:"block w-full py-2 hover:bg-gray-100 rounded px-1 mb-1",target:"_blank",rel:"noopener noreferrer",onClick:()=>a(!1)},"Feature Requests"),b.createElement("a",{href:"https://app.v1ce.co/help/roadmap",className:"block w-full py-2 hover:bg-gray-100 rounded px-1 mb-1",target:"_blank",rel:"noopener noreferrer",onClick:()=>a(!1)},"Roadmap"),b.createElement("button",{className:"w-full text-left py-2 px-1 text-red-600 border font-semibold hover:bg-red-600 hover:text-white rounded transition",onClick:f,type:"button"},"Logout")));return b.createElement(b.Fragment,null,t&&b.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30 md:hidden",onClick:e,"aria-hidden":"true"}),b.createElement("aside",{className:`fixed top-0 left-0 z-40 w-64 h-screen bg-white shadow-lg overflow-y-auto hide-scrollbar
    flex flex-col
    transform transition-transform duration-300 ease-in-out
    ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 md:static`},b.createElement("div",{className:"py-6 px-6 border-b flex items-center justify-between"},b.createElement("h1",{className:"text-2xl font-bold tracking-wide select-none"},"SB CARD")),b.createElement("nav",{className:"flex-1 flex flex-col overflow-hidden"},b.createElement("ul",{className:"flex-1 overflow-auto hide-scrollbar"},l9.map(g=>b.createElement("li",{key:g,className:"px-6 py-3 hover:bg-gray-100 cursor-pointer text-gray-600 border-l-4 border-transparent hover:border-black font-semibold select-none",onClick:()=>{g==="Digital Cards"?(l("/dashboard#digital-cards"),c&&e()):alert(`${g} clicked`)}},g)))),b.createElement("footer",{className:"p-6 border-t mt-auto select-none"},b.createElement("div",{className:"flex items-center space-x-3"},b.createElement("div",{className:"truncate flex-1"},b.createElement("span",{className:"font-semibold text-black text-base"},r?"...":n.name??n.displayName),b.createElement("p",{className:"text-xs text-gray-500 truncate"},r?"":n?.email)),b.createElement("button",{"aria-label":"Open settings/actions modal",onClick:()=>a(!0),className:"text-gray-600 hover:text-gray-800 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",type:"button",tabIndex:0},b.createElement(FA,{size:20}))))),p)}function c9({profile:t={},actions:e=[],cardColor:n="#1a237e",socials:r={},className:s="",style:a={},containerProps:l={}}){return b.createElement("div",{...l,className:`relative w-full max-w-xs rounded-3xl shadow-2xl px-6 py-8 flex flex-col items-center ${s}`,style:{background:n,color:"#fff",...a},tabIndex:0},b.createElement("div",{className:"w-24 h-24 rounded-full border-4 border-white shadow-xl mb-2 flex items-center justify-center overflow-hidden bg-white flex-shrink-0",style:{width:96,height:96,minWidth:96,minHeight:96,maxWidth:96,maxHeight:96}},t.profilePhoto?b.createElement("img",{src:t.profilePhoto,alt:"Profile",className:"object-cover h-full w-full rounded-full"}):b.createElement(wy,{size:48,className:"text-gray-300"})),b.createElement("div",{className:"text-center mb-3"},b.createElement("div",{className:"font-bold text-2xl text-white"},t.name||""),b.createElement("div",{className:"text-blue-100 text-base"},t.jobTitle),b.createElement("div",{className:"text-blue-200 text-sm"},t.company),b.createElement("div",{className:"text-blue-50 text-xs mt-1"},t.bio)),b.createElement("div",{className:"flex gap-3 mb-3"},r.linkedin&&b.createElement("a",{href:r.linkedin,className:"text-white hover:text-blue-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(E2,{size:22})),r.youtube&&b.createElement("a",{href:r.youtube,className:"text-white hover:text-blue-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(T2,{size:22})),r.email&&b.createElement("a",{href:`mailto:${r.email}`,className:"text-white hover:text-blue-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(C2,{size:22})),r.whatsapp&&b.createElement("a",{href:r.whatsapp,className:"text-white hover:text-green-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(b2,{size:22}))),b.createElement("div",{className:"flex flex-col gap-3 w-full mb-4 mt-2"},(e||[]).map((c,f)=>b.createElement("a",{key:f,href:c.url||"#",target:c.url?"_blank":void 0,rel:"noopener noreferrer",className:"w-full flex items-center gap-3 px-5 py-3 rounded-2xl border border-white text-white bg-white/10 font-semibold text-base transition hover:bg-white/20",style:{textDecoration:"none"}},c.icon||b.createElement(_o,null),b.createElement("span",{className:"truncate"},c.label||c.url)))),t.buttonLabel&&b.createElement("button",{className:"w-full bg-white text-black font-semibold rounded-2xl py-3 text-lg mt-3 shadow hover:bg-gray-100 transition",tabIndex:-1},t.buttonLabel))}var jm={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function h9(){if(R1)return xu;R1=1;var t=dy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,v={},_=null,x=null;p!==void 0&&(_=""+p),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:c,key:_,ref:x,props:v,_owner:s.current}}return xu.Fragment=n,xu.jsx=l,xu.jsxs=l,xu}var N1;function d9(){return N1||(N1=1,jm.exports=h9()),jm.exports}var zg=d9();const wS=L.createContext({});function f9(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bw=typeof window<"u",p9=Bw?L.useLayoutEffect:L.useEffect,jw=L.createContext(null);function zw(t,e){t.indexOf(e)===-1&&t.push(e)}function $w(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fi=(t,e,n)=>n>e?e:n<t?t:n;let Ww=()=>{};const Ui={},vS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _S(t){return typeof t=="object"&&t!==null}const ES=t=>/^0[^.\s]+$/u.test(t);function Hw(t){let e;return()=>(e===void 0&&(e=t()),e)}const or=t=>t,m9=(t,e)=>n=>e(t(n)),Ac=(...t)=>t.reduce(m9),rc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qw{constructor(){this.subscriptions=[]}add(e){return zw(this.subscriptions,e),()=>$w(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jr=t=>t*1e3,Zr=t=>t/1e3;function bS(t,e){return e?t*(1e3/e):0}const TS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,g9=1e-7,y9=12;function w9(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=TS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>g9&&++c<y9);return l}function Rc(t,e,n,r){if(t===e&&n===r)return or;const s=a=>w9(a,0,1,t,n);return a=>a===0||a===1?a:TS(s(a),e,r)}const xS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CS=t=>e=>1-t(1-e),SS=Rc(.33,1.53,.69,.99),Kw=CS(SS),kS=xS(Kw),IS=t=>(t*=2)<1?.5*Kw(t):.5*(2-Math.pow(2,-10*(t-1))),Gw=t=>1-Math.sin(Math.acos(t)),PS=CS(Gw),AS=xS(Gw),v9=Rc(.42,0,1,1),_9=Rc(0,0,.58,1),RS=Rc(.42,0,.58,1),E9=t=>Array.isArray(t)&&typeof t[0]!="number",NS=t=>Array.isArray(t)&&typeof t[0]=="number",b9={linear:or,easeIn:v9,easeInOut:RS,easeOut:_9,circIn:Gw,circInOut:AS,circOut:PS,backIn:Kw,backInOut:kS,backOut:SS,anticipate:IS},T9=t=>typeof t=="string",D1=t=>{if(NS(t)){Ww(t.length===4);const[e,n,r,s]=t;return Rc(e,n,r,s)}else if(T9(t))return b9[t];return t},od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function x9(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),t()),g(c)}const p={schedule:(g,v=!1,_=!1)=>{const A=_&&s?n:r;return v&&l.add(g),A.has(g)||A.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(c=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const C9=40;function DS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=od.reduce((B,Q)=>(B[Q]=x9(a),B),{}),{setup:c,read:f,resolveKeyframes:p,preUpdate:g,update:v,preRender:_,render:x,postRender:A}=l,V=()=>{const B=Ui.useManualTiming?s.timestamp:performance.now();n=!1,Ui.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(B-s.timestamp,C9),1)),s.timestamp=B,s.isProcessing=!0,c.process(s),f.process(s),p.process(s),g.process(s),v.process(s),_.process(s),x.process(s),A.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(V))},k=()=>{n=!0,r=!0,s.isProcessing||t(V)};return{schedule:od.reduce((B,Q)=>{const X=l[Q];return B[Q]=(re,M=!1,S=!1)=>(n||k(),X.schedule(re,M,S)),B},{}),cancel:B=>{for(let Q=0;Q<od.length;Q++)l[od[Q]].cancel(B)},state:s,steps:l}}const{schedule:lt,cancel:Ls,state:Jt,steps:zm}=DS(typeof requestAnimationFrame<"u"?requestAnimationFrame:or,!0);let xd;function S9(){xd=void 0}const Nn={now:()=>(xd===void 0&&Nn.set(Jt.isProcessing||Ui.useManualTiming?Jt.timestamp:performance.now()),xd),set:t=>{xd=t,queueMicrotask(S9)}},LS=t=>e=>typeof e=="string"&&e.startsWith(t),Yw=LS("--"),k9=LS("var(--"),Qw=t=>k9(t)?I9.test(t.split("/*")[0].trim()):!1,I9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ic={...Cl,transform:t=>Fi(0,1,t)},ad={...Cl,default:1},ju=t=>Math.round(t*1e5)/1e5,Xw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function P9(t){return t==null}const A9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jw=(t,e)=>n=>!!(typeof n=="string"&&A9.test(n)&&n.startsWith(t)||e&&!P9(n)&&Object.prototype.hasOwnProperty.call(n,e)),VS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Xw);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},R9=t=>Fi(0,255,t),$m={...Cl,transform:t=>Math.round(R9(t))},To={test:Jw("rgb","red"),parse:VS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$m.transform(t)+", "+$m.transform(e)+", "+$m.transform(n)+", "+ju(ic.transform(r))+")"};function N9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $g={test:Jw("#"),parse:N9,transform:To.transform},Nc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ms=Nc("deg"),ei=Nc("%"),Ie=Nc("px"),D9=Nc("vh"),L9=Nc("vw"),L1={...ei,parse:t=>ei.parse(t)/100,transform:t=>ei.transform(t*100)},za={test:Jw("hsl","hue"),parse:VS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ei.transform(ju(e))+", "+ei.transform(ju(n))+", "+ju(ic.transform(r))+")"},It={test:t=>To.test(t)||$g.test(t)||za.test(t),parse:t=>To.test(t)?To.parse(t):za.test(t)?za.parse(t):$g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?To.transform(t):za.transform(t),getAnimatableNone:t=>{const e=It.parse(t);return e.alpha=0,It.transform(e)}},V9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M9(t){return isNaN(t)&&typeof t=="string"&&(t.match(Xw)?.length||0)+(t.match(V9)?.length||0)>0}const MS="number",OS="color",O9="var",F9="var(",V1="${}",U9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(U9,f=>(It.test(f)?(r.color.push(a),s.push(OS),n.push(It.parse(f))):f.startsWith(F9)?(r.var.push(a),s.push(O9),n.push(f)):(r.number.push(a),s.push(MS),n.push(parseFloat(f))),++a,V1)).split(V1);return{values:n,split:c,indexes:r,types:s}}function FS(t){return sc(t).values}function US(t){const{split:e,types:n}=sc(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===MS?a+=ju(s[l]):c===OS?a+=It.transform(s[l]):a+=s[l]}return a}}const B9=t=>typeof t=="number"?0:It.test(t)?It.getAnimatableNone(t):t;function j9(t){const e=FS(t);return US(t)(e.map(B9))}const Vs={test:M9,parse:FS,createTransformer:US,getAnimatableNone:j9};function Wm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function z9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;s=Wm(f,c,t+1/3),a=Wm(f,c,t),l=Wm(f,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function lf(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,Hm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},$9=[$g,To,za],W9=t=>$9.find(e=>e.test(t));function M1(t){const e=W9(t);if(!e)return!1;let n=e.parse(t);return e===za&&(n=z9(n)),n}const O1=(t,e)=>{const n=M1(t),r=M1(e);if(!n||!r)return lf(t,e);const s={...n};return a=>(s.red=Hm(n.red,r.red,a),s.green=Hm(n.green,r.green,a),s.blue=Hm(n.blue,r.blue,a),s.alpha=ht(n.alpha,r.alpha,a),To.transform(s))},Wg=new Set(["none","hidden"]);function H9(t,e){return Wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function q9(t,e){return n=>ht(t,e,n)}function Zw(t){return typeof t=="number"?q9:typeof t=="string"?Qw(t)?lf:It.test(t)?O1:Y9:Array.isArray(t)?BS:typeof t=="object"?It.test(t)?O1:K9:lf}function BS(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Zw(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function K9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Zw(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function G9(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const Y9=(t,e)=>{const n=Vs.createTransformer(e),r=sc(t),s=sc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wg.has(t)&&!s.values.length||Wg.has(e)&&!r.values.length?H9(t,e):Ac(BS(G9(r,s),s.values),n):lf(t,e)};function jS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):Zw(t)(t,e)}const Q9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>lt.update(e,n),stop:()=>Ls(e),now:()=>Jt.isProcessing?Jt.timestamp:Nn.now()}},zS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},uf=2e4;function ev(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<uf;)e+=n,r=t.next(e);return e>=uf?1/0:e}function X9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(ev(r),uf);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Zr(s)}}const J9=5;function $S(t,e,n){const r=Math.max(e-J9,0);return bS(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qm=.001;function Z9({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let s,a,l=1-e;l=Fi(mt.minDamping,mt.maxDamping,l),t=Fi(mt.minDuration,mt.maxDuration,Zr(t)),l<1?(s=p=>{const g=p*l,v=g*t,_=g-n,x=Hg(p,l),A=Math.exp(-v);return qm-_/x*A},a=p=>{const v=p*l*t,_=v*n+n,x=Math.pow(l,2)*Math.pow(p,2)*t,A=Math.exp(-v),V=Hg(Math.pow(p,2),l);return(-s(p)+qm>0?-1:1)*((_-x)*A)/V}):(s=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-qm+g*v},a=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const c=5/t,f=tF(s,a,c);if(t=Jr(t),isNaN(f))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const eF=12;function tF(t,e,n){let r=n;for(let s=1;s<eF;s++)r=r-t(r)/e(r);return r}function Hg(t,e){return t*Math.sqrt(1-e*e)}const nF=["duration","bounce"],rF=["stiffness","damping","mass"];function F1(t,e){return e.some(n=>t[n]!==void 0)}function iF(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!F1(t,rF)&&F1(t,nF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Fi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:mt.mass,stiffness:s,damping:a}}else{const n=Z9(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function cf(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:v,velocity:_,isResolvedFromDuration:x}=iF({...n,velocity:-Zr(n.velocity||0)}),A=_||0,V=p/(2*Math.sqrt(f*g)),k=l-a,N=Zr(Math.sqrt(f/g)),F=Math.abs(k)<5;r||(r=F?mt.restSpeed.granular:mt.restSpeed.default),s||(s=F?mt.restDelta.granular:mt.restDelta.default);let B;if(V<1){const X=Hg(N,V);B=re=>{const M=Math.exp(-V*N*re);return l-M*((A+V*N*k)/X*Math.sin(X*re)+k*Math.cos(X*re))}}else if(V===1)B=X=>l-Math.exp(-N*X)*(k+(A+N*k)*X);else{const X=N*Math.sqrt(V*V-1);B=re=>{const M=Math.exp(-V*N*re),S=Math.min(X*re,300);return l-M*((A+V*N*k)*Math.sinh(S)+X*k*Math.cosh(S))/X}}const Q={calculatedDuration:x&&v||null,next:X=>{const re=B(X);if(x)c.done=X>=v;else{let M=X===0?A:0;V<1&&(M=X===0?Jr(A):$S(B,X,re));const S=Math.abs(M)<=r,P=Math.abs(l-re)<=s;c.done=S&&P}return c.value=c.done?l:re,c},toString:()=>{const X=Math.min(ev(Q),uf),re=zS(M=>Q.next(X*M).value,X,30);return X+"ms "+re},toTransition:()=>{}};return Q}cf.applyToOptions=t=>{const e=X9(t,100,cf);return t.ease=e.ease,t.duration=Jr(e.duration),t.type="keyframes",t};function qg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:f,restDelta:p=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},x=S=>c!==void 0&&S<c||f!==void 0&&S>f,A=S=>c===void 0?f:f===void 0||Math.abs(c-S)<Math.abs(f-S)?c:f;let V=n*e;const k=v+V,N=l===void 0?k:l(k);N!==k&&(V=N-v);const F=S=>-V*Math.exp(-S/r),B=S=>N+F(S),Q=S=>{const P=F(S),D=B(S);_.done=Math.abs(P)<=p,_.value=_.done?N:D};let X,re;const M=S=>{x(_.value)&&(X=S,re=cf({keyframes:[_.value,A(_.value)],velocity:$S(B,S,_.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return M(0),{calculatedDuration:null,next:S=>{let P=!1;return!re&&X===void 0&&(P=!0,Q(S),M(S)),X!==void 0&&S>=X?re.next(S-X):(!P&&Q(S),_)}}}function sF(t,e,n){const r=[],s=n||Ui.mix||jS,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||or:e;c=Ac(f,c)}r.push(c)}return r}function oF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Ww(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=sF(e,r,s),f=c.length,p=g=>{if(l&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=rc(t[v],t[v+1],g);return c[v](_)};return n?g=>p(Fi(t[0],t[a-1],g)):p}function aF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=rc(0,e,r);t.push(ht(n,1,s))}}function lF(t){const e=[0];return aF(e,t.length-1),e}function uF(t,e){return t.map(n=>n*e)}function cF(t,e){return t.map(()=>e||RS).splice(0,t.length-1)}function zu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=E9(r)?r.map(D1):D1(r),a={done:!1,value:e[0]},l=uF(n&&n.length===e.length?n:lF(e),t),c=oF(l,e,{ease:Array.isArray(s)?s:cF(e,s)});return{calculatedDuration:t,next:f=>(a.value=c(f),a.done=f>=t,a)}}const hF=t=>t!==null;function tv(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(hF),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const dF={decay:qg,inertia:qg,tween:zu,keyframes:zu,spring:cf};function WS(t){typeof t.type=="string"&&(t.type=dF[t.type])}class nv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fF=t=>t/100;class rv extends nv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WS(e);const{type:n=zu,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const f=n||zu;f!==zu&&typeof c[0]!="number"&&(this.mixKeyframes=Ac(fF,jS(c[0],c[1])),c=[0,100]);const p=f({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=ev(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:x,type:A,onUpdate:V,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,Q=r;if(v){const S=Math.min(this.currentTime,s)/c;let P=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(_==="reverse"?(D=1-D,x&&(D-=x/c)):_==="mirror"&&(Q=l)),B=Fi(0,1,D)*c}const X=F?{done:!1,value:g[0]}:Q.next(B);a&&(X.value=a(X.value));let{done:re}=X;!F&&f!==null&&(re=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&re);return M&&A!==qg&&(X.value=tv(g,this.options,k,this.speed)),V&&V(X.value),M&&this.finish(),X}then(e,n){return this.finished.then(e,n)}get duration(){return Zr(this.calculatedDuration)}get time(){return Zr(this.currentTime)}set time(e){e=Jr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Q9,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function pF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xo=t=>t*180/Math.PI,Kg=t=>{const e=xo(Math.atan2(t[1],t[0]));return Gg(e)},mF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kg,rotateZ:Kg,skewX:t=>xo(Math.atan(t[1])),skewY:t=>xo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gg=t=>(t=t%360,t<0&&(t+=360),t),U1=Kg,B1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),j1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B1,scaleY:j1,scale:t=>(B1(t)+j1(t))/2,rotateX:t=>Gg(xo(Math.atan2(t[6],t[5]))),rotateY:t=>Gg(xo(Math.atan2(-t[2],t[0]))),rotateZ:U1,rotate:U1,skewX:t=>xo(Math.atan(t[4])),skewY:t=>xo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yg(t){return t.includes("scale")?1:0}function Qg(t,e){if(!t||t==="none")return Yg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=gF,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=mF,s=c}if(!s)return Yg(e);const a=r[e],l=s[1].split(",").map(wF);return typeof a=="function"?a(l):l[a]}const yF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qg(n,e)};function wF(t){return parseFloat(t.trim())}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kl=new Set(Sl),z1=t=>t===Cl||t===Ie,vF=new Set(["x","y","z"]),_F=Sl.filter(t=>!vF.has(t));function EF(t){const e=[];return _F.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Io={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qg(e,"x"),y:(t,{transform:e})=>Qg(e,"y")};Io.translateX=Io.x;Io.translateY=Io.y;const Po=new Set;let Xg=!1,Jg=!1,Zg=!1;function HS(){if(Jg){const t=Array.from(Po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=EF(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jg=!1,Xg=!1,Po.forEach(t=>t.complete(Zg)),Po.clear()}function qS(){Po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jg=!0)})}function bF(){Zg=!0,qS(),HS(),Zg=!1}class iv{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Po.add(this),Xg||(Xg=!0,lt.read(qS),lt.resolveKeyframes(HS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}pF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Po.delete(this)}cancel(){this.state==="scheduled"&&(Po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const TF=t=>t.startsWith("--");function xF(t,e,n){TF(e)?t.style.setProperty(e,n):t.style[e]=n}const CF=Hw(()=>window.ScrollTimeline!==void 0),SF={};function kF(t,e){const n=Hw(t);return()=>SF[e]??n()}const KS=kF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Du=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function GS(t,e){if(t)return typeof t=="function"?KS()?zS(t,e):"ease-out":NS(t)?Du(t):Array.isArray(t)?t.map(n=>GS(n,e)||$1.easeOut):$1[t]}function IF(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const v=GS(c,s);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function YS(t){return typeof t=="function"&&"applyToOptions"in t}function PF({type:t,...e}){return YS(t)&&KS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class AF extends nv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Ww(typeof e.type!="string");const p=PF(e);this.animation=IF(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=tv(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):xF(n,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zr(Number(e))}get time(){return Zr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Jr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&CF()?(this.animation.timeline=e,or):n(this)}}const QS={anticipate:IS,backInOut:kS,circInOut:AS};function RF(t){return t in QS}function NF(t){typeof t.ease=="string"&&RF(t.ease)&&(t.ease=QS[t.ease])}const W1=10;class DF extends AF{constructor(e){NF(e),WS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new rv({...l,autoplay:!1}),f=Jr(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-W1).value,c.sample(f).value,W1),c.stop()}}const H1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vs.test(t)||t==="0")&&!t.startsWith("url("));function LF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function VF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=H1(s,e),c=H1(a,e);return!l||!c?!1:LF(t)||(n==="spring"||YS(n))&&r}function ey(t){t.duration=0,t.type}const MF=new Set(["opacity","clipPath","filter","transform"]),OF=Hw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return OF()&&n&&MF.has(n)&&(n!=="transform"||!p)&&!f&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const UF=40;class BF extends nv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:f,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:g,...v},x=g?.KeyframeResolver||iv;this.keyframeResolver=new x(c,(A,V,k)=>this.onKeyframesResolved(A,V,_,!k),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Nn.now(),VF(e,a,l,c)||((Ui.instantAnimations||!f)&&g?.(tv(e,r,n)),e[0]=e[e.length-1],ey(r),r.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>UF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&FF(_)?new DF({..._,element:_.motionValue.owner.current}):new rv(_);x.finished.then(()=>this.notifyFinished()).catch(or),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),bF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const jF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zF(t){const e=jF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function XS(t,e,n=1){const[r,s]=zF(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return vS(l)?parseFloat(l):l}return Qw(s)?XS(s,e,n+1):s}function sv(t,e){return t?.[e]??t?.default??t}const JS=new Set(["width","height","top","left","right","bottom",...Sl]),$F={test:t=>t==="auto",parse:t=>t},ZS=t=>e=>e.test(t),ek=[Cl,Ie,ei,ms,L9,D9,$F],q1=t=>ek.find(ZS(t));function WF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ES(t):!0}const HF=new Set(["brightness","contrast","saturate","opacity"]);function qF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xw)||[];if(!r)return t;const s=n.replace(r,"");let a=HF.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const KF=/\b([a-z-]*)\(.*?\)/gu,ty={...Vs,getAnimatableNone:t=>{const e=t.match(KF);return e?e.map(qF).join(" "):t}},K1={...Cl,transform:Math.round},GF={rotate:ms,rotateX:ms,rotateY:ms,rotateZ:ms,scale:ad,scaleX:ad,scaleY:ad,scaleZ:ad,skew:ms,skewX:ms,skewY:ms,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:ic,originX:L1,originY:L1,originZ:Ie},ov={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...GF,zIndex:K1,fillOpacity:ic,strokeOpacity:ic,numOctaves:K1},YF={...ov,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:ty,WebkitFilter:ty},tk=t=>YF[t];function nk(t,e){let n=tk(t);return n!==ty&&(n=Vs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QF=new Set(["auto","none","0"]);function XF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!QF.has(a)&&sc(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=nk(n,s)}class JF extends iv{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Qw(p))){const g=XS(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!JS.has(r)||e.length!==2)return;const[s,a]=e,l=q1(s),c=q1(a);if(l!==c)if(z1(l)&&z1(c))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Io[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||WF(e[s]))&&r.push(s);r.length&&XF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Io[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Io[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function ZF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const rk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function e8(t){return _S(t)&&"offsetHeight"in t}const G1=30,t8=t=>!isNaN(parseFloat(t));class n8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Nn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=t8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qw);const r=this.events[e].add(n);return e==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,G1);return bS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ul(t,e){return new n8(t,e)}const{schedule:av}=DS(queueMicrotask,!1),Cr={x:!1,y:!1};function ik(){return Cr.x||Cr.y}function r8(t){return t==="x"||t==="y"?Cr[t]?null:(Cr[t]=!0,()=>{Cr[t]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}function sk(t,e){const n=ZF(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Y1(t){return!(t.pointerType==="touch"||ik())}function i8(t,e,n={}){const[r,s,a]=sk(t,n),l=c=>{if(!Y1(c))return;const{target:f}=c,p=e(f,c);if(typeof p!="function"||!f)return;const g=v=>{Y1(v)&&(p(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const ok=(t,e)=>e?t===e?!0:ok(t,e.parentElement):!1,lv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,s8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function o8(t){return s8.has(t.tagName)||t.tabIndex!==-1}const Cd=new WeakSet;function Q1(t){return e=>{e.key==="Enter"&&t(e)}}function Km(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const a8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Q1(()=>{if(Cd.has(n))return;Km(n,"down");const s=Q1(()=>{Km(n,"up")}),a=()=>Km(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function X1(t){return lv(t)&&!ik()}function l8(t,e,n={}){const[r,s,a]=sk(t,n),l=c=>{const f=c.currentTarget;if(!X1(c))return;Cd.add(f);const p=e(f,c),g=(x,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Cd.has(f)&&Cd.delete(f),X1(x)&&typeof p=="function"&&p(x,{success:A})},v=x=>{g(x,f===window||f===document||n.useGlobalTarget||ok(f,x.target))},_=x=>{g(x,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",_,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),e8(c)&&(c.addEventListener("focus",p=>a8(p,s)),!o8(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function ak(t){return _S(t)&&"ownerSVGElement"in t}function u8(t){return ak(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),c8=[...ek,It,Vs],h8=t=>c8.find(ZS(t)),lk=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function d8(t=!0){const e=L.useContext(jw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=L.useId();L.useEffect(()=>{if(t)return s(a)},[t]);const l=L.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const uk=L.createContext({strict:!1}),J1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const t in J1)cl[t]={isEnabled:e=>J1[t].some(n=>!!e[n])};function f8(t){for(const e in t)cl[e]={...cl[e],...t[e]}}const p8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||p8.has(t)}let ck=t=>!hf(t);function m8(t){typeof t=="function"&&(ck=e=>e.startsWith("on")?!hf(e):t(e))}try{m8(require("@emotion/is-prop-valid").default)}catch{}function g8(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ck(s)||n===!0&&hf(s)||!e&&!hf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const jf=L.createContext({});function zf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function oc(t){return typeof t=="string"||Array.isArray(t)}const uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cv=["initial",...uv];function $f(t){return zf(t.animate)||cv.some(e=>oc(t[e]))}function hk(t){return!!($f(t)||t.variants)}function y8(t,e){if($f(t)){const{initial:n,animate:r}=t;return{initial:n===!1||oc(n)?n:void 0,animate:oc(r)?r:void 0}}return t.inherit!==!1?e:{}}function w8(t){const{initial:e,animate:n}=y8(t,L.useContext(jf));return L.useMemo(()=>({initial:e,animate:n}),[Z1(e),Z1(n)])}function Z1(t){return Array.isArray(t)?t.join(" "):t}const ac={};function v8(t){for(const e in t)ac[e]=t[e],Yw(e)&&(ac[e].isCSSVariable=!0)}function dk(t,{layout:e,layoutId:n}){return kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ac[t]||t==="opacity")}const _8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E8=Sl.length;function b8(t,e,n){let r="",s=!0;for(let a=0;a<E8;a++){const l=Sl[a],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const p=rk(c,ov[l]);if(!f){s=!1;const g=_8[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function hv(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const f in e){const p=e[f];if(kl.has(f)){l=!0;continue}else if(Yw(f)){s[f]=p;continue}else{const g=rk(p,ov[f]);f.startsWith("origin")?(c=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=b8(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fk(t,e,n){for(const r in e)!hn(e[r])&&!dk(r,n)&&(t[r]=e[r])}function T8({transformTemplate:t},e){return L.useMemo(()=>{const n=dv();return hv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function x8(t,e){const n=t.style||{},r={};return fk(r,n,t),Object.assign(r,T8(t,e)),r}function C8(t,e){const n={},r=x8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const S8={offset:"stroke-dashoffset",array:"stroke-dasharray"},k8={offset:"strokeDashoffset",array:"strokeDasharray"};function I8(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?S8:k8;t[a.offset]=Ie.transform(-r);const l=Ie.transform(e),c=Ie.transform(n);t[a.array]=`${l} ${c}`}function pk(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},f,p,g){if(hv(t,c,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),s!==void 0&&I8(v,s,a,l,!1)}const mk=()=>({...dv(),attrs:{}}),gk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function P8(t,e,n,r){const s=L.useMemo(()=>{const a=mk();return pk(a,e,gk(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};fk(a,t.style,t),s.style={...a,...s.style}}return s}const A8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(t){return typeof t!="string"||t.includes("-")?!1:!!(A8.indexOf(t)>-1||/[A-Z]/u.test(t))}function R8(t,e,n,{latestValues:r},s,a=!1){const c=(fv(t)?P8:C8)(e,r,s,t),f=g8(e,typeof t=="string",a),p=t!==L.Fragment?{...f,...c,ref:n}:{},{children:g}=e,v=L.useMemo(()=>hn(g)?g.get():g,[g]);return L.createElement(t,{...p,children:v})}function eb(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function pv(t,e,n,r){if(typeof e=="function"){const[s,a]=eb(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=eb(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Sd(t){return hn(t)?t.get():t}function N8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:D8(n,r,s,t),renderState:e()}}function D8(t,e,n,r){const s={},a=r(t,{});for(const _ in a)s[_]=Sd(a[_]);let{initial:l,animate:c}=t;const f=$f(t),p=hk(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?c:l;if(v&&typeof v!="boolean"&&!zf(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const A=pv(t,_[x]);if(A){const{transitionEnd:V,transition:k,...N}=A;for(const F in N){let B=N[F];if(Array.isArray(B)){const Q=g?B.length-1:0;B=B[Q]}B!==null&&(s[F]=B)}for(const F in V)s[F]=V[F]}}}return s}const yk=t=>(e,n)=>{const r=L.useContext(jf),s=L.useContext(jw),a=()=>N8(t,e,r,s);return n?a():f9(a)};function mv(t,e,n){const{style:r}=t,s={};for(const a in r)(hn(r[a])||e.style&&hn(e.style[a])||dk(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const L8=yk({scrapeMotionValuesFromProps:mv,createRenderState:dv});function wk(t,e,n){const r=mv(t,e,n);for(const s in t)if(hn(t[s])||hn(e[s])){const a=Sl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const V8=yk({scrapeMotionValuesFromProps:wk,createRenderState:mk}),M8=Symbol.for("motionComponentSymbol");function $a(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O8(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$a(n)&&(n.current=r))},[e])}const gv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F8="framerAppearId",vk="data-"+gv(F8),_k=L.createContext({});function U8(t,e,n,r,s){const{visualElement:a}=L.useContext(jf),l=L.useContext(uk),c=L.useContext(jw),f=L.useContext(lk).reducedMotion,p=L.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,v=L.useContext(_k);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&B8(p.current,n,s,v);const _=L.useRef(!1);L.useInsertionEffect(()=>{g&&_.current&&g.update(n,c)});const x=n[vk],A=L.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return p9(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),A.current&&g.animationState&&g.animationState.animateChanges())}),L.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),A.current=!1),g.enteringChildren=void 0)}),g}function B8(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ek(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&$a(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function Ek(t){if(t)return t.options.allowProjection!==!1?t.projection:Ek(t.parent)}function Gm(t,{forwardMotionProps:e=!1}={},n,r){n&&f8(n);const s=fv(t)?V8:L8;function a(c,f){let p;const g={...L.useContext(lk),...c,layoutId:j8(c)},{isStatic:v}=g,_=w8(c),x=s(c,v);if(!v&&Bw){z8();const A=$8(g);p=A.MeasureLayout,_.visualElement=U8(t,x,g,r,A.ProjectionNode)}return zg.jsxs(jf.Provider,{value:_,children:[p&&_.visualElement?zg.jsx(p,{visualElement:_.visualElement,...g}):null,R8(t,c,O8(x,_.visualElement,f),x,v,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=L.forwardRef(a);return l[M8]=t,l}function j8({layoutId:t}){const e=L.useContext(wS).id;return e&&t!==void 0?e+"-"+t:t}function z8(t,e){L.useContext(uk).strict}function $8(t){const{drag:e,layout:n}=cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function W8(t,e){if(typeof Proxy>"u")return Gm;const n=new Map,r=(a,l)=>Gm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Gm(l,void 0,t,e)),n.get(l))})}function bk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function H8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function q8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ym(t){return t===void 0||t===1}function ny({scale:t,scaleX:e,scaleY:n}){return!Ym(t)||!Ym(e)||!Ym(n)}function wo(t){return ny(t)||Tk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Tk(t){return tb(t.x)||tb(t.y)}function tb(t){return t&&t!=="0%"}function df(t,e,n){const r=t-n,s=e*r;return n+s}function nb(t,e,n,r,s){return s!==void 0&&(t=df(t,s,r)),df(t,n,r)+e}function ry(t,e=0,n=1,r,s){t.min=nb(t.min,e,n,r,s),t.max=nb(t.max,e,n,r,s)}function xk(t,{x:e,y:n}){ry(t.x,e.translate,e.scale,e.originPoint),ry(t.y,n.translate,n.scale,n.originPoint)}const rb=.999999999999,ib=1.0000000000001;function K8(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ha(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,xk(t,l)),r&&wo(a.latestValues)&&Ha(t,a.latestValues))}e.x<ib&&e.x>rb&&(e.x=1),e.y<ib&&e.y>rb&&(e.y=1)}function Wa(t,e){t.min=t.min+e,t.max=t.max+e}function sb(t,e,n,r,s=.5){const a=ht(t.min,t.max,s);ry(t,e,n,a,r)}function Ha(t,e){sb(t.x,e.x,e.scaleX,e.scale,e.originX),sb(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ck(t,e){return bk(q8(t.getBoundingClientRect(),e))}function G8(t,e,n){const r=Ck(t,n),{scroll:s}=e;return s&&(Wa(r.x,s.offset.x),Wa(r.y,s.offset.y)),r}const ob=()=>({translate:0,scale:1,origin:0,originPoint:0}),qa=()=>({x:ob(),y:ob()}),ab=()=>({min:0,max:0}),_t=()=>({x:ab(),y:ab()}),iy={current:null},Sk={current:!1};function Y8(){if(Sk.current=!0,!!Bw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iy.current=t.matches;t.addEventListener("change",e),e()}else iy.current=!1}const Q8=new WeakMap;function X8(t,e,n){for(const r in e){const s=e[r],a=n[r];if(hn(s))t.addValue(r,s);else if(hn(a))t.addValue(r,ul(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,ul(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class J8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Nn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,lt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=$f(n),this.isVariantNode=hk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in v){const x=v[_];f[_]!==void 0&&hn(x)&&x.set(f[_])}}mount(e){this.current=e,Q8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Sk.current||Y8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ls(this.notifyUpdate),Ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=kl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lb.length;r++){const s=lb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=X8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ul(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(vS(r)||ES(r))?r=parseFloat(r):!h8(r)&&Vs.test(n)&&(r=nk(e,n)),this.setBaseTarget(e,hn(r)?r.get():r)),hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=pv(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!hn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){av.render(this.render)}}class kk extends J8{constructor(){super(...arguments),this.KeyframeResolver=JF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ik(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function Z8(t){return window.getComputedStyle(t)}class eU extends kk{constructor(){super(...arguments),this.type="html",this.renderInstance=Ik}readValueFromInstance(e,n){if(kl.has(n))return this.projection?.isProjecting?Yg(n):yF(e,n);{const r=Z8(e),s=(Yw(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ck(e,n)}build(e,n,r){hv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return mv(e,n,r)}}const Pk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tU(t,e,n,r){Ik(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Pk.has(s)?s:gv(s),e.attrs[s])}class nU extends kk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kl.has(n)){const r=tk(n);return r&&r.default||0}return n=Pk.has(n)?n:gv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wk(e,n,r)}build(e,n,r){pk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){tU(e,n,r,s)}mount(e){this.isSVGTag=gk(e.tagName),super.mount(e)}}const rU=(t,e)=>fv(t)?new nU(e):new eU(e,{allowProjection:t!==L.Fragment});function el(t,e,n){const r=t.getProps();return pv(r,e,n!==void 0?n:r.custom,t)}const sy=t=>Array.isArray(t);function iU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ul(n))}function sU(t){return sy(t)?t[t.length-1]||0:t}function oU(t,e){const n=el(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=sU(a[l]);iU(t,l,c)}}function aU(t){return!!(hn(t)&&t.add)}function oy(t,e){const n=t.getValue("willChange");if(aU(n))return n.add(e);if(!n&&Ui.WillChange){const r=new Ui.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Ak(t){return t.props[vk]}const lU=t=>t!==null;function uU(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(lU),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const cU={type:"spring",stiffness:500,damping:25,restSpeed:10},hU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dU={type:"keyframes",duration:.8},fU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pU=(t,{keyframes:e})=>e.length>2?dU:kl.has(t)?t.startsWith("scale")?hU(e[1]):cU:fU;function mU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const yv=(t,e,n,r={},s,a)=>l=>{const c=sv(r,t)||{},f=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Jr(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};mU(c)||Object.assign(g,pU(t,g)),g.duration&&(g.duration=Jr(g.duration)),g.repeatDelay&&(g.repeatDelay=Jr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(ey(g),g.delay===0&&(v=!0)),(Ui.instantAnimations||Ui.skipAnimations)&&(v=!0,ey(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,v&&!a&&e.get()!==void 0){const _=uU(g.keyframes,c);if(_!==void 0){lt.update(()=>{g.onUpdate(_),g.onComplete()});return}}return c.isSync?new rv(g):new BF(g)};function gU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Rk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const f=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const g in c){const v=t.getValue(g,t.latestValues[g]??null),_=c[g];if(_===void 0||p&&gU(p,g))continue;const x={delay:n,...sv(a||{},g)},A=v.get();if(A!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===A&&!x.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const N=Ak(t);if(N){const F=window.MotionHandoffAnimation(N,g,lt);F!==null&&(x.startTime=F,V=!0)}}oy(t,g),v.start(yv(g,v,_,t.shouldReduceMotion&&JS.has(g)?{type:!1}:x,t,V));const k=v.animation;k&&f.push(k)}return l&&Promise.all(f).then(()=>{lt.update(()=>{l&&oU(t,l)})}),f}function Nk(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:c-a*r}function ay(t,e,n={}){const r=el(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(Rk(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return yU(t,e,f,p,g,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function yU(t,e,n=0,r=0,s=0,a=1,l){const c=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),c.push(ay(f,e,{...l,delay:n+(typeof r=="function"?0:r)+Nk(t.variantChildren,f,r,s,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(c)}function wU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>ay(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=ay(t,e,n);else{const s=typeof e=="function"?el(t,e,n.custom):e;r=Promise.all(Rk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Dk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const vU=cv.length;function Lk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Lk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<vU;n++){const r=cv[n],s=t.props[r];(oc(s)||s===!1)&&(e[r]=s)}return e}const _U=[...uv].reverse(),EU=uv.length;function bU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wU(t,n,r)))}function TU(t){let e=bU(t),n=ub(),r=!0;const s=f=>(p,g)=>{const v=el(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:x,...A}=v;p={...p,...A,...x}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=Lk(t.parent)||{},v=[],_=new Set;let x={},A=1/0;for(let k=0;k<EU;k++){const N=_U[k],F=n[N],B=p[N]!==void 0?p[N]:g[N],Q=oc(B),X=N===f?F.isActive:null;X===!1&&(A=k);let re=B===g[N]&&B!==p[N]&&Q;if(re&&r&&t.manuallyAnimateOnMount&&(re=!1),F.protectedKeys={...x},!F.isActive&&X===null||!B&&!F.prevProp||zf(B)||typeof B=="boolean")continue;const M=xU(F.prevProp,B);let S=M||N===f&&F.isActive&&!re&&Q||k>A&&Q,P=!1;const D=Array.isArray(B)?B:[B];let U=D.reduce(s(N),{});X===!1&&(U={});const{prevResolvedValues:z={}}=F,I={...z,...U},Ae=Ce=>{S=!0,_.has(Ce)&&(P=!0,_.delete(Ce)),F.needsAnimating[Ce]=!0;const oe=t.getValue(Ce);oe&&(oe.liveStyle=!1)};for(const Ce in I){const oe=U[Ce],ye=z[Ce];if(x.hasOwnProperty(Ce))continue;let ue=!1;sy(oe)&&sy(ye)?ue=!Dk(oe,ye):ue=oe!==ye,ue?oe!=null?Ae(Ce):_.add(Ce):oe!==void 0&&_.has(Ce)?Ae(Ce):F.protectedKeys[Ce]=!0}F.prevProp=B,F.prevResolvedValues=U,F.isActive&&(x={...x,...U}),r&&t.blockInitialAnimation&&(S=!1);const Ge=re&&M;S&&(!Ge||P)&&v.push(...D.map(Ce=>{const oe={type:N};if(typeof Ce=="string"&&r&&!Ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:ye}=t,ue=el(ye,Ce);if(ye.enteringChildren&&ue){const{delayChildren:$}=ue.transition||{};oe.delay=Nk(ye.enteringChildren,t,$)}}return{animation:Ce,options:oe}}))}if(_.size){const k={};if(typeof p.initial!="boolean"){const N=el(t,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(k.transition=N.transition)}_.forEach(N=>{const F=t.getBaseTarget(N),B=t.getValue(N);B&&(B.liveStyle=!0),k[N]=F??null}),v.push({animation:k})}let V=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(v):Promise.resolve()}function c(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,p)),n[f].isActive=p;const g=l(f);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ub(),r=!0}}}function xU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Dk(e,t):!1}function go(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ub(){return{animate:go(!0),whileInView:go(),whileHover:go(),whileTap:go(),whileDrag:go(),whileFocus:go(),exit:go()}}class Us{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CU extends Us{constructor(e){super(e),e.animationState||(e.animationState=TU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let SU=0;class kU extends Us{constructor(){super(...arguments),this.id=SU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const IU={animation:{Feature:CU},exit:{Feature:kU}};function lc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dc(t){return{point:{x:t.pageX,y:t.pageY}}}const PU=t=>e=>lv(e)&&t(e,Dc(e));function $u(t,e,n,r){return lc(t,e,PU(n),r)}const Vk=1e-4,AU=1-Vk,RU=1+Vk,Mk=.01,NU=0-Mk,DU=0+Mk;function vn(t){return t.max-t.min}function LU(t,e,n){return Math.abs(t-e)<=n}function cb(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AU&&t.scale<=RU||isNaN(t.scale))&&(t.scale=1),(t.translate>=NU&&t.translate<=DU||isNaN(t.translate))&&(t.translate=0)}function Wu(t,e,n,r){cb(t.x,e.x,n.x,r?r.originX:void 0),cb(t.y,e.y,n.y,r?r.originY:void 0)}function hb(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function VU(t,e,n){hb(t.x,e.x,n.x),hb(t.y,e.y,n.y)}function db(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function Hu(t,e,n){db(t.x,e.x,n.x),db(t.y,e.y,n.y)}function rr(t){return[t("x"),t("y")]}const Ok=({current:t})=>t?t.ownerDocument.defaultView:null,fb=(t,e)=>Math.abs(t-e);function MU(t,e){const n=fb(t.x,e.x),r=fb(t.y,e.y);return Math.sqrt(n**2+r**2)}class Fk{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Xm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,A=MU(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!A)return;const{point:V}=_,{timestamp:k}=Jt;this.history.push({...V,timestamp:k});const{onStart:N,onMove:F}=this.handlers;x||(N&&N(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Qm(x,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:A,onSessionEnd:V,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Xm(_.type==="pointercancel"?this.lastMoveEventInfo:Qm(x,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,N),V&&V(_,N)},!lv(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const c=Dc(e),f=Qm(c,this.transformPagePoint),{point:p}=f,{timestamp:g}=Jt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,Xm(f,this.history)),this.removeListeners=Ac($u(this.contextWindow,"pointermove",this.handlePointerMove),$u(this.contextWindow,"pointerup",this.handlePointerUp),$u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ls(this.updatePoint)}}function Qm(t,e){return e?{point:e(t.point)}:t}function pb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xm({point:t},e){return{point:t,delta:pb(t,Uk(e)),offset:pb(t,OU(e)),velocity:FU(e,.1)}}function OU(t){return t[0]}function Uk(t){return t[t.length-1]}function FU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Uk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Jr(e)));)n--;if(!r)return{x:0,y:0};const a=Zr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function UU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function mb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BU(t,{top:e,left:n,bottom:r,right:s}){return{x:mb(t.x,n,s),y:mb(t.y,e,r)}}function gb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function jU(t,e){return{x:gb(t.x,e.x),y:gb(t.y,e.y)}}function zU(t,e){let n=.5;const r=vn(t),s=vn(e);return s>r?n=rc(e.min,e.max-r,t.min):r>s&&(n=rc(t.min,t.max-s,e.min)),Fi(0,1,n)}function $U(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function WU(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:yb(t,"left","right"),y:yb(t,"top","bottom")}}function yb(t,e,n){return{min:wb(t,e),max:wb(t,n)}}function wb(t,e){return typeof t=="number"?t:t[e]||0}const HU=new WeakMap;class qU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dc(v).point)},l=(v,_)=>{const{drag:x,dragPropagation:A,onDragStart:V}=this.getProps();if(x&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r8(x),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rr(N=>{let F=this.getAxisMotionValue(N).get()||0;if(ei.test(F)){const{projection:B}=this.visualElement;if(B&&B.layout){const Q=B.layout.layoutBox[N];Q&&(F=vn(Q)*(parseFloat(F)/100))}}this.originPoint[N]=F}),V&&lt.postRender(()=>V(v,_)),oy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:A,onDirectionLock:V,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=_;if(A&&this.currentDirection===null){this.currentDirection=KU(N),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",_.point,N),this.updateAxis("y",_.point,N),this.visualElement.render(),k&&k(v,_)},f=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>rr(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Fk(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Ok(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&lt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ld(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=UU(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&$a(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BU(r.layoutBox,e):this.constraints=!1,this.elastic=WU(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=$U(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$a(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=G8(r,s.root,this.visualElement.getTransformPagePoint());let l=jU(s.layout.layoutBox,a);if(n){const c=n(H8(l));this.hasMutatedConstraints=!!c,c&&(l=bk(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},p=rr(g=>{if(!ld(g,n,this.currentDirection))return;let v=f&&f[g]||{};l&&(v={min:0,max:0});const _=s?200:1e6,x=s?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return oy(this.visualElement,e),r.start(yv(e,r,0,n,this.visualElement,!1))}stopAnimation(){rr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rr(n=>{const{drag:r}=this.getProps();if(!ld(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-ht(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$a(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();s[l]=zU({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rr(l=>{if(!ld(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];c.set(ht(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;HU.set(this.visualElement,this);const e=this.visualElement.current,n=$u(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();$a(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),lt.read(r);const l=lc(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(rr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=ly,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function ld(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class GU extends Us{constructor(e){super(e),this.removeGroupControls=or,this.removeListeners=or,this.controls=new qU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||or}unmount(){this.removeGroupControls(),this.removeListeners()}}const vb=t=>(e,n)=>{t&&lt.postRender(()=>t(e,n))};class YU extends Us{constructor(){super(...arguments),this.removePointerDownListener=or}onPointerDown(e){this.session=new Fk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ok(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:vb(e),onStart:vb(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&lt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=$u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _b(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=_b(t,e.target.x),r=_b(t,e.target.y);return`${n}% ${r}%`}},QU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Vs.parse(t);if(s.length>5)return r;const a=Vs.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=f;const p=ht(c,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};let Jm=!1;class XU extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;v8(JU),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),Jm&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Jm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||lt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),av.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Jm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Bk(t){const[e,n]=d8(),r=L.useContext(wS);return zg.jsx(XU,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(_k),isPresent:e,safeToRemove:n})}const JU={borderRadius:{...Cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cu,borderTopRightRadius:Cu,borderBottomLeftRadius:Cu,borderBottomRightRadius:Cu,boxShadow:QU};function ZU(t,e,n){const r=hn(t)?t:ul(t);return r.start(yv("",r,e,n)),r.animation}const e7=(t,e)=>t.depth-e.depth;class t7{constructor(){this.children=[],this.isDirty=!1}add(e){zw(this.children,e),this.isDirty=!0}remove(e){$w(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(e7),this.isDirty=!1,this.children.forEach(e)}}function n7(t,e){const n=Nn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(Ls(r),t(a-e))};return lt.setup(r,!0),()=>Ls(r)}const jk=["TopLeft","TopRight","BottomLeft","BottomRight"],r7=jk.length,Eb=t=>typeof t=="string"?parseFloat(t):t,bb=t=>typeof t=="number"||Ie.test(t);function i7(t,e,n,r,s,a){s?(t.opacity=ht(0,n.opacity??1,s7(r)),t.opacityExit=ht(e.opacity??1,0,o7(r))):a&&(t.opacity=ht(e.opacity??1,n.opacity??1,r));for(let l=0;l<r7;l++){const c=`border${jk[l]}Radius`;let f=Tb(e,c),p=Tb(n,c);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||bb(f)===bb(p)?(t[c]=Math.max(ht(Eb(f),Eb(p),r),0),(ei.test(p)||ei.test(f))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function Tb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const s7=zk(0,.5,PS),o7=zk(.5,.95,or);function zk(t,e,n){return r=>r<t?0:r>e?1:n(rc(t,e,r))}function xb(t,e){t.min=e.min,t.max=e.max}function nr(t,e){xb(t.x,e.x),xb(t.y,e.y)}function Cb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Sb(t,e,n,r,s){return t-=e,t=df(t,1/n,r),s!==void 0&&(t=df(t,1/s,r)),t}function a7(t,e=0,n=1,r=.5,s,a=t,l=t){if(ei.test(e)&&(e=parseFloat(e),e=ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ht(a.min,a.max,r);t===a&&(c-=e),t.min=Sb(t.min,e,n,c,s),t.max=Sb(t.max,e,n,c,s)}function kb(t,e,[n,r,s],a,l){a7(t,e[n],e[r],e[s],e.scale,a,l)}const l7=["x","scaleX","originX"],u7=["y","scaleY","originY"];function Ib(t,e,n,r){kb(t.x,e,l7,n?n.x:void 0,r?r.x:void 0),kb(t.y,e,u7,n?n.y:void 0,r?r.y:void 0)}function Pb(t){return t.translate===0&&t.scale===1}function $k(t){return Pb(t.x)&&Pb(t.y)}function Ab(t,e){return t.min===e.min&&t.max===e.max}function c7(t,e){return Ab(t.x,e.x)&&Ab(t.y,e.y)}function Rb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Wk(t,e){return Rb(t.x,e.x)&&Rb(t.y,e.y)}function Nb(t){return vn(t.x)/vn(t.y)}function Db(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class h7{constructor(){this.members=[]}add(e){zw(this.members,e),e.scheduleRender()}remove(e){if($w(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d7(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:_,skewX:x,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),x&&(r+=`skewX(${x}deg) `),A&&(r+=`skewY(${A}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const Zm=["","X","Y","Z"],f7=1e3;let p7=0;function eg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Hk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ak(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Hk(r)}function qk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=p7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(y7),this.nodes.forEach(E7),this.nodes.forEach(b7),this.nodes.forEach(w7)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new t7)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ak(l)&&!u8(l),this.instance=l;const{layoutId:c,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{v=window.innerWidth}),t(l,()=>{const x=window.innerWidth;x!==v&&(v=x,this.root.updateBlockedByResize=!0,g&&g(),g=n7(_,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(Mb)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||k7,{onLayoutAnimationStart:V,onLayoutAnimationComplete:k}=p.getProps(),N=!this.targetLayout||!Wk(this.targetLayout,x),F=!v&&_;if(this.options.layoutRoot||this.resumeFrom||F||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...sv(A,"layout"),onPlay:V,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(g,F)}else v||Mb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(T7),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_7),this.nodes.forEach(m7),this.nodes.forEach(g7)):this.nodes.forEach(Vb),this.clearAllSnapshots();const c=Nn.now();Jt.delta=Fi(0,1e3/60,c-Jt.timestamp),Jt.timestamp=c,Jt.isProcessing=!0,zm.update.process(Jt),zm.preRender.process(Jt),zm.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,av.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v7),this.sharedNodes.forEach(x7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!$k(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||wo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),I7(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return _t();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(P7))){const{scroll:p}=this.root;p&&(Wa(c.x,p.offset.x),Wa(c.y,p.offset.y))}return c}removeElementScroll(l){const c=_t();if(nr(c,l),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&nr(c,l),Wa(c.x,g.offset.x),Wa(c.y,g.offset.y))}return c}applyTransform(l,c=!1){const f=_t();nr(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ha(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),wo(g.latestValues)&&Ha(f,g.latestValues)}return wo(this.latestValues)&&Ha(f,this.latestValues),f}removeTransform(l){const c=_t();nr(c,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!wo(p.latestValues))continue;ny(p.latestValues)&&p.updateSnapshot();const g=_t(),v=p.measurePageBox();nr(g,v),Ib(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return wo(this.latestValues)&&Ib(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),xk(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Hu(this.relativeTargetOrigin,this.target,_.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ny(this.parent.latestValues)||Tk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;nr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;K8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=_t());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cb(this.prevProjectionDelta.x,this.projectionDelta.x),Cb(this.prevProjectionDelta.y,this.projectionDelta.y)),Wu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!Db(this.projectionDelta.x,this.prevProjectionDelta.x)||!Db(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qa(),this.projectionDelta=qa(),this.projectionDeltaWithTransform=qa()}setAnimationOrigin(l,c=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=_t(),x=f?f.source:void 0,A=this.layout?this.layout.source:void 0,V=x!==A,k=this.getStack(),N=!k||k.members.length<=1,F=!!(V&&!N&&this.options.crossfade===!0&&!this.path.some(S7));this.animationProgress=0;let B;this.mixTargetDelta=Q=>{const X=Q/1e3;Ob(v.x,l.x,X),Ob(v.y,l.y,X),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C7(this.relativeTarget,this.relativeTargetOrigin,_,X),B&&c7(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=_t()),nr(B,this.relativeTarget)),V&&(this.animationValues=g,i7(g,p,this.latestValues,X,F,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ul(0)),this.currentAnimation=ZU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:p,latestValues:g}=l;if(!(!c||!f||!p)){if(this!==l&&this.layout&&p&&Kk(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||_t();const v=vn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const _=vn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+_}nr(c,f),Ha(c,g),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new h7),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const p={};f.z&&eg("z",l,p,this.animationValues);for(let g=0;g<Zm.length;g++)eg(`rotate${Zm[g]}`,l,p,this.animationValues),eg(`skew${Zm[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Sd(c?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Sd(c?.pointerEvents)||""),this.hasProjected&&!wo(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=d7(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),l.transform=v;const{x:_,y:x}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in ac){if(g[A]===void 0)continue;const{correct:V,applyTo:k,isCSSVariable:N}=ac[A],F=v==="none"?g[A]:V(g[A],p);if(k){const B=k.length;for(let Q=0;Q<B;Q++)l[k[Q]]=F}else N?this.options.visualElement.renderState.vars[A]=F:l[A]=F}this.options.layoutId&&(l.pointerEvents=p===this?Sd(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(Lb),this.root.sharedNodes.clear()}}}function m7(t){t.updateLayout()}function g7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?rr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],_=vn(v);v.min=n[g].min,v.max=v.min+_}):Kk(s,e.layoutBox,n)&&rr(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],_=vn(n[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const l=qa();Wu(l,n,e.layoutBox);const c=qa();a?Wu(c,t.applyTransform(r,!0),e.measuredBox):Wu(c,n,e.layoutBox);const f=!$k(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const x=_t();Hu(x,e.layoutBox,v.layoutBox);const A=_t();Hu(A,n,_.layoutBox),Wk(x,A)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function y7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function w7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function v7(t){t.clearSnapshot()}function Lb(t){t.clearMeasurements()}function Vb(t){t.isLayoutDirty=!1}function _7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function E7(t){t.resolveTargetDelta()}function b7(t){t.calcProjection()}function T7(t){t.resetSkewAndRotation()}function x7(t){t.removeLeadSnapshot()}function Ob(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Fb(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function C7(t,e,n,r){Fb(t.x,e.x,n.x,r),Fb(t.y,e.y,n.y,r)}function S7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k7={duration:.45,ease:[.4,0,.1,1]},Ub=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Bb=Ub("applewebkit/")&&!Ub("chrome/")?Math.round:or;function jb(t){t.min=Bb(t.min),t.max=Bb(t.max)}function I7(t){jb(t.x),jb(t.y)}function Kk(t,e,n){return t==="position"||t==="preserve-aspect"&&!LU(Nb(e),Nb(n),.2)}function P7(t){return t!==t.root&&t.scroll?.wasRoot}const A7=qk({attachResizeListener:(t,e)=>lc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tg={current:void 0},Gk=qk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tg.current){const t=new A7({});t.mount(window),t.setOptions({layoutScroll:!0}),tg.current=t}return tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),R7={pan:{Feature:YU},drag:{Feature:GU,ProjectionNode:Gk,MeasureLayout:Bk}};function zb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&lt.postRender(()=>a(e,Dc(e)))}class N7 extends Us{mount(){const{current:e}=this.node;e&&(this.unmount=i8(e,(n,r)=>(zb(this.node,r,"Start"),s=>zb(this.node,s,"End"))))}unmount(){}}class D7 extends Us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ac(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $b(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&lt.postRender(()=>a(e,Dc(e)))}class L7 extends Us{mount(){const{current:e}=this.node;e&&(this.unmount=l8(e,(n,r)=>($b(this.node,r,"Start"),(s,{success:a})=>$b(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uy=new WeakMap,ng=new WeakMap,V7=t=>{const e=uy.get(t.target);e&&e(t)},M7=t=>{t.forEach(V7)};function O7({root:t,...e}){const n=t||document;ng.has(n)||ng.set(n,{});const r=ng.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(M7,{root:t,...e})),r[s]}function F7(t,e,n){const r=O7(e);return uy.set(t,n),r.observe(t),()=>{uy.delete(t),r.unobserve(t)}}const U7={some:0,all:1};class B7 extends Us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:U7[s]},c=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(f)};return F7(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(j7(e,n))&&this.startObserver()}unmount(){}}function j7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const z7={inView:{Feature:B7},tap:{Feature:L7},focus:{Feature:D7},hover:{Feature:N7}},$7={layout:{ProjectionNode:Gk,MeasureLayout:Bk}},W7={...IU,...z7,...R7,...$7},ud=W8(W7,rU),H7=()=>{const[t,e]=L.useState(window.innerWidth<768);return L.useEffect(()=>{const n=()=>e(window.innerWidth<768);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t};function Wb(t){return typeof t!="string"||t.length===0?"":t.split(" ")[0]||""}function q7({card:t,onEdit:e,onDelete:n,setCardToPreview:r,navigate:s}){const a=l=>{l.stopPropagation(),Pe.fire({title:"Delete this card?",text:"This card will be deleted permanently and cannot be recovered.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"No, keep it"}).then(c=>{c.isConfirmed&&n(t.id)})};return b.createElement("div",{className:"border rounded-xl p-5 shadow flex flex-col gap-2 hover:border-blue-500 transition cursor-pointer",style:{background:"#fff",boxShadow:`0 6px 32px 0 rgba(60, 60, 90, 0.10), 0 0 0 1.5px ${t.cardColor}44`},onClick:()=>e(t),tabIndex:0,role:"button","aria-label":`Edit digital card ${t.cardName||t.name||"card"}`,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&e(t)}},b.createElement("div",{className:"w-full text-left mb-2"},b.createElement("div",{className:"font-black text-lg truncate",style:{color:t.cardColor||"#222"}},t.name||t.displayName||"Your Name"),b.createElement("div",{className:"text-xs text-gray-700 truncate"},t.jobTitle||""),b.createElement("div",{className:"text-xs text-gray-500 truncate"},t.company||"")),b.createElement("div",{className:"w-full mb-3"},b.createElement("span",{className:"text-base font-semibold",style:{color:"#222"}},"Card Name:")," ",b.createElement("span",{className:"font-semibold",style:{color:t.cardColor||"#555"}},t.cardName||"-")),b.createElement("div",{className:"flex w-full mt-auto items-center justify-center gap-4 px-0"},b.createElement(ud.button,{onClick:l=>{l.stopPropagation(),r(t)},tabIndex:0,"aria-label":"View",type:"button",className:"w-12 h-12 flex justify-center items-center rounded-full bg-white shadow-md border border-gray-200 hover:shadow-lg hover:bg-blue-50 transition"},b.createElement(S2,{className:"text-blue-700 text-xl"})),b.createElement(ud.button,{onClick:l=>{l.stopPropagation(),s(`/digitalcardeditor/${t.id}`)},tabIndex:0,"aria-label":"Edit",type:"button",className:"w-12 h-12 flex justify-center items-center rounded-full bg-white shadow-md border border-gray-200 hover:shadow-lg hover:bg-green-50 transition"},b.createElement(UA,{className:"text-green-600 text-xl"})),b.createElement(ud.button,{onClick:l=>{l.stopPropagation(),t.shareLink?Pe.fire({title:"Share Your Card",html:`
                  <div style='display:flex;flex-direction:column;align-items:center;width:100%;'>
                    <input
                      style="width:90%; padding:9px; border-radius:8px; border:1px solid #ccc; font-size:15px; margin-bottom:8px; text-align:center"
                      value='${t.shareLink}'
                      readonly
                    />
                    <button id='copy-link-btn' style='padding:7px 20px; border-radius:7px; border:none; background:#2563eb;color:white;font-weight:bold;cursor:pointer;margin-top:8px;'>Copy Link</button>
                  </div>
                `,didOpen:()=>{setTimeout(()=>{const c=document.getElementById("copy-link-btn");c&&(c.onclick=function(){navigator.clipboard.writeText(t.shareLink),c.textContent="Copied!",setTimeout(()=>{c.textContent="Copy Link"},1400)})},250)},width:370,confirmButtonText:"Close"}):Pe.fire({title:"",html:`
                  <div style='display:flex;flex-direction:column;align-items:center;width:100%;'>
                    <p class='mb-2'>This card does not have a share link.</p>
                    <button id='generate-link-btn' style='padding:10px 20px; border-radius:7px; border:none; background:#2563eb;color:white;font-weight:bold;cursor:pointer;font-size:15px;'>Generate Link and QR Code</button>
                  </div>
                `,didOpen:()=>{document.getElementById("generate-link-btn").onclick=function(){Pe.fire({icon:"info",title:"Subscription Required",text:"Subscribe to unlock the Generate Link and QR Code feature.",confirmButtonText:"Subscribe",cancelButtonText:"Not now",showCancelButton:!0})}},width:350,confirmButtonText:"Close"})},tabIndex:0,"aria-label":"Share",type:"button",className:"w-12 h-12 flex justify-center items-center rounded-full bg-white shadow-md border border-gray-200 hover:shadow-lg hover:bg-purple-50 transition"},b.createElement($A,{className:"text-purple-600 text-xl"})),b.createElement(ud.button,{onClick:a,tabIndex:0,"aria-label":"Delete",type:"button",className:"w-12 h-12 flex justify-center items-center rounded-full bg-white shadow-md border border-gray-200 hover:shadow-lg hover:bg-red-50 transition"},b.createElement(k2,{className:"text-red-500 text-xl"}))))}const K7=[{id:1,title:"Email Signature",description:"Share your info in every email you send."},{id:2,title:"Auto Follow-Up",description:"Automate follow-ups and never miss a connection."},{id:3,title:"Virtual Background",description:"Create a virtual background for video calls."},{id:4,title:"Connect Your CRM",description:"Sync contacts with your CRM."},{id:5,title:"Add to Wallet",description:"Save your card in your phone's wallet."},{id:6,title:"AI Business Card Scanner",description:"Scan and save info with AI."}],G7=()=>{const[t,e]=L.useState(null),[n,r]=L.useState(!1),[s,a]=L.useState({displayName:"Guest",email:"guest@example.com",name:""}),[l,c]=L.useState(!0),[f,p]=L.useState([]),[g,v]=L.useState(!0),_=Os();H7(),L.useEffect(()=>{const N=A4(Ot,async F=>{if(c(!0),!F){a({displayName:"Guest",email:"guest@example.com",name:""}),p([]),c(!1),v(!1);return}try{const B=await Mo(zn(cn,"users",F.uid));a({displayName:F.displayName||"User",email:F.email,name:B.exists()&&B.data().name?B.data().name:F.displayName||"User"})}catch{a({displayName:F.displayName||"User",email:F.email,name:F.displayName||"User"})}c(!1),v(!0);try{const B=Vg(Qd(cn,"cards"),Mg("userId","==",F.uid)),Q=await Og(B);p(Q.docs.map(X=>({id:X.id,...X.data()})))}catch{p([])}v(!1)});return()=>N()},[]),L.useEffect(()=>{async function N(){v(!0);const F=Ot.currentUser;if(!F){p([]),v(!1);return}const B=Vg(Qd(cn,"cards"),Mg("userId","==",F.uid)),Q=await Og(B);p(Q.docs.map(X=>({id:X.id,...X.data()}))),v(!1)}N()},[]);async function x(N){try{await eC(zn(cn,"cards",N)),p(F=>F.filter(B=>B.id!==N))}catch{Pe.fire({icon:"error",title:"Failed to delete card. Try again."})}}function A(N){Array.isArray(N.actions)&&N.actions.length>0&&`${N.actions.map(F=>`<li> <strong>${F.label||"-"}</strong>: <span style="color:#1366d6">${F.url||"-"}</span></li>`).join("")}`}const V=(()=>{if(l)return"";const N=typeof s.name=="string"&&s.name.trim().length>0?Wb(s.name):typeof s.displayName=="string"&&s.displayName.trim().length>0?Wb(s.displayName):"";return N?`WELCOME, ${N.toUpperCase()}`:"WELCOME"})(),k=(typeof s.name=="string"&&s.name.trim().length>0?s.name.trim()[0]:typeof s.displayName=="string"&&s.displayName.trim().length>0?s.displayName.trim():"U").toUpperCase();return b.createElement("div",{className:"flex h-screen bg-gray-50 overflow-hidden"},b.createElement(yS,{open:n,onClose:()=>r(!1),user:s,loadingUser:l}),t&&b.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",style:{overscrollBehavior:"contain"},onClick:()=>e(null)},b.createElement("div",{className:"relative w-full max-w-xs max-h-[90vh] overflow-y-auto bg-transparent rounded-3xl drop-shadow-2xl scrollbar-thin scrollbar-thumb-rounded-lg scrollbar-thumb-blue-200",style:{margin:"auto",outline:"none",padding:0,borderRadius:"1.8rem",boxShadow:"0 8px 40px rgba(0,0,0,0.27)",background:"transparent"},onClick:N=>N.stopPropagation()},b.createElement("button",{onClick:()=>e(null),"aria-label":"Close preview",style:{position:"absolute",top:10,right:10,background:"#fff",border:"none",borderRadius:"50%",width:36,height:36,fontSize:22,fontWeight:"bold",cursor:"pointer",zIndex:20,boxShadow:"0 1px 4px rgba(60,60,60,0.10)"}},""),b.createElement(c9,{profile:t,actions:t.actions,cardColor:t.cardColor,socials:{linkedin:t.linkedin,email:t.email,whatsapp:t.whatsapp,youtube:t.youtube},style:{margin:0}}))),b.createElement("div",{className:"flex-1 flex flex-col"},b.createElement("header",{className:"flex items-center justify-between bg-white border-b p-4 md:hidden"},b.createElement("button",{"aria-label":"Toggle menu",onClick:()=>r(!n),className:"p-2 rounded-md hover:bg-gray-200 transition"},b.createElement(x2,{className:"text-lg"})),b.createElement("div",{className:"flex flex-col items-end"},b.createElement("span",{className:"font-semibold text-black text-base"},l?"...":s.name??s.displayName)),b.createElement("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold select-none"},k)),b.createElement("main",{className:"flex-1 overflow-auto p-4 sm:p-6 md:p-8"},b.createElement("header",{className:"mb-6 hidden md:flex justify-between items-center"},b.createElement("div",null,b.createElement("h1",{className:"text-2xl font-semibold truncate"},V)),b.createElement("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold select-none"},k)),b.createElement("section",{className:"mb-12"},b.createElement("h2",{className:"text-xl font-semibold mb-4"},"Digital Cards"),b.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6"},b.createElement("div",{className:"relative max-w-xs w-full min-h-[220px] rounded-2xl shadow-lg p-7 flex flex-col items-center justify-center bg-gradient-to-tr from-white/70 to-blue-50 border-2 border-dashed border-blue-300 cursor-pointer hover:bg-blue-50 hover:shadow-2xl transition",tabIndex:0,role:"button","aria-label":"Create Digital Card",onClick:()=>_("/digitalcardeditor/new"),onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&_("/digitalcardeditor/new")},style:{outline:"none",margin:"auto"}},b.createElement("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-white/90 shadow-md border-2 border-blue-600 mb-3"},b.createElement("span",{className:"text-blue-600 text-4xl leading-none font-bold"},"+")),b.createElement("p",{className:"mt-1 text-base font-semibold text-blue-700"},"Create Digital Card")),g?b.createElement("div",{className:"col-span-full text-gray-500 text-center py-10"},"Loading your cards..."):f.length===0?null:f.map(N=>b.createElement(q7,{key:N.id,card:N,onEdit:A,onDelete:x,setCardToPreview:e,navigate:_})))),b.createElement("section",null,b.createElement("h2",{className:"text-xl font-semibold mb-4"},"Networking Toolkit"),b.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"},K7.map(({id:N,title:F,description:B})=>b.createElement("div",{key:N,className:"bg-white p-4 rounded-lg shadow-sm border flex flex-col items-center justify-center text-center hover:bg-gray-100 cursor-pointer relative select-none",tabIndex:0,role:"button","aria-label":`${F}, Upgrade feature`},b.createElement("span",{className:"absolute top-2 right-2 bg-purple-500 text-white text-xs px-2 rounded select-none"},"Upgrade"),b.createElement("h3",{className:"font-semibold mb-1"},F),b.createElement("p",{className:"text-xs text-gray-500"},B))))))))},Y7=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[s,a]=L.useState(""),l=async c=>{c.preventDefault(),r(""),a("");try{await uT(Ot,t),r("A password reset link has been sent to your email.")}catch(f){f.code==="auth/user-not-found"?a("No account found with that email."):f.code==="auth/invalid-email"?a("Invalid email format."):a("Something went wrong. Please try again later.")}};return b.createElement("div",{className:"min-h-screen bg-login-gradient bg-cover bg-no-repeat flex items-center justify-center"},b.createElement("div",{className:"flex flex-col min-h-screen bg-[bg-gradient-to-r from-purple-400 to-pink-500 text-black py-2 px-6 rounded-md shadow hover:opacity-90] overflow-auto"},b.createElement("header",{className:"w-full px-6 py-4 bg-[#e8ecfc] shadow-md flex items-center justify-between"},b.createElement("img",{src:vy,alt:"Logo",className:"h-8"}),b.createElement(Ni,{to:"/register",className:"text-sm font-medium text-black underline hover:text-gray-700"},"Create Account")),b.createElement("main",{className:"flex-grow flex items-center justify-center px-4 py-12"},b.createElement("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-md"},b.createElement("h2",{className:"text-2xl font-bold text-center mb-1 text-gray-900"},"Reset Password"),b.createElement("p",{className:"text-sm text-center text-gray-600 mb-6"},"Enter your email to receive a reset link."),n&&b.createElement("p",{className:"text-green-600 text-sm mb-4 text-center"},n),s&&b.createElement("p",{className:"text-red-600 text-sm mb-4 text-center"},s),b.createElement("form",{onSubmit:l,className:"space-y-4"},b.createElement("input",{type:"email",value:t,onChange:c=>e(c.target.value),placeholder:"Email address",className:"w-full border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-black",required:!0}),b.createElement("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-full hover:opacity-90 transition"},"Send Reset Link")),b.createElement("p",{className:"text-sm text-center mt-6"},b.createElement(Ni,{to:"/",className:"text-gray-600 underline hover:text-black"},"Back to Login")))),b.createElement(xw,null)))},Hb=[{key:"link-settings",label:"Link Settings",href:"/LinkSettingsPage"},{key:"profile",label:"Profile",href:"/ProfileSettingsPage"},{key:"notifications",label:"Notifications",href:"/NotificationsPage"},{key:"upgrade",label:"Upgrade",href:"/upgrade"},{key:"billing",label:"Billing",href:"/settings/billing"}];function wv({activeKey:t,onChange:e=()=>{},isOpen:n=!1,onClose:r=()=>{},onLogout:s=()=>{},userName:a=""}){const l=Ms(),c=t||Hb.find(f=>l.pathname.startsWith(f.href))?.key||"";return b.createElement(b.Fragment,null,b.createElement("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:r,"aria-hidden":"true"}),b.createElement("nav",{className:`fixed top-0 left-0 z-40 h-full w-64 border-r border-gray-200 bg-white flex-shrink-0 
    overflow-y-auto hide-scrollbar transform transition-transform duration-300
    ${n?"translate-x-0":"-translate-x-full"} md:translate-x-0`,"aria-label":"Sidebar Navigation",style:{backgroundColor:"#fff"}},b.createElement("div",{className:"px-6 py-8 flex flex-col h-full"},b.createElement(Ni,{to:"/dashboard",className:"text-sm font-medium text-gray-600 hover:text-black mb-8 inline-block select-none",onClick:r}," Back to App"),b.createElement("p",{className:"font-semibold text-xl mb-10 select-none"},a||""),b.createElement("ul",{className:"flex-grow space-y-3"},Hb.map(({key:f,label:p,href:g})=>b.createElement("li",{key:f},b.createElement(Ni,{to:g,className:`block px-3 py-2 rounded-lg font-medium text-sm ${c===f?"bg-black text-white":"text-gray-600 hover:bg-gray-100 hover:text-black"}`,onClick:()=>{e(f),r()}},p)))),b.createElement("button",{onClick:s,className:"mt-12 text-red-600 border border-red-600 px-4 py-2 rounded font-semibold hover:bg-red-600 hover:text-white transition"},"Logout"))))}const Q7=()=>{const[t,e]=L.useState(!1),[n,r]=L.useState("profile"),[s,a]=L.useState({email:"",phone:"",website:"",linkedin:"",address:"",name:"",company:"",jobTitle:"",industry:"",profilePhoto:""}),[l,c]=L.useState(!0),[f,p]=L.useState(!1),[g,v]=L.useState(""),[_,x]=L.useState(!1),[A]=L.useState("link.v1ce.co/twfcqusj"),[V,k]=L.useState(!1),[N,F]=L.useState(""),B=Os();L.useEffect(()=>{(async()=>{c(!0),v(""),x(!1);const I=Ot.currentUser;if(!I){a(Ae=>({...Ae,email:""})),F(""),c(!1),v("Not logged in!"),x(!0);return}try{const Ae=zn(cn,"users",I.uid),Ge=await Mo(Ae);if(Ge.exists()){const Be=Ge.data();a({email:Be.email||I.email||"",phone:Be.phone||"",website:Be.website||"",linkedin:Be.linkedin||"",address:Be.address||"",name:Be.displayName||Be.name||"",company:Be.company||"",jobTitle:Be.jobTitle||"",industry:Be.industry||"",profilePhoto:Be.profilePhoto||""}),F(Be.email||I.email||"")}else a(Be=>({...Be,email:I.email||"",name:I.displayName||""})),F(I.email||"")}catch(Ae){v("Failed to load profile: "+Ae.message),x(!0)}c(!1)})()},[]);const Q=()=>{navigator.clipboard.writeText(A),v("Profile link copied!"),x(!1),setTimeout(()=>v(""),1500)},X=z=>{const{name:I,value:Ae}=z.target;a(Ge=>({...Ge,[I]:Ae}))},re=()=>k(!0),M=async(z,I)=>{if(!z)return!1;const Ae=Qd(cn,"users"),Ge=Vg(Ae,Mg("email","==",z));return(await Og(Ge)).docs.some(Ce=>Ce.id!==I)},S=async z=>{z.preventDefault(),p(!0),v(""),x(!1);try{const I=Ot.currentUser;if(!I)throw new Error("User not authenticated");if(s.email!==N&&await M(s.email,I.uid)){v("That user already exists."),x(!0),p(!1),setTimeout(()=>v(""),2500);return}const Ae=zn(cn,"users",I.uid);await Vf(Ae,{...s,email:s.email,displayName:s.name||""},{merge:!0}),v("Profile updated!"),x(!1),k(!1),F(s.email)}catch(I){v("Failed to update: "+I.message),x(!0)}p(!1),setTimeout(()=>v(""),2e3)},P=async()=>{try{await uT(Ot,s.email),v("Password reset email sent!"),x(!1)}catch(z){v("Failed to send reset email: "+z.message),x(!0)}setTimeout(()=>v(""),2e3)},D=async()=>{if((await Pe.fire({title:"Are you sure you want to logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, log me out",cancelButtonText:"No, stay logged in"})).isConfirmed)try{await wf(Ot),await Pe.fire({title:"Logged out",text:"You have been successfully logged out.",icon:"success",showConfirmButton:!1,timer:1200,timerProgressBar:!0}),B("/login")}catch{await Pe.fire({title:"Error",text:"Failed to logout. Please try again.",icon:"error"})}},U=async()=>{if((await Pe.fire({title:"Are you sure?",text:"This will permanently delete your data and account.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete my account",cancelButtonText:"No, keep my account"})).isConfirmed)try{v(""),x(!1);const I=Ot.currentUser;if(!I)throw new Error("Not authenticated");await eC(zn(cn,"users",I.uid)),await R4(I),v("Account deleted. Goodbye!"),x(!1),setTimeout(()=>{v(""),B("/login")},2e3)}catch(I){v("Failed to delete account: "+(I&&I.message)),x(!0),setTimeout(()=>v(""),3e3)}};return b.createElement("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50"},b.createElement("button",{"aria-label":"Toggle sidebar",onClick:()=>e(!t),className:"md:hidden fixed top-4 left-4 z-50 p-2 rounded-md bg-white border border-gray-300 shadow",type:"button"},b.createElement("svg",{className:"h-6 w-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},t?b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))),b.createElement(wv,{activeKey:n,onChange:r,isOpen:t,onClose:()=>e(!1),onLogout:D,userName:s.name}),b.createElement("main",{className:"flex-1 p-4 md:p-10 bg-white m-4 md:m-10 ml-0 md:ml-64 overflow-auto"},b.createElement("div",{className:"max-w-3xl mx-auto"},b.createElement("div",{className:"mb-8"},b.createElement("p",{className:"text-lg font-medium select-none mb-2"},"Profile"),b.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0"},b.createElement("a",{href:`https://${A}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm underline text-black"},A),b.createElement("button",{onClick:Q,className:"text-xs bg-gray-100 px-3 py-1 rounded ml-0 sm:ml-4",type:"button"},"Copy Link"))),g&&b.createElement("div",{className:`mb-4 p-2 rounded text-sm ${_?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`},g),l?b.createElement("div",{className:"text-center py-12 text-gray-700"},"Loading profile..."):b.createElement("form",{onSubmit:S,className:"space-y-6 bg-white rounded-lg shadow-lg p-6"},b.createElement("div",{className:"flex flex-col items-center mb-6"},b.createElement("div",{className:"relative"},s.profilePhoto?b.createElement("img",{src:s.profilePhoto,alt:"Profile",className:"h-24 w-24 rounded-full object-cover border-2 border-gray-200"}):b.createElement("div",{className:"h-24 w-24 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-4xl select-none"},b.createElement("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24","aria-hidden":"true"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 21a6 6 0 00-15 0"}))))),b.createElement("div",null,b.createElement("label",{htmlFor:"name",className:"block text-xs font-bold mb-1 select-none"},"Your Display Name ",b.createElement("span",{className:"text-red-600"},"")),b.createElement("input",{id:"name",name:"name",type:"text",placeholder:"Your Name",value:s.name,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black",required:!0})),b.createElement("div",{className:"relative"},b.createElement("label",{htmlFor:"email",className:"block text-xs font-bold mb-1 select-none"},"Email ",b.createElement("span",{className:"text-red-600"},"")),V?b.createElement("input",{id:"email",name:"email",type:"email",value:s.email,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black",autoFocus:!0,required:!0}):b.createElement(b.Fragment,null,b.createElement("input",{id:"email",name:"email",type:"email",value:s.email,readOnly:!0,className:"w-full border border-black rounded px-3 py-2 bg-gray-200 cursor-not-allowed"}),b.createElement("button",{type:"button",onClick:re,className:"absolute right-2 top-[29px] bg-black text-white text-xs px-4 py-1 rounded-full"},"Edit"))),b.createElement("div",null,b.createElement("label",{htmlFor:"phone",className:"block text-xs font-bold mb-1"},"Phone"),b.createElement("input",{id:"phone",name:"phone",type:"tel",placeholder:"+1 234-567-8900",value:s.phone,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black"})),b.createElement("div",null,b.createElement("label",{htmlFor:"website",className:"block text-xs font-bold mb-1"},"Website"),b.createElement("input",{id:"website",name:"website",type:"url",placeholder:"https://example.com",value:s.website,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black"})),b.createElement("div",null,b.createElement("label",{htmlFor:"linkedin",className:"block text-xs font-bold mb-1"},"LinkedIn"),b.createElement("input",{id:"linkedin",name:"linkedin",type:"url",placeholder:"https://linkedin.com/in/username",value:s.linkedin,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black"})),b.createElement("div",null,b.createElement("label",{htmlFor:"address",className:"block text-xs font-bold mb-1"},"Address"),b.createElement("textarea",{id:"address",name:"address",placeholder:"Your address",value:s.address,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black resize-y",rows:3})),b.createElement("div",null,b.createElement("label",{htmlFor:"company",className:"block text-xs font-bold mb-1"},"Company"),b.createElement("input",{id:"company",name:"company",type:"text",placeholder:"Company Name",value:s.company,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black"})),b.createElement("div",null,b.createElement("label",{htmlFor:"jobTitle",className:"block text-xs font-bold mb-1"},"Job Title"),b.createElement("input",{id:"jobTitle",name:"jobTitle",type:"text",placeholder:"Job Title",value:s.jobTitle,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black"})),b.createElement("div",null,b.createElement("label",{htmlFor:"industry",className:"block text-xs font-bold mb-1"},"Industry"),b.createElement("input",{id:"industry",name:"industry",type:"text",placeholder:"Industry",value:s.industry,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black"})),b.createElement("div",null,b.createElement("label",{htmlFor:"profilePhoto",className:"block text-xs font-bold mb-1"},"Profile Photo URL"),b.createElement("input",{id:"profilePhoto",name:"profilePhoto",type:"url",placeholder:"https://example.com/photo.jpg",value:s.profilePhoto,onChange:X,className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black"})),b.createElement("div",{className:"relative"},b.createElement("label",{htmlFor:"password",className:"block text-xs font-bold mb-1 select-none"},"Your Password ",b.createElement("span",{className:"text-red-600"},"")),b.createElement("input",{id:"password",type:"password",value:"********",readOnly:!0,className:"w-full border border-black rounded px-3 py-2 bg-gray-200 cursor-not-allowed"}),b.createElement("button",{type:"button",onClick:P,className:"absolute right-2 top-[29px] bg-black text-white text-xs px-4 py-1 rounded-full"},"Reset")),b.createElement("div",null,b.createElement("label",{className:"block text-xs font-bold mb-1 select-none"},"Delete Your Account"),b.createElement("p",{className:"text-xs text-gray-500 mb-2"},"This will permanently delete all your data."),b.createElement("button",{type:"button",onClick:U,className:"text-red-600 border border-red-600 px-4 py-2 rounded font-semibold hover:bg-red-600 hover:text-white transition"},"Delete My Account")),b.createElement("div",{className:"flex justify-end"},b.createElement("button",{type:"submit",disabled:f,className:`bg-black text-white px-6 py-2 rounded-full font-semibold hover:bg-gray-900 transition 
                    ${f?"opacity-60 cursor-not-allowed":""}`},f?"Saving...":"Save Updates"))))))},X7=()=>{const t=Os(),[e,n]=L.useState(!1),[r,s]=L.useState("link-settings"),[a,l]=L.useState({email:"",phone:"",website:"",linkedin:"",address:"",name:"",company:"",jobTitle:"",industry:"",profilePhoto:""}),[c,f]=L.useState(""),[p,g]=L.useState(!1),[v,_]=L.useState({linkUrl:"link.v1ce.co/twfcqusj",linkName:"link.v1ce.co/",requirePassword:!1});L.useEffect(()=>{(async()=>{const B=Ot.currentUser;if(B)try{const Q=zn(cn,"users",B.uid),X=await Mo(Q);if(X.exists()){const re=X.data();l({email:re.email||B.email||"",phone:re.phone||"",website:re.website||"",linkedin:re.linkedin||"",address:re.address||"",name:re.displayName||re.name||"",company:re.company||"",jobTitle:re.jobTitle||"",industry:re.industry||"",profilePhoto:re.profilePhoto||""})}}catch{}})()},[]);const x=F=>{const{name:B,value:Q,type:X,checked:re}=F.target;_(M=>({...M,[B]:X==="checkbox"?re:Q}))},A=()=>{window.confirm("Are you sure you want to deactivate this link?")&&alert("Link deactivated.")},V=()=>{window.confirm("This will permanently delete the link. Continue?")&&alert("Link deleted.")},k=F=>{F.preventDefault(),alert("Link settings saved!")},N=async()=>{if((await Pe.fire({title:"Are you sure you want to logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, log me out",cancelButtonText:"No, stay logged in"})).isConfirmed)try{await wf(Ot),await Pe.fire({title:"Logged out",text:"You have been successfully logged out.",icon:"success",showConfirmButton:!1,timer:1200,timerProgressBar:!0}),t("/login")}catch{await Pe.fire({title:"Error",text:"Failed to logout. Please try again.",icon:"error"})}};return b.createElement("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50"},b.createElement("button",{"aria-label":"Toggle sidebar",onClick:()=>n(!e),type:"button",className:"md:hidden fixed top-4 left-4 z-[1000] p-2 rounded-md bg-white border border-gray-300 shadow"},b.createElement("svg",{className:"h-6 w-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},e?b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))),b.createElement(wv,{activeKey:r,onChange:s,isOpen:e,onClose:()=>n(!1),onLogout:N,userName:a.name}),b.createElement("main",{className:"flex-1 p-4 md:p-10 bg-white m-4 md:m-10 ml-0 md:ml-64 overflow-y-auto hide-scrollbar relative max-h-screen",style:{paddingTop:"3rem",WebkitOverflowScrolling:"touch"}},b.createElement("div",{className:"max-w-3xl mx-auto"},b.createElement("h1",{className:"text-lg font-medium mb-8 select-none"},"Link Settings"),b.createElement("form",{onSubmit:k,className:"space-y-6 bg-white rounded-lg shadow-lg p-6"},b.createElement("div",null,b.createElement("label",{className:"block text-xs font-bold mb-1 select-none"},"Current Link"),b.createElement("p",{className:"text-black font-semibold truncate"},v.linkUrl),b.createElement("p",{className:"text-black font-semibold truncate"},v.linkUrl),b.createElement("a",{href:`https://${v.linkUrl}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 text-sm underline text-blue-600 hover:text-blue-800"},"Visit Link")),b.createElement("div",null,b.createElement("label",{htmlFor:"linkName",className:"block text-xs font-bold mb-1 select-none"},"Link Name"),b.createElement("input",{id:"linkName",name:"linkName",type:"text",value:v.linkName,onChange:x,placeholder:"link.v1ce.co/",className:"w-full border border-black rounded px-3 py-2 focus:ring-2 focus:ring-black",required:!0})),b.createElement("div",{className:"flex items-center space-x-2"},b.createElement("input",{id:"requirePassword",name:"requirePassword",type:"checkbox",checked:v.requirePassword,onChange:x,className:"rounded"}),b.createElement("label",{htmlFor:"requirePassword",className:"text-xs font-medium select-none cursor-pointer"},"Require Password")),b.createElement("div",{className:"flex flex-wrap gap-4 justify-between"},b.createElement("button",{type:"button",onClick:A,className:"bg-yellow-500 text-white px-4 py-2 rounded font-semibold hover:bg-yellow-600 transition"},"Deactivate Link"),b.createElement("button",{type:"button",onClick:V,className:"bg-red-600 text-white px-4 py-2 rounded font-semibold hover:bg-red-700 transition"},"Delete Link"),b.createElement("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded-full font-semibold hover:bg-gray-900 transition ml-auto"},"Save Changes"))))))},J7=()=>{const t=Os(),[e,n]=L.useState(!1),[r,s]=L.useState("notifications"),[a,l]=L.useState({email:"",phone:"",website:"",linkedin:"",address:"",name:"",company:"",jobTitle:"",industry:"",profilePhoto:""}),[c,f]=L.useState(""),[p,g]=L.useState(!1),[v,_]=L.useState(!0),[x,A]=L.useState(!0),V="link.v1ce.co/twfcqusj";L.useEffect(()=>{(async()=>{const M=Ot.currentUser;if(M)try{const S=zn(cn,"users",M.uid),P=await Mo(S);if(P.exists()){const D=P.data();l({email:D.email||M.email||"",phone:D.phone||"",website:D.website||"",linkedin:D.linkedin||"",address:D.address||"",name:D.displayName||D.name||"",company:D.company||"",jobTitle:D.jobTitle||"",industry:D.industry||"",profilePhoto:D.profilePhoto||""})}}catch{}})()},[]);const k=()=>_(re=>!re),N=()=>A(re=>!re),F=()=>{_(!1),A(!1)},B=re=>{re.preventDefault(),alert(`Settings saved:
Email notifications: ${v?"ON":"OFF"}
WhatsApp notifications: ${x?"ON":"OFF"}`)},Q=()=>{navigator.clipboard.writeText(V),alert("Profile link copied!")},X=async()=>{if((await Pe.fire({title:"Are you sure you want to logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, log me out",cancelButtonText:"No, stay logged in"})).isConfirmed)try{await wf(Ot),await Pe.fire({title:"Logged out",text:"You have been successfully logged out.",icon:"success",showConfirmButton:!1,timer:1200,timerProgressBar:!0}),t("/login")}catch{await Pe.fire({title:"Error",text:"Failed to logout. Please try again.",icon:"error"})}};return b.createElement("div",{className:"flex flex-col md:flex-row min-h-screen bg-gray-50"},b.createElement("button",{"aria-label":"Toggle sidebar",onClick:()=>n(!e),type:"button",className:"md:hidden fixed top-4 left-4 z-[1000] p-2 rounded-md bg-white border border-gray-300 shadow"},b.createElement("svg",{className:"h-6 w-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},e?b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))),b.createElement(wv,{activeKey:r,onChange:s,isOpen:e,onClose:()=>n(!1),onLogout:X,userName:a.name}),b.createElement("main",{className:"flex-1 p-4 md:p-10 bg-white m-4 md:m-10 ml-0 md:ml-64 overflow-y-auto hide-scrollbar relative max-h-screen",style:{paddingTop:"3rem",WebkitOverflowScrolling:"touch"}},b.createElement("div",{className:"max-w-3xl mx-auto"},b.createElement("h1",{className:"text-lg font-medium mb-8 select-none"},"Notifications"),b.createElement("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:space-x-4"},b.createElement("a",{href:`https://${V}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm underline text-black truncate select-text"},V),b.createElement("button",{type:"button",onClick:Q,className:"text-xs bg-gray-100 px-3 py-1 rounded mt-2 sm:mt-0"},"Copy Link")),b.createElement("p",{className:"mb-6 text-sm text-gray-600 select-none"},"Manage how you receive updates for incoming leads."),b.createElement("form",{onSubmit:B,className:"space-y-6 bg-white rounded-lg shadow-lg p-6"},b.createElement("div",{className:"flex items-center justify-between"},b.createElement("div",null,b.createElement("p",{className:"font-semibold select-none"},"Email"),b.createElement("p",{className:"text-xs text-gray-600 select-none"},"Get lead notifications in your email inbox.")),b.createElement("label",{className:"inline-flex relative items-center cursor-pointer"},b.createElement("input",{type:"checkbox",className:"sr-only peer",checked:v,onChange:k}),b.createElement("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-black peer-checked:bg-black transition-all"}),b.createElement("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${v?"translate-x-5":"translate-x-0"}`}))),b.createElement("div",{className:"flex items-center justify-between"},b.createElement("div",null,b.createElement("p",{className:"font-semibold select-none"},"WhatsApp"),b.createElement("p",{className:"text-xs text-gray-600 select-none"},"Receive lead updates via WhatsApp.")),b.createElement("label",{className:"inline-flex relative items-center cursor-pointer"},b.createElement("input",{type:"checkbox",className:"sr-only peer",checked:x,onChange:N}),b.createElement("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-black peer-checked:bg-black transition-all"}),b.createElement("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${x?"translate-x-5":"translate-x-0"}`}))),b.createElement("div",null,b.createElement("button",{type:"button",onClick:F,className:"text-red-600 border border-red-600 px-4 py-2 rounded font-semibold hover:bg-red-600 hover:text-white transition"},"Turn Off All Notifications")),b.createElement("div",{className:"flex justify-end"},b.createElement("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded-full font-semibold hover:bg-gray-900 transition"},"Save Changes"))))))};var cy=function(t,e){return cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},cy(t,e)};function Z7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Wt=function(){return Wt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wt.apply(this,arguments)};var rg,qb;function eB(){if(qb)return rg;qb=1;var t=!1,e,n,r,s,a,l,c,f,p,g,v,_,x,A,V;function k(){if(!t){t=!0;var F=navigator.userAgent,B=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(F),Q=/(Mac OS X)|(Windows)|(Linux)/.exec(F);if(_=/\b(iPhone|iP[ao]d)/.exec(F),x=/\b(iP[ao]d)/.exec(F),g=/Android/i.exec(F),A=/FBAN\/\w+;/i.exec(F),V=/Mobile/i.exec(F),v=!!/Win64/.exec(F),B){e=B[1]?parseFloat(B[1]):B[5]?parseFloat(B[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var X=/(?:Trident\/(\d+.\d+))/.exec(F);l=X?parseFloat(X[1])+4:e,n=B[2]?parseFloat(B[2]):NaN,r=B[3]?parseFloat(B[3]):NaN,s=B[4]?parseFloat(B[4]):NaN,s?(B=/(?:Chrome\/(\d+\.\d+))/.exec(F),a=B&&B[1]?parseFloat(B[1]):NaN):a=NaN}else e=n=r=a=s=NaN;if(Q){if(Q[1]){var re=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(F);c=re?parseFloat(re[1].replace("_",".")):!0}else c=!1;f=!!Q[2],p=!!Q[3]}else c=f=p=!1}}var N={ie:function(){return k()||e},ieCompatibilityMode:function(){return k()||l>e},ie64:function(){return N.ie()&&v},firefox:function(){return k()||n},opera:function(){return k()||r},webkit:function(){return k()||s},safari:function(){return N.webkit()},chrome:function(){return k()||a},windows:function(){return k()||f},osx:function(){return k()||c},linux:function(){return k()||p},iphone:function(){return k()||_},mobile:function(){return k()||_||x||g||V},nativeApp:function(){return k()||A},android:function(){return k()||g},ipad:function(){return k()||x}};return rg=N,rg}var ig,Kb;function tB(){if(Kb)return ig;Kb=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return ig=e,ig}var sg,Gb;function nB(){if(Gb)return sg;Gb=1;var t=tB(),e;t.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!t.canUseDOM||s&&!("addEventListener"in document))return!1;var a="on"+r,l=a in document;if(!l){var c=document.createElement("div");c.setAttribute(a,"return;"),l=typeof c[a]=="function"}return!l&&e&&r==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}return sg=n,sg}var og,Yb;function rB(){if(Yb)return og;Yb=1;var t=eB(),e=nB(),n=10,r=40,s=800;function a(l){var c=0,f=0,p=0,g=0;return"detail"in l&&(f=l.detail),"wheelDelta"in l&&(f=-l.wheelDelta/120),"wheelDeltaY"in l&&(f=-l.wheelDeltaY/120),"wheelDeltaX"in l&&(c=-l.wheelDeltaX/120),"axis"in l&&l.axis===l.HORIZONTAL_AXIS&&(c=f,f=0),p=c*n,g=f*n,"deltaY"in l&&(g=l.deltaY),"deltaX"in l&&(p=l.deltaX),(p||g)&&l.deltaMode&&(l.deltaMode==1?(p*=r,g*=r):(p*=s,g*=s)),p&&!c&&(c=p<1?-1:1),g&&!f&&(f=g<1?-1:1),{spinX:c,spinY:f,pixelX:p,pixelY:g}}return a.getEventType=function(){return t.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},og=a,og}var ag,Qb;function iB(){return Qb||(Qb=1,ag=rB()),ag}var sB=iB();const oB=hy(sB);function aB(t,e,n,r,s,a){a===void 0&&(a=0);var l=hl(t,e,a),c=l.width,f=l.height,p=Math.min(c,n),g=Math.min(f,r);return p>g*s?{width:g*s,height:g}:{width:p,height:p/s}}function lB(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Su(t,e,n,r,s){s===void 0&&(s=0);var a=hl(e.width,e.height,s),l=a.width,c=a.height;return{x:Xb(t.x,l,n.width,r),y:Xb(t.y,c,n.height,r)}}function Xb(t,e,n,r){var s=e*r/2-n/2;return Wf(t,-s,s)}function Jb(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function Zb(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function uB(t,e,n,r,s,a,l){a===void 0&&(a=0),l===void 0&&(l=!0);var c=l?cB:hB,f=hl(e.width,e.height,a),p=hl(e.naturalWidth,e.naturalHeight,a),g={x:c(100,((f.width-n.width/s)/2-t.x/s)/f.width*100),y:c(100,((f.height-n.height/s)/2-t.y/s)/f.height*100),width:c(100,n.width/f.width*100/s),height:c(100,n.height/f.height*100/s)},v=Math.round(c(p.width,g.width*p.width/100)),_=Math.round(c(p.height,g.height*p.height/100)),x=p.width>=p.height*r,A=x?{width:Math.round(_*r),height:_}:{width:v,height:Math.round(v/r)},V=Wt(Wt({},A),{x:Math.round(c(p.width-A.width,g.x*p.width/100)),y:Math.round(c(p.height-A.height,g.y*p.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:V}}function cB(t,e){return Math.min(t,Math.max(0,e))}function hB(t,e){return e}function dB(t,e,n,r,s,a){var l=hl(e.width,e.height,n),c=Wf(r.width/l.width*(100/t.width),s,a),f={x:c*l.width/2-r.width/2-l.width*c*(t.x/100),y:c*l.height/2-r.height/2-l.height*c*(t.y/100)};return{crop:f,zoom:c}}function fB(t,e,n){var r=lB(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function pB(t,e,n,r,s,a){n===void 0&&(n=0);var l=hl(e.naturalWidth,e.naturalHeight,n),c=Wf(fB(t,e,r),s,a),f=r.height>r.width?r.height/t.height:r.width/t.width,p={x:((l.width-t.width)/2-t.x)*f,y:((l.height-t.height)/2-t.y)*f};return{crop:p,zoom:c}}function e2(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function mB(t){return t*Math.PI/180}function hl(t,e,n){var r=mB(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Wf(t,e,n){return Math.min(Math.max(t,e),n)}function cd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var gB=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,yB=1,wB=3,vB=1,_B=function(t){Z7(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cropperRef=L.createRef(),n.imageRef=L.createRef(),n.videoRef=L.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=dB(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=s.crop,l=s.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}else if(n.props.initialCroppedAreaPixels){var c=pB(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=c.crop,l=c.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(l)}},n.computeSizes=function(){var r,s,a,l,c,f,p=n.imageRef.current||n.videoRef.current;if(p&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var g=n.containerRect.width/n.containerRect.height,v=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,_=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((l=n.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,x=p.offsetWidth<v||p.offsetHeight<_,A=v/_,V=void 0;if(x)switch(n.state.mediaObjectFit){default:case"contain":V=g>A?{width:n.containerRect.height*A,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/A};break;case"horizontal-cover":V={width:n.containerRect.width,height:n.containerRect.width/A};break;case"vertical-cover":V={width:n.containerRect.height*A,height:n.containerRect.height};break}else V={width:p.offsetWidth,height:p.offsetHeight};n.mediaSize=Wt(Wt({},V),{naturalWidth:v,naturalHeight:_}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var k=n.props.cropSize?n.props.cropSize:aB(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((c=n.state.cropSize)===null||c===void 0?void 0:c.height)!==k.height||((f=n.state.cropSize)===null||f===void 0?void 0:f.width)!==k.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(k),n.setState({cropSize:k},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(k),k}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=e.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var l=n.gestureRotationStart+r.rotation;n.props.onRotationChange(l)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,a,l=r.x,c=r.y;n.dragStartPosition={x:l,y:c},n.dragStartCrop=Wt({},n.props.crop),(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s)},n.onDrag=function(r){var s=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||a===void 0)){var l=s-n.dragStartPosition.x,c=a-n.dragStartPosition.y,f={x:n.dragStartCrop.x+l,y:n.dragStartCrop.y+c},p=n.props.restrictPosition?Su(f,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):f;n.props.onCropChange(p)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=e.getMousePoint(r),a=oB(r).pixelY,l=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var c,f;return(f=(c=n.props).onInteractionStart)===null||f===void 0?void 0:f.call(c)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var c,f;return(f=(c=n.props).onInteractionEnd)===null||f===void 0?void 0:f.call(c)})},250)}},n.getPointOnContainer=function(r,s){var a=r.x,l=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-s.x),y:n.containerRect.height/2-(l-s.y)}},n.getPointOnMedia=function(r){var s=r.x,a=r.y,l=n.props,c=l.crop,f=l.zoom;return{x:(s+c.x)/f,y:(a+c.y)/f}},n.setNewZoom=function(r,s,a){var l=a===void 0?{}:a,c=l.shouldUpdatePosition,f=c===void 0?!0:c;if(!(!n.state.cropSize||!n.props.onZoomChange)){var p=Wf(r,n.props.minZoom,n.props.maxZoom);if(f){var g=n.getPointOnContainer(s,n.containerPosition),v=n.getPointOnMedia(g),_={x:v.x*p-g.x,y:v.y*p-g.y},x=n.props.restrictPosition?Su(_,n.mediaSize,n.state.cropSize,p,n.props.rotation):_;n.props.onCropChange(x)}n.props.onZoomChange(p)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Su(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return uB(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,a)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Su(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var s,a,l=n.props,c=l.crop,f=l.onCropChange,p=l.keyboardStep,g=l.zoom,v=l.rotation,_=p;if(n.state.cropSize){r.shiftKey&&(_*=.2);var x=Wt({},c);switch(r.key){case"ArrowUp":x.y-=_,r.preventDefault();break;case"ArrowDown":x.y+=_,r.preventDefault();break;case"ArrowLeft":x.x-=_,r.preventDefault();break;case"ArrowRight":x.x+=_,r.preventDefault();break;default:return}n.props.restrictPosition&&(x=Su(x,n.mediaSize,n.state.cropSize,g,v)),r.repeat||(a=(s=n.props).onInteractionStart)===null||a===void 0||a.call(s),f(x)}},n.onKeyUp=function(r){var s,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(a=(s=n.props).onInteractionEnd)===null||a===void 0||a.call(s)},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=gB,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,s,a,l,c,f,p,g,v;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((l=this.props.cropSize)===null||l===void 0?void 0:l.width)?this.computeSizes():(((c=n.crop)===null||c===void 0?void 0:c.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((p=n.crop)===null||p===void 0?void 0:p.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((v=this.videoRef.current)===null||v===void 0||v.load());var _=this.getObjectFit();_!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:_},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},e.prototype.getObjectFit=function(){var n,r,s,a;if(this.props.objectFit==="cover"){var l=this.imageRef.current||this.videoRef.current;if(l&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,f=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,g=f/p;return g<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=Jb(r,s),this.lastPinchRotation=Zb(r,s),this.onDragStart(e2(r,s))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=e.getTouchPoint(n.touches[0]),a=e.getTouchPoint(n.touches[1]),l=e2(s,a);this.onDrag(l),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=Jb(s,a),f=r.props.zoom*(c/r.lastPinchDistance);r.setNewZoom(f,l,{shouldUpdatePosition:!1}),r.lastPinchDistance=c;var p=Zb(s,a),g=r.props.rotation+(p-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(g),r.lastPinchRotation=p})}},e.prototype.render=function(){var n=this,r,s=this.props,a=s.image,l=s.video,c=s.mediaProps,f=s.cropperProps,p=s.transform,g=s.crop,v=g.x,_=g.y,x=s.rotation,A=s.zoom,V=s.cropShape,k=s.showGrid,N=s.roundCropAreaPixels,F=s.style,B=F.containerStyle,Q=F.cropAreaStyle,X=F.mediaStyle,re=s.classes,M=re.containerClassName,S=re.cropAreaClassName,P=re.mediaClassName,D=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return L.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(z){return n.containerRef=z},"data-testid":"container",style:B,className:cd("reactEasyCrop_Container",M)},a?L.createElement("img",Wt({alt:"",className:cd("reactEasyCrop_Image",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},c,{src:a,ref:this.imageRef,style:Wt(Wt({},X),{transform:p||"translate(".concat(v,"px, ").concat(_,"px) rotate(").concat(x,"deg) scale(").concat(A,")")}),onLoad:this.onMediaLoad})):l&&L.createElement("video",Wt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:cd("reactEasyCrop_Video",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",P)},c,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Wt(Wt({},X),{transform:p||"translate(".concat(v,"px, ").concat(_,"px) rotate(").concat(x,"deg) scale(").concat(A,")")}),controls:!1}),(Array.isArray(l)?l:[{src:l}]).map(function(U){return L.createElement("source",Wt({key:U.src},U))})),this.state.cropSize&&L.createElement("div",Wt({ref:this.cropperRef,style:Wt(Wt({},Q),{width:N?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:N?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:cd("reactEasyCrop_CropArea",V==="round"&&"reactEasyCrop_CropAreaRound",k&&"reactEasyCrop_CropAreaGrid",S)},f)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:wB,minZoom:yB,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:vB},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(L.Component);const vo={website:b.createElement(BA,null),custom:b.createElement(_o,null)},EB=["#1a237e","#1976d2","#64b5f6","#81c784","#ffe082","#f06292","#e57373","#263238","#ffffff"],hd=[{label:"JCH Demo",url:"",icon:vo.custom},{label:"My Contact Details",url:"",icon:vo.custom},{label:"Share your details with me",url:"",icon:vo.custom},{label:"Book a Meeting",url:"",icon:vo.custom},{label:"The Smart Business Card",url:"",icon:vo.website},{label:"Media Production",url:"",icon:vo.website}];function bB(t,e){return new Promise((n,r)=>{const s=new window.Image;s.crossOrigin="Anonymous",s.src=t,s.onload=()=>{const a=document.createElement("canvas");a.width=e.width,a.height=e.height,a.getContext("2d").drawImage(s,e.x,e.y,e.width,e.height,0,0,e.width,e.height),n(a.toDataURL("image/png"))},s.onerror=r})}function t2({profile:t,actions:e,cardColor:n,socials:r,user:s={},className:a="",style:l={},containerProps:c={}}){function f(v){v.preventDefault();const x=window.innerWidth<540?"94vw":370;t.phone||t.mobile||t.cell;const A=t.address||"",V=t.linkedin||r.linkedin||"",k=t.email||"";Pe.fire({title:"My Contact Details",html:`
        <div style="text-align:left;font-size:15px;line-height:1.7;max-width:330px;">
          <div style="font-weight:bold;font-size:17px;display:flex;align-items:center;gap:8px;">
            <span style="font-size:17px;vertical-align:middle;margin-right:5px;"></span>
            ${t.name||""}
          </div>
          <div style="margin-top:4px;">${t.jobTitle?t.jobTitle+"  ":""}${t.company||""}</div>
          <div style="margin-top:13px;display:flex;align-items:center;gap:8px;">
          <span style="color:#1769aa;"></span>

            <a href="mailto:${k}" style="color:#1769aa;word-break:break-all;text-decoration:none">${k}</a>
          </div>
          ${t.phone?`
            <div style="margin-top:13px;display:flex;align-items:center;gap:8px;">
              <span style="color:#1769aa;">${FaPhone({size:15}).props.children}</span>
              <a href="tel:${t.phone}" style="color:#1769aa;word-break:break-all;text-decoration:none">${t.phone}</a>
            </div>
          `:""}
          ${A?`
            <div style="margin-top:13px;display:flex;align-items:center;gap:8px;">
              <span style="color:#1769aa;">${jA({size:15}).props.children}</span>
              <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(A)}" style="color:#1769aa;word-break:break-all;text-decoration:none">
                ${A}
              </a>
            </div>
          `:""}
          ${V?`
            <div style="margin-top:13px;display:flex;align-items:center;gap:8px;">
             <span style="font-size:15px;vertical-align:middle;"></span>

              <a href="${V}" target="_blank" style="color:#1769aa;text-decoration:none">
                LinkedIn Profile
              </a>
            </div>
          `:""}
        </div>
      `,showCloseButton:!0,showConfirmButton:!1,width:x,padding:"1.5em"})}function p(v){v.preventDefault(),Pe.fire({title:"Request a Meeting",html:`
      <input type="text" id="swal-meeting-name" class="swal2-input" placeholder="Name (required)" required maxlength="80" />
      <input type="email" id="swal-meeting-email" class="swal2-input" placeholder="Email (required)" required maxlength="100" />
      <textarea id="swal-meeting-message" class="swal2-textarea" rows="4" placeholder="Your proposed time or message"></textarea>
    `,showCloseButton:!0,confirmButtonText:"Send Request",focusConfirm:!1,width:370,preConfirm:()=>{const _=Pe.getPopup().querySelector("#swal-meeting-name").value.trim(),x=Pe.getPopup().querySelector("#swal-meeting-email").value.trim(),A=Pe.getPopup().querySelector("#swal-meeting-message").value.trim();return!_||!x?(Pe.showValidationMessage("Name and email are required"),!1):{name:_,email:x,message:A}}}).then(_=>{_.isConfirmed&&Pe.fire({icon:"success",title:"Request Sent!",text:"Your meeting request has been delivered."})})}function g(v){v.preventDefault();const x=window.innerWidth<540?"94vw":370;let A="",V="",k="",N="";Pe.fire({title:"Share your details with me",html:`
        <form id="share-details-form" style="text-align:left;margin:0;padding:0;">
          <div style="margin-bottom:12px;">
            <input type="text" id="swal-input-name" placeholder="Name (required)" required maxlength="80" 
              style="font-size:15px;width:100%;padding:9px 2px 7px 2px;border:none;border-bottom:2px solid #b6bcd4;outline:none;background:transparent;"/>
          </div>
          <div style="margin-bottom:12px;">
            <input type="email" id="swal-input-email" placeholder="Email (required)" required maxlength="100"
              style="font-size:15px;width:100%;padding:9px 2px 7px 2px;border:none;border-bottom:2px solid #b6bcd4;outline:none;background:transparent;"/>
          </div>
          <div style="margin-bottom:12px;display:flex;align-items:center;">
            <span style="background:#f4f4f4;border-radius:6px;padding:7px 11px 7px 11px;margin-right:6px;border:1px solid #d3d3d3;color:#1366d6;font-weight:500;box-sizing:content-box;font-size:14px;">+27</span>
            <input type="tel" id="swal-input-phone" placeholder="Phone (required)" required maxlength="11"
              style="font-size:15px;flex:1;padding:9px 2px 7px 2px;border:none;border-bottom:2px solid #b6bcd4;outline:none;background:transparent;"/>
          </div>
          <div style="margin-bottom:8px;">
            <textarea id="swal-input-message" rows="3" placeholder="Message (optional)" maxlength="500"
              style="font-size:14px;width:100%;padding:9px 2px 7px 2px;border:none;border-bottom:2px solid #b6bcd4;outline:none;background:transparent;resize:none;"></textarea>
            <div id="swal-char-count" style="font-size:12px;text-align:right;color:#888;margin-top:2px;">500 characters left</div>
          </div>
        </form>
        <div style="font-size: 11px; color: #888; margin-top:6px;line-height:1.5;">
          By submitting, you agree to SB CARDS
          <a href="https://linktr.ee/s/terms/" target="_blank" style="color:#1366d6;text-decoration:underline;">T&Cs</a> and
          <a href="https://linktr.ee/s/privacy/" target="_blank" style="color:#1366d6;text-decoration:underline;">Privacy Notice</a>,
          and to your contact details being shared with <b>${t.name||"DESMOND"}</b>, who may contact you.
        </div>
      `,showCloseButton:!0,confirmButtonText:"Send",focusConfirm:!1,width:x,didOpen:()=>{const F=Pe.getPopup().querySelector("#swal-input-message"),B=Pe.getPopup().querySelector("#swal-char-count");F&&B&&F.addEventListener("input",()=>{const Q=500-F.value.length;B.textContent=Q+" characters left"})},preConfirm:()=>(A=Pe.getPopup().querySelector("#swal-input-name").value.trim(),V=Pe.getPopup().querySelector("#swal-input-email").value.trim(),k=Pe.getPopup().querySelector("#swal-input-phone").value.trim(),N=Pe.getPopup().querySelector("#swal-input-message").value.trim(),!A||!V||!k?(Pe.showValidationMessage("Please fill in all required fields"),!1):{name:A,email:V,phone:"+27"+k,message:N})}).then(F=>{F.isConfirmed&&Pe.fire({icon:"success",title:"Sent!",text:"Your details have been shared."})})}return b.createElement("div",{...c,className:`relative w-full max-w-xs rounded-3xl shadow-2xl px-6 py-8 flex flex-col items-center scrollbar-thin scrollbar-thumb-rounded-lg scrollbar-thumb-blue-200 ${a}`,style:{background:n,color:"#fff",...l},tabIndex:0},b.createElement("div",{className:"w-24 h-24 rounded-full border-4 border-white shadow-xl mb-2 bg-white flex items-center justify-center overflow-hidden flex-shrink-0",style:{width:96,height:96,minWidth:96,minHeight:96,maxWidth:96,maxHeight:96}},t.profilePhoto?b.createElement("img",{src:t.profilePhoto,alt:"Profile",className:"object-cover h-full w-full rounded-full"}):b.createElement(wy,{size:48,className:"text-gray-300"})),b.createElement("div",{className:"text-center mb-3"},b.createElement("div",{className:"font-bold text-2xl text-white"},t.name||""),b.createElement("div",{className:"text-blue-100 text-base"},t.jobTitle),b.createElement("div",{className:"text-blue-200 text-sm"},t.company),b.createElement("div",{className:"text-blue-50 text-xs mt-1"},t.bio)),b.createElement("div",{className:"flex gap-3 mb-3"},r.linkedin&&b.createElement("a",{href:r.linkedin,className:"text-white hover:text-blue-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(E2,{size:22})),r.youtube&&b.createElement("a",{href:r.youtube,className:"text-white hover:text-blue-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(T2,{size:22})),r.email&&b.createElement("a",{href:`mailto:${r.email}`,className:"text-white hover:text-blue-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(C2,{size:22})),r.whatsapp&&b.createElement("a",{href:r.whatsapp,className:"text-white hover:text-green-300",target:"_blank",rel:"noopener noreferrer"},b.createElement(b2,{size:22}))),b.createElement("div",{className:"flex flex-col gap-3 w-full mb-4 mt-2"},(e||[]).map((v,_)=>v.label?.toLowerCase&&v.label.toLowerCase()==="my contact details"||v.label==="My Contact Details"?b.createElement("button",{key:_,className:"w-full flex items-center gap-3 px-5 py-3 rounded-2xl border border-white text-white bg-white/10 font-semibold text-base transition hover:bg-white/20",style:{textDecoration:"none"},onClick:f},v.icon||b.createElement(_o,null),b.createElement("span",{className:"truncate"},v.label||v.url)):v.label?.toLowerCase&&v.label.toLowerCase()==="share your details with me"||v.label==="Share your details with me"?b.createElement("button",{key:_,className:"w-full flex items-center gap-3 px-5 py-3 rounded-2xl border border-white text-white bg-white/10 font-semibold text-base transition hover:bg-white/20",style:{textDecoration:"none"},onClick:g},v.icon||b.createElement(_o,null),b.createElement("span",{className:"truncate"},v.label||v.url)):v.label?.toLowerCase&&v.label.toLowerCase()==="book a meeting"||v.label==="Book a Meeting"?t.calendlyLink&&t.calendlyLink.trim()!==""?b.createElement("a",{key:_,href:t.calendlyLink,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center gap-3 px-5 py-3 rounded-2xl border border-white text-white bg-white/10 font-semibold text-base transition hover:bg-white/20",style:{textDecoration:"none"}},v.icon||b.createElement(_o,null),b.createElement("span",{className:"truncate"},v.label||v.url)):b.createElement("button",{key:_,className:"w-full flex items-center gap-3 px-5 py-3 rounded-2xl border border-white text-white bg-white/10 font-semibold text-base transition hover:bg-white/20",style:{textDecoration:"none"},onClick:p},v.icon||b.createElement(_o,null),b.createElement("span",{className:"truncate"},"Request a Meeting")):b.createElement("a",{key:_,href:v.url||"#",target:v.url?"_blank":void 0,rel:"noopener noreferrer",className:"w-full flex items-center gap-3 px-5 py-3 rounded-2xl border border-white text-white bg-white/10 font-semibold text-base transition hover:bg-white/20",style:{textDecoration:"none"}},v.icon||b.createElement(_o,null),b.createElement("span",{className:"truncate"},v.label||v.url)))),t.buttonLabel&&b.createElement("button",{className:"w-full bg-white text-black font-semibold rounded-2xl py-3 text-lg mt-3 shadow hover:bg-gray-100 transition"},t.buttonLabel))}function n2(){const[t,e]=L.useState(!1),[n,r]=L.useState(window.innerWidth<=1024),s=L.useRef(null),a=L.useRef(null),{cardId:l}=VP(),c=l&&l!=="new",[f,p]=L.useState(null);L.useEffect(()=>{async function J(){if(!l||l==="new"){x({name:"",company:"",jobTitle:"",bio:"",buttonLabel:"",profilePhoto:"",linkedin:"",email:"",whatsapp:"",youtube:"",calendlyLink:""}),N("#1a237e"),V([...hd]),v("");return}try{const ce=await Mo(zn(cn,"cards",l));if(ce.exists()){const he=ce.data();x({name:he.name||"",company:he.company||"",jobTitle:he.jobTitle||"",bio:he.bio||"",buttonLabel:he.buttonLabel||"",profilePhoto:he.profilePhoto||"",linkedin:he.linkedin||"",email:he.email||"",whatsapp:he.whatsapp||"",calendlyLink:he.calendlyLink||"",youtube:he.youtube||""}),N(he.cardColor||"#1a237e"),V(Array.isArray(he.actions)&&he.actions.length>0?he.actions:[...hd]),v(he.cardName||""),p(he.createdAt||null)}}catch{}}J()},[l]),L.useEffect(()=>{const J=()=>r(window.innerWidth<=1024);return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const[g,v]=L.useState(""),[_,x]=L.useState({name:"",company:"",jobTitle:"",bio:"",buttonLabel:"",profilePhoto:"",linkedin:"",email:"",whatsapp:"",youtube:"",calendlyLink:""}),[A,V]=L.useState([...hd]),[k,N]=L.useState("#1a237e"),[F,B]=L.useState(!1),[Q,X]=L.useState(null),[re,M]=L.useState({x:0,y:0}),[S,P]=L.useState(1),[D,U]=L.useState(null),[z,I]=L.useState(!1);L.useEffect(()=>{const J=Ot.onAuthStateChanged(async ce=>{if(!ce)return;const he=zn(cn,"users",ce.uid),Le=await Mo(he);if(Le.exists()){const Ee=Le.data();c||(x(Me=>({...Me,name:Ee.name||"",company:Ee.company||"",jobTitle:Ee.jobTitle||"",bio:Ee.bio||"",buttonLabel:Ee.buttonLabel||"",profilePhoto:Ee.profilePhoto||"",linkedin:Ee.linkedin||"",email:Ee.email||"",whatsapp:Ee.whatsapp||"",youtube:Ee.youtube||"",calendlyLink:Ee.calendlyLink||""})),N(Ee.cardColor||"#1a237e"),V(Array.isArray(Ee.actions)&&Ee.actions.length>0?Ee.actions:[...hd]))}});return()=>J()},[c]);const Ae=(J,ce)=>x(he=>({...he,[J]:ce})),Ge=(J,ce,he)=>V(Le=>Le.map((Ee,Me)=>Me===J?{...Ee,[ce]:he}:Ee)),Be=J=>V(ce=>ce.filter((he,Le)=>Le!==J)),Ce=()=>V(J=>[...J,{label:"",url:"",icon:vo.custom}]),oe={linkedin:_.linkedin,email:_.email,whatsapp:_.whatsapp,youtube:_.youtube};function ye(J){if(J.target.files&&J.target.files[0]){const ce=URL.createObjectURL(J.target.files[0]);X(ce),B(!0)}}const ue=L.useCallback((J,ce)=>U(ce),[]);async function $(){if(!Q||!D){B(!1),X(null);return}const J=await bB(Q,D);try{const ce=bC(),Le=`profilePhotos/${Ot.currentUser?.uid||"anonymous"}_${Date.now()}.png`,Ee=EC(ce,Le);await d5(Ee,J,"data_url");const Me=await _C(Ee);x(Xe=>({...Xe,profilePhoto:Me}))}catch(ce){Pe.fire({icon:"error",title:"Photo Upload Failed",text:ce.message})}X(null),B(!1)}async function ee(){const J=Ot.currentUser;if(!J)return alert("Not logged in.");if(!g.trim()){Pe.fire({icon:"warning",title:"Please enter a Card Name!"});return}try{const ce={cardName:g,..._,actions:A.map(he=>({label:he.label,url:he.url,iconType:he.iconType||"custom"})),cardColor:k,userId:J.uid,updatedAt:Vm()};try{c?(await Vf(zn(cn,"cards",l),{...ce,createdAt:f||Vm()},{merge:!0}),console.log("Calling Swal for update"),Pe.fire({icon:"success",title:"Card Updated!",text:"Your card changes were saved."})):(await rV(Qd(cn,"cards"),{...ce,createdAt:Vm()}),console.log("Calling Swal for create"),Pe.fire({icon:"success",title:"Card Created!",text:"Your card was created and saved successfully."}))}catch(he){console.error("ERROR SAVING:",he),Pe.fire({icon:"error",title:c?"Error Updating Card":"Error Creating Card",text:he.message})}}catch(ce){Pe.fire({icon:"error",title:c?"Error Updating Card":"Error Creating Card",text:ce.message})}}return b.createElement("div",{className:"min-h-screen bg-gray-100 relative overflow-x-hidden"},(!n||t)&&b.createElement("aside",{className:`fixed top-0 left-0 z-40 bg-white shadow-lg ${n?"w-72 h-full":"w-64 h-screen"} transition-transform`},b.createElement(yS,{open:!0,onClose:()=>e(!1),user:_,loadingUser:!1,activeKey:"card-editor"})),n&&t&&b.createElement("div",{className:"fixed inset-0 z-30 bg-black/30",onClick:()=>e(!1)}),n&&!t&&b.createElement("button",{className:"fixed top-4 left-4 z-50 p-2 rounded-md bg-white border border-gray-300 shadow","aria-label":"Open menu",onClick:()=>e(!0)},b.createElement(x2,null)),n&&b.createElement("button",{className:"fixed top-4 right-5 z-50 bg-blue-700 hover:bg-blue-800 text-white p-3 rounded-full shadow-lg flex items-center justify-center transition",style:{boxShadow:"0 2px 18px 0 rgba(60,60,90,0.13)"},onClick:()=>I(!0),"aria-label":"Preview Card"},b.createElement(S2,{size:22})),b.createElement("main",{className:`${n?"":"lg:ml-64"} transition-all`},b.createElement("div",{className:"flex flex-col lg:flex-row w-full max-w-screen"},!n&&b.createElement("div",{className:"lg:w-1/2 min-h-screen bg-gray-50 flex items-start justify-center"},b.createElement("div",{ref:s,className:"flex flex-col items-center w-full",style:{marginTop:"3rem",maxHeight:"calc(100vh - 3rem)",overflowY:"auto"}},b.createElement(t2,{profile:_,actions:A,cardColor:k,socials:oe,style:{margin:"auto"}}))),b.createElement("section",{ref:a,className:"w-full lg:w-1/2 min-h-screen bg-white border-l px-4 sm:px-8 py-12 overflow-y-auto",style:{maxHeight:"100vh",overflowY:"auto"}},b.createElement("h1",{className:"text-2xl font-bold mb-4 text-center"},"Create Your Digital Business Card"),b.createElement("input",{className:"w-full border-b-2 border-blue-300 py-3 px-2 rounded text-xl font-semibold mb-5 text-center focus:outline-none",value:g,onChange:J=>v(J.target.value),placeholder:"Card Name",maxLength:50}),b.createElement("div",{className:"flex flex-col items-center"},b.createElement("label",{htmlFor:"profilePhoto",className:"cursor-pointer"},b.createElement("div",{className:"w-24 h-24 rounded-full border-4 border-blue-300 shadow flex items-center justify-center overflow-hidden bg-gray-100 mb-1 flex-shrink-0",style:{width:96,height:96,minWidth:96,minHeight:96,maxWidth:96,maxHeight:96}},_.profilePhoto?b.createElement("img",{src:_.profilePhoto,alt:"Profile",className:"object-cover h-full w-full rounded-full"}):b.createElement(wy,{size:36,className:"text-gray-300"}))),b.createElement("input",{id:"profilePhoto",type:"file",accept:"image/*",className:"hidden",onChange:ye}),b.createElement("span",{className:"text-xs text-gray-400 mb-4"},"Click avatar to upload")),F&&b.createElement("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4"},b.createElement("div",{className:"bg-white rounded-2xl p-4 w-full max-w-sm flex flex-col items-center"},b.createElement("div",{className:"relative w-full flex justify-center items-center",style:{height:250}},b.createElement(_B,{image:Q,crop:re,zoom:S,aspect:1,cropShape:"round",showGrid:!1,onCropChange:M,onZoomChange:P,onCropComplete:ue})),b.createElement("div",{className:"flex justify-between gap-3 mt-4 w-full"},b.createElement("button",{className:"flex-1 px-4 py-2 rounded bg-gray-200",onClick:()=>{B(!1),X(null)}},"Cancel"),b.createElement("button",{className:"flex-1 px-4 py-2 rounded bg-blue-600 text-white",onClick:$},"Select")))),b.createElement("div",{className:"grid grid-cols-1 gap-3 mt-2"},b.createElement("input",{className:"w-full text-center font-bold text-xl bg-transparent focus:outline-none border-b-2 border-blue-100 py-2 placeholder-gray-500",value:_.name,onChange:J=>Ae("name",J.target.value),placeholder:"Full Name",maxLength:38}),b.createElement("input",{className:"w-full text-center text-base bg-transparent focus:outline-none border-b border-blue-100 py-2 placeholder-gray-400",value:_.jobTitle,onChange:J=>Ae("jobTitle",J.target.value),placeholder:"Job Title",maxLength:44}),b.createElement("input",{className:"w-full text-center text-sm bg-transparent focus:outline-none border-b border-blue-100 py-2 placeholder-gray-400",value:_.company,onChange:J=>Ae("company",J.target.value),placeholder:"Company",maxLength:44}),b.createElement("textarea",{className:"w-full text-center text-sm bg-transparent focus:outline-none border-b border-blue-100 py-2 placeholder-gray-400 resize-none",rows:2,maxLength:110,value:_.bio,onChange:J=>Ae("bio",J.target.value),placeholder:"Short bio"})),b.createElement("div",{className:"w-full flex flex-col items-center mt-5 mb-4"},b.createElement("label",{className:"text-xs font-semibold mb-2 flex items-center gap-2"},b.createElement(zA,null)," Card Color"),b.createElement("div",{className:"flex gap-2 flex-wrap justify-center"},EB.map((J,ce)=>b.createElement("button",{key:ce,className:`w-8 h-8 rounded-full border-2 ${k===J?"border-black":"border-gray-200"}`,style:{background:J},onClick:()=>N(J),"aria-label":J,type:"button"})),b.createElement("input",{type:"color",value:k,onChange:J=>N(J.target.value),className:"w-8 h-8 border border-gray-400 rounded-full ml-2","aria-label":"Custom color"}))),b.createElement("div",{className:"w-full"},b.createElement("h3",{className:"font-semibold text-center mb-2"},"Links & Actions"),A.map((J,ce)=>b.createElement("div",{key:ce,className:"mb-4"},b.createElement("label",{className:"block text-xs font-semibold mb-1",htmlFor:`label-input-${ce}`},"Button Label"),b.createElement("input",{id:`label-input-${ce}`,className:"w-full border-b border-blue-100 px-3 py-2 outline-none mb-2",value:J.label,onChange:he=>Ge(ce,"label",he.target.value),placeholder:"Button Label",autoComplete:"off",maxLength:44}),b.createElement("label",{className:"block text-xs font-semibold mb-1",htmlFor:`url-input-${ce}`},"Link"),b.createElement("div",{className:"flex items-center gap-2"},b.createElement("input",{id:`url-input-${ce}`,className:"flex-1 border-b border-blue-100 px-3 py-2 outline-none overflow-x-auto whitespace-nowrap scrollbar-thin",style:{minWidth:0,WebkitOverflowScrolling:"touch"},value:J.url,onChange:he=>Ge(ce,"url",he.target.value),placeholder:"Link (optional)",autoComplete:"off",maxLength:400}),b.createElement("button",{className:"border border-gray-200 bg-red-100 rounded px-3 py-2 text-red-600 flex-shrink-0",onClick:()=>Be(ce),type:"button","aria-label":"Remove"},b.createElement(k2,null))))),b.createElement("button",{className:"mt-1 w-full rounded-2xl bg-blue-600 text-white font-bold py-2 hover:bg-blue-700 transition",type:"button",onClick:Ce},"Add Action")),b.createElement("div",{className:"w-full flex flex-col gap-2 mb-6 mt-6"},b.createElement("input",{className:"w-full border-b border-blue-100 py-2 outline-none text-center",value:_.linkedin,placeholder:"LinkedIn Profile URL",onChange:J=>Ae("linkedin",J.target.value)}),b.createElement("input",{className:"w-full border-b border-blue-100 py-2 outline-none text-center",value:_.youtube,placeholder:"YouTube Channel URL",onChange:J=>Ae("youtube",J.target.value)}),b.createElement("input",{className:"w-full border-b border-blue-100 py-2 outline-none text-center",value:_.email,placeholder:"Email",onChange:J=>Ae("email",J.target.value),type:"email"}),b.createElement("input",{className:"w-full border-b border-blue-100 py-2 outline-none text-center",value:_.whatsapp,placeholder:"WhatsApp Link (https://wa.me/)",onChange:J=>Ae("whatsapp",J.target.value)}),b.createElement("input",{type:"url",className:"w-full border-b border-blue-100 py-2 outline-none text-center",value:_.calendlyLink||"",placeholder:"Calendly Link (optional)",onChange:J=>Ae("calendlyLink",J.target.value)})),b.createElement("input",{className:"w-full border-b border-blue-100 py-2 mt-6 mb-4 text-base font-semibold bg-transparent focus:outline-none placeholder-gray-400 text-center",value:_.buttonLabel,onChange:J=>Ae("buttonLabel",J.target.value),placeholder:"Button label (e.g. Connect with me)"}),b.createElement("button",{className:"w-full bg-black text-white py-3 rounded-2xl font-bold text-lg hover:bg-gray-900 transition shadow",onClick:ee,disabled:F},"Save Card")))),n&&z&&b.createElement("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center",onClick:()=>I(!1)},b.createElement("div",{className:"relative w-full max-w-xs max-h-[90vh] overflow-y-auto scrollbar-thin",onClick:J=>J.stopPropagation()},b.createElement("button",{className:"fixed top-4 right-5 text-white text-3xl z-10",onClick:()=>I(!1),style:{background:"rgba(0,0,0,0.05)",borderRadius:"50%",padding:"2px"}},b.createElement(WA,null)),b.createElement(t2,{profile:_,actions:A,cardColor:k,socials:oe,className:"max-h-[85vh] overflow-y-auto",style:{position:"relative"}}))))}function TB(){return b.createElement(vA,null,b.createElement(QP,null,b.createElement(xr,{path:"/",element:b.createElement(v1,null)})," ",b.createElement(xr,{path:"/login",element:b.createElement(v1,null)}),b.createElement(xr,{path:"/register",element:b.createElement(a9,null)}),b.createElement(xr,{path:"/dashboard",element:b.createElement(G7,null)}),b.createElement(xr,{path:"/NotificationsPage",element:b.createElement(J7,null)}),b.createElement(xr,{path:"/LinkSettingsPage",element:b.createElement(X7,null)}),b.createElement(xr,{path:"/ProfileSettingsPage",element:b.createElement(Q7,null)}),b.createElement(xr,{path:"/forgot-password",element:b.createElement(Y7,null)}),b.createElement(xr,{path:"/DigitalCardEditor",element:b.createElement(n2,null)}),b.createElement(xr,{path:"/DigitalCardEditor/:cardId",element:b.createElement(n2,null)})))}sP.createRoot(document.getElementById("root")).render(b.createElement(b.StrictMode,null,b.createElement(TB,null)));
